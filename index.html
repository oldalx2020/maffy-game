<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>gmsmaekmgtkigmjiorgkoekotnhhrhr</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #00c3ff26;
    }
    .control-button.active {
      background: #00c3ff59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#007AF4;stroke:#003080;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    <h1 class="loading-text">Loading! I xibuxkoax and i help make this!</h1>
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "preserve-ratio";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#00c3ff");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@gmsmaekmgtkigmjiorgkoekotnhhrhr.pmp"));
      } catch (error) {
        console.error(error);
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(60);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: true,
        miscLimits: true,
        maxClones: 300,
        dangerousOptimizations: false
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Popup%20Phoenix%0A%2F%2F%20ID%3A%20SPpopups%0A%2F%2F%20Description%3A%20Create%20custom%20Popups.%20Inspired%20by%20'Better%20Input'.%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.1.0.01%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Popup%20Phoenix%20must%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4Ny41MzIiIGhlaWdodD0iODcuNTMyIiB2aWV3Qm94PSIwIDAgODcuNTMyIDg3LjUzMiI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiPjxwYXRoIGQ9Ik0uMDAxIDQzLjc2N0MuMDAxIDE5LjU5NSAxOS41OTQuMDAxIDQzLjc2Ni4wMDFzNDMuNzY2IDE5LjU5NCA0My43NjYgNDMuNzY2LTE5LjU5NCA0My43NjYtNDMuNzY2IDQzLjc2NlMwIDY3LjkzOSAwIDQzLjc2NyIgZmlsbD0iIzgyMTliZiIvPjxwYXRoIGQ9Ik01LjE2NSA0My43NjdjMC0yMS4zMiAxNy4yODItMzguNjAyIDM4LjYwMi0zOC42MDJzMzguNjAyIDE3LjI4MiAzOC42MDIgMzguNjAyLTE3LjI4MiAzOC42MDItMzguNjAyIDM4LjYwMlM1LjE2NSA2NS4wODcgNS4xNjUgNDMuNzY3IiBmaWxsPSIjYTgxMmZmIi8%2BPHBhdGggZD0ibTQwLjM5NyA1OC4wODctMy44NS42MDctLjE4MSA0Ljg3LTMuMTYgMS44MjUtMS40NDQtNi4yMS00LjEzOS0yLjU1NiAxLjkwNC0zLjMzNCA0LjQ3NiAyLjAwOCA0LjQ3NS0xLjQ0MS0zLjM4NC00LjUyNi0yLjY4OSAyLjAwMS00LjkyNy0uODc0IDIuNDY1LTMuNTktOC40NjUgMi4yOTItMi41NTYtNC4wNDUgOC4wNi0xLjgyOC0xMC4wNjgtLjc2My0xLjg0Ni01LjQ1MSAxMC4yOTEgMS4yMjctMTAuMzYtMy45OC45Ny02Ljc3OCA5LjQ4MyA1LjkzNC04LjA3NS05Ljc0NSAzLjI5Ni01LjM1NiAxMi40MjYgMTQuODA4LS4zNzQgNy41OCA1LjMzOSAxLjAyMSA1LjM2NS0xMS4xOTggOC4wMDMgMS41ODQtLjI5IDQuMzk3LTIuODk5LTEuMDM1LS4yMzMgMy43MSAxLjgzNSAyLjU0MiA0Ljc1Ny0xLjEtLjE2Mi02LjY5NCA3LjAyMy03LjY2OCA1LjI5Ny03LjQwOCAzLjI3MiAzLjkzNS03LjgxMSAxMS4yNDcgOS4xNzUtNy4wNi4xODggNy40MzMtOS40MDEgNC4yNTEgMTAuMzUtMS41My0xLjYyMSA2LjAzLTEwLjEzMy4xNDkgOS4xMTUgMS41Ni0zLjkwNyA0Ljc0OC04LjktMi45MTYgMi4zNDggMy4zODctNC43MDMgMS41Mi0yLjI4LTIuMjIzLTMuNjc5IDQuOTU0IDQuMTQ3LjcwMiA1LjEwNy0yLjMgMS41NjUgMy44NC00LjMyMyAyLS45NzEgNi41MzgtMy41ODgtMS4xMzMuMDM5LTUuMDY1LTMuOTM3LS42MzMuNDMgMi43MDMgNC4zIDYuNTI4LTIuODMyIDMuMzQtMi45NzMtMy4wMjMuNzUgNS4zNy0zLjE5NyAyLjg5NC0yLjk0LTIuOTYuNTI2LTUuMjk3LTIuNzggMy4xNTUtMi41NjQtMy42NCA0LjM2OS02LjU2NHoiIGZpbGw9IiNmZmYiLz48L2c%2BPC9zdmc%2B%22%3B%0A%20%20const%20getBlockIcon%20%3D%20(name)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20lower%20file%20size%20moment%0A%20%20%20%20const%20start%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI%22%3B%0A%20%20%20%20return%20start%20%2B%20%7B%0A%20%20%20%20%20%20main%3A%20%223OS4xOTkiIGhlaWdodD0iODcuOTIyIiB2aWV3Qm94PSIwIDAgNzkuMTk5IDg3LjkyMiI%2BPHBhdGggZD0ibTI1LjkwMSA2NS41MDctNS4yNTUtLjA4Yy0xMS4wMy0uMDgtMTEuNzA3LS4wOC0xMi44ODktLjU5OC0uMzctLjE1Mi0yLjc1OC0yLjQyOS0yLjc1OC0yLjQyOVYyNS40NzdzMi4wODMtMi4xNSAyLjc1OC0yLjQzYzEuMTI2LS40NzggMS44NTgtLjUxOCAxMi44OS0uNTk3bDUuMjUzLS4wOHoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxMCIgb3BhY2l0eT0iLjI1Ii8%2BPHBhdGggZD0iTTMwLjQ2OSA2NS41MDdzLTIxLjUzLS4xNi0yMi43MS0uNjc3Yy0uNjc3LS4yOC0yLjc2LTIuNDMtMi43Ni0yLjQzVjI1LjQ3OHMyLjA4My0yLjE1MSAyLjc1OC0yLjQzYzEuMTI3LS40NzggMjIuNzEyLS42NzcgMjIuNzEyLS42Nzd6IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0ibTUzLjYyOCAyMi4zNyA0LjkyMy4wOGMxMS4wMzEuMDggMTEuNzYzLjEyIDEyLjg5LjU5OC42NzQuMjc5IDIuNzU3IDIuNDMgMi43NTcgMi40M3YzNi45MjNzLTIuMDgzIDIuMTUtMi43NTggMi40MjljLTEuMTgyLjUxOC0xLjg1OC41MTgtMTIuODg5LjU5OGwtNC45MjMuMDh6IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMTAiIG9wYWNpdHk9Ii4yNSIvPjxwYXRoIGQ9Ik00OC44OTUgMjIuMzdzMjEuNTg1LjIgMjIuNzEuNjc4Yy42NzYuMjc5IDIuNzU5IDIuNDMgMi43NTkgMi40M3YzNi45MjNzLTIuMDgzIDIuMTUtMi43NTggMi40MjljLTEuMTgyLjUxOC0yMi43MTEuNjc3LTIyLjcxMS42Nzd6IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0ibTI5LjI3OCA1LjAwNSAxMC44MzIuMDRjMTAuNTE2LjA4IDEwLjgzNC4xMiAxMS41MTEuNTk2IDIuNDMgMS44NzIgMi4zOSA0Ljk0LS4xNTkgNi42NTItLjc1Ny41MTgtMS4xMTUuNTU3LTQuMzQuNTU3aC0zLjUwNnY2Mi4xNzZoMy40NjVjMy45NDMgMCA0LjkuMzE4IDUuODE1IDEuOTUxIDEuMDM2IDEuODMzLjUxOCAzLjk0NC0xLjI3NSA1LjI1OC0uNjc3LjUxOC0uOTk1LjUxOC0xMS41MS41OThsLTEwLjgzNC4wOC0xLjExNi0uNTU4Yy0xLjE1NS0uNjM4LTIuMTktMi4xNS0yLjE5LTMuMzg2IDAtLjg3NS45OTUtMi42NjggMS43OTItMy4yNjUuNTk3LS40NzggMS4xMTUtLjUxOCA0LjM0Mi0uNTk4bDMuNjY0LS4wOFYxMi44OWwtMy42NjQtLjA4Yy0zLjIyNy0uMDgtMy43NDUtLjExOS00LjM0Mi0uNTk3LS43OTctLjU1OC0xLjc5Mi0yLjM1LTEuNzkyLTMuMjY2IDAtMS4yMzUuOTk1LTIuNzg4IDIuMTktMy4zODZ6IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMTAiIG9wYWNpdHk9Ii4yNSIvPjxwYXRoIGQ9Im0yOS4yNzggNS4wMDUgMTAuODMyLjA0YzEwLjUxNi4wOCAxMC44MzQuMTIgMTEuNTExLjU5NiAyLjQzIDEuODcyIDIuMzkgNC45NC0uMTU5IDYuNjUyLS43NTcuNTE4LTEuMTE1LjU1Ny00LjM0LjU1N2gtMy41MDZ2NjIuMTc2aDMuNDY1YzMuOTQzIDAgNC45LjMxOCA1LjgxNSAxLjk1MSAxLjAzNiAxLjgzMy41MTggMy45NDQtMS4yNzUgNS4yNTgtLjY3Ny41MTgtLjk5NS41MTgtMTEuNTEuNTk4bC0xMC44MzQuMDgtMS4xMTYtLjU1OGMtMS4xNTUtLjYzOC0yLjE5LTIuMTUtMi4xOS0zLjM4NiAwLS44NzUuOTk1LTIuNjY4IDEuNzkyLTMuMjY1LjU5Ny0uNDc4IDEuMTE1LS41MTggNC4zNDItLjU5OGwzLjY2NC0uMDhWMTIuODlsLTMuNjY0LS4wOGMtMy4yMjctLjA4LTMuNzQ1LS4xMTktNC4zNDItLjU5Ny0uNzk3LS41NTgtMS43OTItMi4zNS0xLjc5Mi0zLjI2NiAwLTEuMjM1Ljk5NS0yLjc4OCAyLjE5LTMuMzg2eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%22%2C%0A%20%20%20%20%20%20color%3A%20%223NS41MzUiIGhlaWdodD0iNzEuNDk3IiB2aWV3Qm94PSIwIDAgNzUuNTM1IDcxLjQ5NyI%2BPHBhdGggZD0iTTIxLjMwNyAyMS40NjJDMjEuMzA3IDEyLjM3IDI4LjY3NyA1IDM3Ljc2OCA1czE2LjQ2MSA3LjM3IDE2LjQ2MSAxNi40NjItNy4zNyAxNi40NjEtMTYuNDYxIDE2LjQ2MS0xNi40NjEtNy4zNy0xNi40NjEtMTYuNDYxeiIgc3Ryb2tlPSIjMDAwIiBvcGFjaXR5PSIuMjUiIHN0cm9rZS13aWR0aD0iMTAiLz48cGF0aCBkPSJNNSA1MC4wMzZjMC05LjA5MSA3LjM3LTE2LjQ2MSAxNi40NjItMTYuNDYxczE2LjQ2MSA3LjM3IDE2LjQ2MSAxNi40NjFjMCA5LjA5Mi03LjM3IDE2LjQ2Mi0xNi40NjEgMTYuNDYyQzEyLjM3IDY2LjQ5OCA1IDU5LjEyOCA1IDUwLjAzNnoiIHN0cm9rZT0iIzAwMCIgb3BhY2l0eT0iLjI1IiBzdHJva2Utd2lkdGg9IjEwIi8%2BPHBhdGggZD0iTTM3LjYxMyA1MC4wMzZjMC05LjA5MSA3LjM3LTE2LjQ2MSAxNi40NjEtMTYuNDYxIDkuMDkyIDAgMTYuNDYyIDcuMzcgMTYuNDYyIDE2LjQ2MSAwIDkuMDkyLTcuMzcgMTYuNDYyLTE2LjQ2MiAxNi40NjJzLTE2LjQ2MS03LjM3LTE2LjQ2MS0xNi40NjJ6IiBzdHJva2U9IiMwMDAiIG9wYWNpdHk9Ii4yNSIgc3Ryb2tlLXdpZHRoPSIxMCIvPjxwYXRoIGQ9Ik0yMS4zMDcgMjEuNDYyQzIxLjMwNyAxMi4zNyAyOC42NzcgNSAzNy43NjggNXMxNi40NjEgNy4zNyAxNi40NjEgMTYuNDYyLTcuMzcgMTYuNDYxLTE2LjQ2MSAxNi40NjEtMTYuNDYxLTcuMzctMTYuNDYxLTE2LjQ2MSIgZmlsbD0iIzBmMCIvPjxwYXRoIGQ9Ik01IDUwLjAzNmMwLTkuMDkxIDcuMzctMTYuNDYxIDE2LjQ2Mi0xNi40NjFzMTYuNDYxIDcuMzcgMTYuNDYxIDE2LjQ2MWMwIDkuMDkyLTcuMzcgMTYuNDYyLTE2LjQ2MSAxNi40NjJDMTIuMzcgNjYuNDk4IDUgNTkuMTI4IDUgNTAuMDM2IiBmaWxsPSJyZWQiLz48cGF0aCBkPSJNMzcuNjEzIDUwLjAzNmMwLTkuMDkxIDcuMzctMTYuNDYxIDE2LjQ2MS0xNi40NjEgOS4wOTIgMCAxNi40NjIgNy4zNyAxNi40NjIgMTYuNDYxIDAgOS4wOTItNy4zNyAxNi40NjItMTYuNDYyIDE2LjQ2MnMtMTYuNDYxLTcuMzctMTYuNDYxLTE2LjQ2MiIgZmlsbD0iIzAwZiIvPjwvc3ZnPg%3D%3D%22%2C%0A%20%20%20%20%20%20effect%3A%20%221Ny40NDIiIGhlaWdodD0iNzAuNDUiIHZpZXdCb3g9IjAgMCA1Ny40NDIgNzAuNDUiPjxwYXRoIGQ9Ik01IDQ5LjA0N2MtMy45ODgtOC4xMTctMy45OTYtMTguMjQzLjE1My0yNi40MUM5Ljg0IDEzLjA2MiAxNy43MyA4LjgxOCAyMC45IDcuNDM4YTMxLjQgMzEuNCAwIDAgMSA2LjA3Ni0yLjA4M2wyLjEyLS40NTdjMS41NTgtLjMyIDMuMTEuNjQ2IDMuNDQ3IDIuMTg3LjM0IDEuNTQ1LS42NTEgMy4wNjYtMi4yMTYgMy40MDJsLTIuMDYzLjQ0NWEyNS40IDI1LjQgMCAwIDAtNC45NiAxLjcxNmMtMi4wODMuOTAyLTguOTc0IDQuMzkyLTEyLjk0OSAxMi41MTUtMy4wMTcgNS45MzMtMy45MTcgMTUuMzY2LjgzMiAyMy4xNSA0LjMwMyA3LjQ5OCAxMy4xMTIgMTIuMDk1IDIxLjQ2OCAxMS4zMjEgNy45MDMtLjU2OCAxNS4xNTUtNS44MjggMTcuNjk4LTEyLjc5NSAyLjU4MS02LjU1Mi44NjYtMTMuMjY5LTEuOTY3LTE3LjA1Mi0zLjQxMy00LjY2LTcuNjYtNi4wOTQtOS4zMjgtNi40OTUtLjI0OS0uMDc0LTYuMDg1LTEuODI3LTExLjI0Ljc1NC0yLjIyIDEuMDY0LTUuMDkgMy40NTYtNi42MjggNy4wNS0xLjY2IDMuNzEyLTEuMjMgOC40ODQgMS4wMiAxMS42NTUgMi4yNjMgMy4zOTkgNi41MzIgNS4zMjMgMTAuMjAzIDQuNjcgMy42NTUtLjU3NSA2LjEyNy0zLjI5NCA2LjcxMy01LjY4My42ODktMi41NjgtLjM2OC00LjczOS0xLjE5My01LjUyLTEuNDAxLTEuMzgzLTIuNjExLTEuNDA2LTIuNjYzLTEuNDFhNSA1IDAgMCAwLTEuMDI2LjA1NGMtLjY1NC4yNC0xLjU4Mi43NjQtMS44NTQgMS4zMTYtLjA0OC4wOS0uMTcuMzQuMDY0Ljk2My41NjMgMS40NzctLjE5NyAzLjEzLTEuNjk0IDMuNjg1LTEuNDkuNTU4LTMuMTY3LS4xOTItMy43MzMtMS42NzMtLjkzMS0yLjQ1LS40MTYtNC4zNjguMTgtNS41NDYgMS41NTgtMy4wNjYgNS4xNzYtNC4xNzYgNS41ODUtNC4yOTQuMTg3LS4wNTcuMzg1LS4wOTEuNTgtLjEwOC4zOTgtLjA2IDEuMS0uMTU1IDIuMDUyLS4xMTggMi4xNzguMDI3IDQuNjYgMS4xNjUgNi41NjMgMy4wNDYgMi4yNDYgMi4xMiA0LjAwNiA2LjM4IDIuNzU4IDExLjAxMS0xLjIxNyA0Ljk1Ny01Ljg5NSA5LjA1Ni0xMS4zNTMgOS45MTQtNS44NyAxLjA0Ny0xMi40ODItMS44NDctMTUuOTczLTcuMDk0LTMuMzY1LTQuNzI4LTQuMDA5LTExLjY0Ny0xLjU0OC0xNy4xMzYgMi43LTYuMzIgNy44NTktOS4xOCA5LjM3My05LjkwNyA3LjI3OS0zLjYzNSAxNS4wNTktMS4yMzUgMTUuMzg2LTEuMTM0IDIuMDkzLjQ5NCA3LjkxMyAyLjQ0MyAxMi40MzcgOC42MjUgMy40NzcgNC42NSA2LjI5NyAxMy4zMzcgMi43MTQgMjIuNDMtMy4yNzMgOC45NjItMTIuNTkgMTUuNzctMjIuNjM4IDE2LjQ5My0uNzg4LjA3NC0xLjU4NS4xMTUtMi4zOC4xMTUtOS43NSAwLTE5LjYyNy01LjYyLTI0LjU4LTE0LjI1IDAgMC0uODIxLTEuNDE4LTEuMTgzLTIuMTUzeiIgc3Ryb2tlPSIjMDAwIiBvcGFjaXR5PSIuMjUiIHN0cm9rZS13aWR0aD0iMTAiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi4xODIgNTEuMjAxYy01LjEzNC04LjQyLTUuNTUzLTE5LjY1Ny0xLjAzLTI4LjU2NUM5Ljg0IDEzLjA2MiAxNy43MyA4LjgxOCAyMC45IDcuNDM4YTMxLjQgMzEuNCAwIDAgMSA2LjA3Ni0yLjA4M2wyLjEyLS40NTdjMS41NTgtLjMyIDMuMTEuNjQ2IDMuNDQ3IDIuMTg3LjM0IDEuNTQ1LS42NTEgMy4wNjYtMi4yMTYgMy40MDJsLTIuMDYzLjQ0NWEyNS40IDI1LjQgMCAwIDAtNC45NiAxLjcxNmMtMi4wODMuOTAyLTguOTc0IDQuMzkyLTEyLjk0OSAxMi41MTUtMy4wMTcgNS45MzMtMy45MTcgMTUuMzY2LjgzMiAyMy4xNSA0LjMwMyA3LjQ5OCAxMy4xMTIgMTIuMDk1IDIxLjQ2OCAxMS4zMjEgNy45MDMtLjU2OCAxNS4xNTUtNS44MjggMTcuNjk4LTEyLjc5NSAyLjU4MS02LjU1Mi44NjYtMTMuMjY5LTEuOTY3LTE3LjA1Mi0zLjQxMy00LjY2LTcuNjYtNi4wOTQtOS4zMjgtNi40OTUtLjI0OS0uMDc0LTYuMDg1LTEuODI3LTExLjI0Ljc1NC0yLjIyIDEuMDY0LTUuMDkgMy40NTYtNi42MjggNy4wNS0xLjY2IDMuNzEyLTEuMjMgOC40ODQgMS4wMiAxMS42NTUgMi4yNjMgMy4zOTkgNi41MzIgNS4zMjMgMTAuMjAzIDQuNjcgMy42NTUtLjU3NSA2LjEyNy0zLjI5NCA2LjcxMy01LjY4My42ODktMi41NjgtLjM2OC00LjczOS0xLjE5My01LjUyLTEuNDAxLTEuMzgzLTIuNjExLTEuNDA2LTIuNjYzLTEuNDFhNSA1IDAgMCAwLTEuMDI2LjA1NGMtLjY1NC4yNC0xLjU4Mi43NjQtMS44NTQgMS4zMTYtLjA0OC4wOS0uMTcuMzQuMDY0Ljk2My41NjMgMS40NzctLjE5NyAzLjEzLTEuNjk0IDMuNjg1LTEuNDkuNTU4LTMuMTY3LS4xOTItMy43MzMtMS42NzMtLjkzMS0yLjQ1LS40MTYtNC4zNjguMTgtNS41NDYgMS41NTgtMy4wNjYgNS4xNzYtNC4xNzYgNS41ODUtNC4yOTQuMTg3LS4wNTcuMzg1LS4wOTEuNTgtLjEwOC4zOTgtLjA2IDEuMS0uMTU1IDIuMDUyLS4xMTggMi4xNzguMDI3IDQuNjYgMS4xNjUgNi41NjMgMy4wNDYgMi4yNDYgMi4xMiA0LjAwNiA2LjM4IDIuNzU4IDExLjAxMS0xLjIxNyA0Ljk1Ny01Ljg5NSA5LjA1Ni0xMS4zNTMgOS45MTQtNS44NyAxLjA0Ny0xMi40ODItMS44NDctMTUuOTczLTcuMDk0LTMuMzY1LTQuNzI4LTQuMDA5LTExLjY0Ny0xLjU0OC0xNy4xMzYgMi43LTYuMzIgNy44NTktOS4xOCA5LjM3My05LjkwNyA3LjI3OS0zLjYzNSAxNS4wNTktMS4yMzUgMTUuMzg2LTEuMTM0IDIuMDkzLjQ5NCA3LjkxMyAyLjQ0MyAxMi40MzcgOC42MjUgMy40NzcgNC42NSA2LjI5NyAxMy4zMzcgMi43MTQgMjIuNDMtMy4yNzMgOC45NjItMTIuNTkgMTUuNzctMjIuNjM4IDE2LjQ5My0uNzg4LjA3NC0xLjU4NS4xMTUtMi4zOC4xMTUtOS43NSAwLTE5LjYyNy01LjYyLTI0LjU4LTE0LjI1Ii8%2BPC9zdmc%2B%22%0A%20%20%20%20%7D%5Bname%5D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20Cast%20%3D%20Scratch.Cast%3B%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%0A%20%20const%20defaultFonts%20%3D%20%5B%0A%20%20%20%20%22Sans%20Serif%22%2C%20%22Serif%22%2C%20%22Handwriting%22%2C%0A%20%20%20%20%22Marker%22%2C%20%22Curly%22%2C%20%22Pixel%22%2C%20%22Scratch%22%0A%20%20%5D%3B%0A%20%20const%20translatedInputs%20%3D%20%7B%0A%20%20%20%20popup%3A%20Scratch.translate(%22default-popup%22)%2C%0A%20%20%20%20label%3A%20Scratch.translate(%22new-label%22)%2C%0A%20%20%20%20input%3A%20Scratch.translate(%22new-input%22)%2C%0A%20%20%20%20btnRow%3A%20Scratch.translate(%22default-button-row%22)%2C%0A%20%20%20%20button%3A%20Scratch.translate(%22submit-button%22)%0A%20%20%7D%3B%0A%0A%20%20const%20validInputs%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22text%22%2C%20%22text%22)%2C%0A%20%20%20%20createMenuItem(%22multi-line%20text%22%2C%20%22textarea%22)%2C%0A%20%20%20%20createMenuItem(%22password%22%2C%20%22password%22)%2C%0A%20%20%20%20createMenuItem(%22number%22%2C%20%22number%22)%2C%0A%20%20%20%20createMenuItem(%22color%22%2C%20%22color%22)%2C%0A%20%20%20%20createMenuItem(%22date%22%2C%20%22date%22)%2C%0A%20%20%20%20createMenuItem(%22dropdown%22%2C%20%22select%22)%2C%0A%20%20%20%20createMenuItem(%22multi-select%20dropdown%22%2C%20%22multiSelect%22)%2C%0A%20%20%20%20createMenuItem(%22horizontal%20slider%22%2C%20%22rangeHorz%22)%2C%0A%20%20%20%20createMenuItem(%22vertical%20slider%22%2C%20%22rangeVert%22)%0A%20%20%5D%3B%0A%20%20const%20validBorders%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22none%22%2C%20%22none%22)%2C%0A%20%20%20%20createMenuItem(%22solid%22%2C%20%22solid%22)%2C%0A%20%20%20%20createMenuItem(%22dotted%22%2C%20%22dotted%22)%2C%0A%20%20%20%20createMenuItem(%22dashed%22%2C%20%22dashed%22)%2C%0A%20%20%20%20createMenuItem(%22double%22%2C%20%22double%22)%2C%0A%20%20%20%20createMenuItem(%22groove%22%2C%20%22groove%22)%2C%0A%20%20%20%20createMenuItem(%22ridge%22%2C%20%22ridge%22)%2C%0A%20%20%20%20createMenuItem(%22inset%22%2C%20%22inset%22)%2C%0A%20%20%20%20createMenuItem(%22outset%22%2C%20%22outset%22)%0A%20%20%5D%3B%0A%20%20const%20validEffects%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22blur%22%2C%20%22blur%22)%2C%0A%20%20%20%20createMenuItem(%22brightness%22%2C%20%22brightness%22)%2C%0A%20%20%20%20createMenuItem(%22opacity%22%2C%20%22opacity%22)%2C%0A%20%20%20%20createMenuItem(%22saturation%22%2C%20%22saturate%22)%2C%0A%20%20%20%20createMenuItem(%22hue%22%2C%20%22hue-rotate%22)%2C%0A%20%20%20%20createMenuItem(%22invert%22%2C%20%22invert%22)%2C%0A%20%20%20%20createMenuItem(%22sepia%22%2C%20%22sepia%22)%2C%0A%20%20%20%20createMenuItem(%22contrast%22%2C%20%22contrast%22)%2C%0A%20%20%20%20createMenuItem(%22direction%22%2C%20%22rotate%22)%2C%0A%20%20%20%20createMenuItem(%22scale%20x%22%2C%20%22scaleX%22)%2C%0A%20%20%20%20createMenuItem(%22scale%20y%22%2C%20%22scaleY%22)%2C%0A%20%20%20%20createMenuItem(%22skew%20x%22%2C%20%22skewX%22)%2C%0A%20%20%20%20createMenuItem(%22skew%20y%22%2C%20%22skewY%22)%0A%20%20%5D%3B%0A%0A%20%20%2F%2F%20internals%0A%20%20const%20styleStorage%20%3D%20%7B%0A%20%20%20%20popups%3A%20Object.create(null)%2C%0A%20%20%20%20labels%3A%20Object.create(null)%2C%0A%20%20%20%20inputs%3A%20Object.create(null)%2C%0A%20%20%20%20buttons%3A%20Object.create(null)%0A%20%20%7D%0A%20%20const%20elementStorage%20%3D%20%7B%0A%20%20%20%20popups%3A%20Object.create(null)%2C%0A%20%20%20%20labels%3A%20Object.create(null)%2C%0A%20%20%20%20inputs%3A%20Object.create(null)%2C%0A%20%20%20%20buttonRows%3A%20Object.create(null)%2C%0A%20%20%20%20buttons%3A%20Object.create(null)%0A%20%20%7D%0A%0A%20%20const%20xmlEscape%20%3D%20function%20(unsafe)%20%7B%0A%20%20%20%20return%20Cast.toString(unsafe).replace(new%20RegExp(%60%5B%3C%3E%26'%22%5D%60%2C%20%22g%22)%2C%20c%20%3D%3E%20%7B%0A%20%20%20%20%20%20switch%20(c)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22%3C%22%3A%20return%20%22%26lt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%3E%22%3A%20return%20%22%26gt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%26%22%3A%20return%20%22%26amp%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22'%22%3A%20return%20%22%26apos%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%5C%22%22%3A%20return%20%22%26quot%3B%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createLabel%20%3D%20(id%2C%20text)%20%3D%3E%20%7B%0A%20%20%20%20const%20element%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20element.style.width%20%3D%20%22max-content%22%3B%0A%20%20%20%20const%20label%20%3D%20document.createElement(%22pre%22)%3B%0A%20%20%20%20label.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20label.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20label.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22label%22))%3B%0A%0A%20%20%20%20element.appendChild(label)%3B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22label%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20text%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20element%2C%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createInput%20%3D%20(id%2C%20type%2C%20options)%20%3D%3E%20%7B%0A%20%20%20%20const%20inputHolder%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20inputHolder.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20inputHolder.style.width%20%3D%20%22max-content%22%3B%0A%20%20%20%20let%20element%3B%0A%0A%20%20%20%20const%20setElementValue%20%3D%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20inputHolder.setAttribute(%22returnValue%22%2C%20JSON.stringify(value))%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22select%22)%20%7B%0A%20%20%20%20%20%20const%20selectors%20%3D%20options.selectors%20%3F%3F%20%5B%22no%20options%20created%22%5D%3B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22select%22)%3B%0A%20%20%20%20%20%20selectors.forEach((option)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20opt%20%3D%20document.createElement(%22option%22)%3B%0A%20%20%20%20%20%20%20%20opt.value%20%3D%20option%3B%20opt.text%20%3D%20option%3B%0A%20%20%20%20%20%20%20%20element.appendChild(opt)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20element.addEventListener(%22focus%22%2C%20()%20%3D%3E%20%7B%20options.menuOpened%20%3D%20true%20%7D)%3B%0A%20%20%20%20%20%20element.addEventListener(%22blur%22%2C%20()%20%3D%3E%20%7B%20options.menuOpened%20%3D%20false%20%7D)%3B%0A%20%20%20%20%20%20element.addEventListener(%22change%22%2C%20(e)%20%3D%3E%20setElementValue(%5Be.target.value%5D))%3B%0A%20%20%20%20%20%20setElementValue(%5Bselectors%5B0%5D%5D)%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22multiSelect%22)%20%7B%0A%20%20%20%20%20%20const%20createOption%20%3D%20(text%2C%20index)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20holder%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20%20%20holder.setAttribute(%22style%22%2C%20%22display%3A%20flex%3B%20padding%3A%205px%3B%20cursor%3A%20pointer%22)%3B%0A%0A%20%20%20%20%20%20%20%20const%20check%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20%20%20check.type%20%3D%20%22checkbox%22%3B%0A%20%20%20%20%20%20%20%20check.checked%20%3D%20index%20%3D%3D%3D%200%20%3F%20true%20%3A%20false%3B%0A%20%20%20%20%20%20%20%20const%20label%20%3D%20document.createElement(%22pre%22)%3B%0A%20%20%20%20%20%20%20%20label.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20%20%20%20%20label.setAttribute(%22style%22%2C%20%22margin%3A0%200%200%205px%3B%20font-family%3A%20inherit%3B%22)%3B%0A%0A%20%20%20%20%20%20%20%20holder.append(check%2C%20label)%3B%0A%20%20%20%20%20%20%20%20return%20holder%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20const%20selectors%20%3D%20options.selectors%20%3F%3F%20%5B%22no%20options%20created%22%5D%3B%0A%20%20%20%20%20%20let%20response%20%3D%20%5Bselectors%5B0%5D%5D%3B%0A%20%20%20%20%20%20options.menuOpened%20%3D%20true%3B%0A%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20const%20optionsDiv%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20optionsDiv.setAttribute(%22style%22%2C%20%22overflow-y%3A%20scroll%3B%20height%3A%20calc(100%25%20-%201px)%3B%22)%3B%0A%20%20%20%20%20%20element.appendChild(optionsDiv)%3B%0A%0A%20%20%20%20%20%20setElementValue(response)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20selectors.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20option%20%3D%20createOption(selectors%5Bi%5D%2C%20i)%3B%0A%20%20%20%20%20%20%20%20optionsDiv.appendChild(option)%3B%0A%0A%20%20%20%20%20%20%20%20option.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(e.target.tagName%20%3D%3D%3D%20%22PRE%22)%20e.target.parentNode.querySelector(%22input%22).click()%3B%0A%20%20%20%20%20%20%20%20%20%20else%20if%20(e.target.tagName%20%3D%3D%3D%20%22INPUT%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(e.target.checked)%20response.push(selectors%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20response.splice(response.indexOf(selectors%5Bi%5D)%2C%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setElementValue(response)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22textarea%22)%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22textarea%22)%3B%0A%20%20%20%20%20%20element.value%20%3D%20options.defaultValue%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%20else%20if%20(type.startsWith(%22range%22))%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22div%22)%3B%0A%0A%20%20%20%20%20%20const%20counter%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20counter.setAttribute(%22style%22%2C%20%22text-align%3A%20center%22)%3B%0A%20%20%20%20%20%20counter.innerText%20%3D%20options.defaultValue%20%3F%3F%200%3B%0A%0A%20%20%20%20%20%20const%20range%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20range.setAttribute(%22style%22%2C%20%22display%3A%20block%3B%20margin%3A%20auto%3B%22)%3B%0A%20%20%20%20%20%20range.type%20%3D%20%22range%22%3B%0A%20%20%20%20%20%20if%20(type.endsWith(%22Vert%22))%20range.style.writingMode%20%3D%20%22sideways-lr%22%3B%0A%0A%20%20%20%20%20%20range.setAttribute(%22max%22%2C%20options.maxV%20%3F%3F%20100)%3B%0A%20%20%20%20%20%20range.setAttribute(%22min%22%2C%20options.minV%20%3F%3F%200)%3B%0A%20%20%20%20%20%20range.value%20%3D%20options.defaultValue%20%3F%3F%200%3B%0A%20%20%20%20%20%20range.addEventListener(%22input%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20e.target.value%3B%0A%20%20%20%20%20%20%20%20setElementValue(%5Bvalue%5D)%3B%0A%20%20%20%20%20%20%20%20counter.innerText%20%3D%20value%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20element.append(range%2C%20counter)%3B%0A%20%20%20%20%20%20setElementValue(%5Bcounter.innerText%5D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20element.type%20%3D%20type%3B%0A%20%20%20%20%20%20element.value%20%3D%20options.defaultValue%20%3F%3F%20%22%22%3B%0A%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22color%22)%20%7B%0A%20%20%20%20%20%20%20%20inputHolder.setAttribute(%22style%22%2C%20%22display%3A%20flex%3B%20justify-content%3A%20center%3B%20width%3A%20100%25%3B%22)%3B%0A%20%20%20%20%20%20%20%20const%20colorStyle%20%3D%20document.createElement(%22style%22)%3B%0A%20%20%20%20%20%20%20%20colorStyle.textContent%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-webkit-color-swatch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20black%20solid%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-moz-color-swatch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20black%20solid%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-webkit-color-swatch-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20element.append(colorStyle)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20element.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22input%22))%3B%0A%20%20%20%20inputHolder.appendChild(element)%3B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22input%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20type%2C%20options%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20inputHolder%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createButtonRow%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20const%20buttonRow%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20buttonRow.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20buttonRow.style.width%20%3D%20%22max-content%22%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22buttonRow%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20buttons%3A%20%5B%5D%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20buttonRow%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createButton%20%3D%20(id%2C%20text)%20%3D%3E%20%7B%0A%20%20%20%20const%20element%20%3D%20document.createElement(%22button%22)%3B%0A%20%20%20%20element.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20element.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20element.setAttribute(%22returnValue%22%2C%20id)%3B%0A%20%20%20%20element.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22button%22))%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22button%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20text%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20element%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20genDefaultStyles%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20if%20(type.endsWith(%22s%22))%20type%20%3D%20type.substring(0%2C%20type.length%20-%201)%3B%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22popup%22)%20%7B%0A%20%20%20%20%20%20styleStorage.popups%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22display%22%3A%20%22flex%22%2C%0A%20%20%20%20%20%20%20%20%22flex-direction%22%3A%20%22column%22%2C%0A%20%20%20%20%20%20%20%20%22position%22%3A%20%22absolute%22%2C%0A%20%20%20%20%20%20%20%20%22pointer-events%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22translate(-50%25%2C%20-50%25)%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22left%22%3A%20%22calc(50%25%20%2B%200px)%22%2C%0A%20%20%20%20%20%20%20%20%22top%22%3A%20%22calc(50%25%20%2B%200px)%22%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22max-content%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%2215px%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22box-shadow%22%3A%20%22%23000%200px%200px%205px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20none%20%23000%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22label%22)%20%7B%0A%20%20%20%20%20%20styleStorage.labels%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23000%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22input%22)%20%7B%0A%20%20%20%20%20%20styleStorage.inputs%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22max-content%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20solid%20%23000%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%224px%22%2C%0A%20%20%20%20%20%20%20%20%22text-align%22%3A%20%22left%22%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%23a5aec3%22%2C%0A%20%20%20%20%20%20%20%20%22accent-color%22%3A%20%22%239f50d9%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23000%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22button%22)%20%7B%0A%20%20%20%20%20%20styleStorage.buttons%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22cursor%22%3A%20%22pointer%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%225px%2010px%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20none%20%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%230074d9%22%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20styleStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%3B%0A%20%20%7D%0A%0A%20%20const%20genDefaultBox%20%3D%20(id%2C%20optEmptyElements)%20%3D%3E%20%7B%0A%20%20%20%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20const%20defaultElements%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20submitBtn%2C%20cancelBtn%3B%0A%20%20%20%20if%20(!optEmptyElements)%20%7B%0A%20%20%20%20%20%20defaultElements.push(createLabel(%22default-label%22%2C%20Scratch.translate(%22Whats%20Your%20Name%3F%22)))%3B%0A%20%20%20%20%20%20defaultElements.push(createInput(%0A%20%20%20%20%20%20%20%20%22default-input%22%2C%20%22text%22%2C%0A%20%20%20%20%20%20%20%20%7B%20defaultValue%3A%20Scratch.translate(%22...type%20your%20name%22)%20%7D%0A%20%20%20%20%20%20))%3B%0A%0A%20%20%20%20%20%20const%20buttonRow%20%3D%20createButtonRow(%22default-button-row%22)%3B%0A%20%20%20%20%20%20submitBtn%20%3D%20createButton(%22submit-button%22%2C%20Scratch.translate(%22Submit%22))%3B%0A%20%20%20%20%20%20cancelBtn%20%3D%20createButton(%22cancel-button%22%2C%20Scratch.translate(%22Cancel%22))%3B%0A%20%20%20%20%20%20buttonRow.data.buttons.push(submitBtn.data%2C%20cancelBtn.data)%3B%0A%20%20%20%20%20%20buttonRow.DOMelement.append(submitBtn.DOMelement%2C%20cancelBtn.DOMelement)%3B%0A%20%20%20%20%20%20defaultElements.push(buttonRow)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20defaultBox%20%3D%20%7B%0A%20%20%20%20%20%20waiting%3A%20false%2C%0A%20%20%20%20%20%20isWindowed%3A%20false%2C%0A%20%20%20%20%20%20focused%3A%20false%2C%0A%20%20%20%20%20%20autoControl%3A%20true%2C%0A%20%20%20%20%20%20forceKey%3A%20undefined%2C%0A%20%20%20%20%20%20lastBtnPressed%3A%20undefined%2C%0A%20%20%20%20%20%20value%3A%20undefined%2C%0A%20%20%20%20%20%20DOMelement%3A%20undefined%2C%0A%20%20%20%20%20%20elements%3A%20defaultElements%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20(!optEmptyElements)%20%7B%0A%20%20%20%20%20%20elementStorage.labels%5B%22default-label%22%5D%20%3D%20defaultElements%5B0%5D%3B%0A%20%20%20%20%20%20elementStorage.inputs%5B%22default-input%22%5D%20%3D%20defaultElements%5B1%5D%3B%0A%20%20%20%20%20%20elementStorage.buttons%5B%22submit-button%22%5D%20%3D%20submitBtn%3B%0A%20%20%20%20%20%20elementStorage.buttons%5B%22cancel-button%22%5D%20%3D%20cancelBtn%3B%0A%20%20%20%20%20%20elementStorage.buttonRows%5B%22default-button-row%22%5D%20%3D%20defaultElements%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20elementStorage.popups%5Bid%5D%20%3D%20defaultBox%3B%0A%20%20%20%20return%20defaultBox%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20popup%20box%20GUI%0A%20%20const%20compileStyles%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%3B%0A%20%20%20%20const%20styleObj%20%3D%20styleStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20type)%3B%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22input%22%20%26%26%20boxInfo%3F.data.type%20%3D%3D%3D%20%22color%22)%20%7B%0A%20%20%20%20%20%20%2F%2F%20color%20inputs%20with%20these%20options%20look%20weird%0A%20%20%20%20%20%20if%20(styleObj%5B%22width%22%5D%20%3D%3D%3D%20%22max-content%22)%20styleObj%5B%22width%22%5D%20%3D%20%2280%25%22%3B%0A%20%20%20%20%20%20if%20(styleObj%5B%22height%22%5D%20%3D%3D%3D%20%22auto%22)styleObj%5B%22height%22%5D%20%3D%20%2230px%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20styleString%20%3D%20%22%22%3B%0A%20%20%20%20Object.entries(styleObj).forEach((style)%20%3D%3E%20%7B%0A%20%20%20%20%20%20styleString%20%2B%3D%20%60%24%7Bstyle%5B0%5D%7D%3A%20%24%7Bstyle%5B1%5D%7D%3B%60%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20styleString%3B%0A%20%20%7D%3B%0A%0A%20%20const%20compileBox%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20boxInfo.waiting%20%3D%20true%3B%0A%20%20%20%20let%20boxInputs%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20const%20popupContainer%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20popupContainer.setAttribute(%22style%22%2C%20%22position%3A%20fixed%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%22)%3B%0A%20%20%20%20popupContainer.style.pointerEvents%20%3D%20boxInfo.focused%20%3F%20%22auto%22%20%3A%20%22none%22%3B%20%0A%20%20%20%20if%20(boxInfo.focused)%20popupContainer.style.backgroundColor%20%3D%20%22rgba(0%2C0%2C0%2C0.5)%22%3B%0A%20%20%20%20if%20(boxInfo.isWindowed)%20popupContainer.style.zIndex%20%3D%20%229999%22%3B%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20popupContainer.style.left%20%3D%20%22-50%25%22%3B%0A%20%20%20%20%20%20popupContainer.style.top%20%3D%20%22-50%25%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20popupPanel%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20popupPanel.classList.add(%22SP-Popup-Box%22)%3B%0A%20%20%20%20popupPanel.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20popupPanel.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22popup%22))%3B%0A%0A%20%20%20%20%2F%2F%20various%20element%20utils%0A%20%20%20%20const%20handleClose%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20if%20theres%20no%20input%2C%20set%20the%20value%20to%20the%20button%20name%0A%20%20%20%20%20%20if%20(event)%20boxInfo.lastBtnPressed%20%3D%20event.target.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20if%20(boxInputs.length%20%3D%3D%3D%200)%20boxInfo.value%20%3D%20boxInfo.lastBtnPressed%20%3F%3F%20%22%22%3B%0A%20%20%20%20%20%20else%20compileInputValues()%3B%0A%20%20%20%20%20%20runtime.off(%22KEY_PRESSED%22%2C%20forceKeyHandler)%3B%0A%20%20%20%20%20%20closeBox(id)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20const%20forceKeyHandler%20%3D%20(key)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(boxInfo.forceKey%20%3D%3D%3D%20%22shiftEnter%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(key%20%3D%3D%3D%20%22enter%22%20%26%26%20runtime.ioDevices.keyboard.getKeyIsDown(%22shift%22))%20handleClose()%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(key.toLowerCase()%20%3D%3D%20boxInfo.forceKey.toLowerCase())%20handleClose()%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20compileInputValues%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(boxInputs.length%20%3D%3D%3D%200)%20boxInfo.value%20%3D%20%22%22%3B%0A%20%20%20%20%20%20else%20if%20(boxInputs.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20const%20input%20%3D%20boxInputs%5B0%5D%3B%0A%20%20%20%20%20%20%20%20const%20element%20%3D%20input.DOMelement%3B%0A%0A%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20element.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20%20%20boxInfo.value%20%3D%20returnValue%20%3F%20JSON.parse(returnValue)%20%3A%20element.firstChild.value%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20boxInfo.value%20%3D%20Object.create(null)%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20boxInputs.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20boxInputs%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20element%20%3D%20input.DOMelement%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20element.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20%20%20%20%20boxInfo.value%5Binput.data.id%5D%20%3D%20returnValue%20%3F%20JSON.parse(returnValue)%20%3A%20element.firstChild.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20append%20elements%20to%20panel%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20boxInfo.elements.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20item%20%3D%20boxInfo.elements%5Bi%5D%3B%0A%20%20%20%20%20%20let%20element%20%3D%20item.DOMelement%3B%0A%20%20%20%20%20%20if%20(item.type%20%3D%3D%3D%20%22label%22)%20%7B%0A%20%20%20%20%20%20%20%20const%20refreshedLabel%20%3D%20elementStorage.labels%5Bitem.data.id%5D%3B%0A%20%20%20%20%20%20%20%20element%20%3D%20refreshedLabel.DOMelement%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(item.type%20%3D%3D%3D%20%22input%22)%20%7B%0A%20%20%20%20%20%20%20%20boxInputs.push(item)%3B%0A%0A%20%20%20%20%20%20%20%20const%20refreshedInput%20%3D%20elementStorage.inputs%5Bitem.data.id%5D%3B%0A%20%20%20%20%20%20%20%20const%20recentData%20%3D%20refreshedInput.data%3B%0A%20%20%20%20%20%20%20%20element%20%3D%20createInput(%0A%20%20%20%20%20%20%20%20%20%20recentData.id%2C%20recentData.type%2C%20recentData.options%0A%20%20%20%20%20%20%20%20).DOMelement%3B%0A%20%20%20%20%20%20%20%20item.DOMelement%20%3D%20element%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20popupPanel.appendChild(element)%0A%0A%20%20%20%20%20%20%2F%2F%20add%20event%20listeners%0A%20%20%20%20%20%20if%20(item.type%20%3D%3D%3D%20%22input%22)%20element.addEventListener(%22change%22%2C%20compileInputValues)%3B%0A%20%20%20%20%20%20else%20if%20(item.type%20%3D%3D%3D%20%22buttonRow%22)%20%7B%0A%20%20%20%20%20%20%20%20element.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(e.target.tagName%20%3D%3D%3D%20%22BUTTON%22)%20handleClose(e)%3B%0A%20%20%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20popupContainer.appendChild(popupPanel)%3B%0A%20%20%20%20if%20(boxInfo.isWindowed)%20document.body.appendChild(popupContainer)%3B%0A%20%20%20%20else%20render.addOverlay(popupContainer%2C%20%22scale-centered%22)%3B%0A%20%20%20%20compileInputValues()%3B%0A%20%20%20%20boxInfo.DOMelement%20%3D%20popupContainer%3B%0A%0A%20%20%20%20%2F%2F%20extra%20event%20listeners%0A%20%20%20%20if%20(boxInfo.forceKey%20!%3D%3D%20undefined)%20runtime.on(%22KEY_PRESSED%22%2C%20forceKeyHandler)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20closeBox%20%3D%20(id%2C%20optForce)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20boxInfo.waiting%20%3D%20false%3B%0A%0A%20%20%20%20if%20(optForce%20%7C%7C%20boxInfo.autoControl)%20%7B%0A%20%20%20%20%20%20if%20(boxInfo.isWindowed)%20boxInfo.DOMelement%3F.remove()%3B%0A%20%20%20%20%20%20else%20render.removeOverlay(boxInfo.DOMelement)%3B%0A%20%20%20%20%20%20boxInfo.DOMelement%20%3D%20undefined%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20updateBoxVisuals%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage%5Btype%5D%5Bid%5D%3B%0A%20%20%20%20if%20(!boxInfo%20%7C%7C%20!boxInfo.DOMelement)%20return%3B%0A%20%20%20%20const%20element%20%3D%20type%20%3D%3D%3D%20%22buttons%22%20%3F%20boxInfo.DOMelement%20%3A%20boxInfo.DOMelement.firstChild%3B%0A%20%20%20%20element.setAttribute(%0A%20%20%20%20%20%20%22style%22%2C%20%0A%20%20%20%20%20%20compileStyles(id%2C%20type.slice(0%2C%20type.length%20-%201))%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20extension%20utilities%0A%20%20function%20createBlockLabel(text)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20Scratch.translate(text)%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20function%20createMenuItem(text%2C%20value)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20text%3A%20Scratch.translate(text)%2C%20value%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20genDefaultBox(%22default-popup%22%2C%20false)%3B%0A%0A%20%20class%20SPpopups%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20this.removeAllPopups())%3B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20this.removeAllPopups())%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPpopups%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Popup%20Phoenix%22)%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23a812ff%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23941cd9%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%238219bf%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22main%22)%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20popup%20with%20ID%20%5BID%5D%20and%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22AWAITS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showPopupReport%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20popup%20with%20ID%20%5BID%5D%20and%20wait%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22userInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22response%20from%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removePopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeAllPopups%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20popups%22)%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Popups%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22new-popup%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22append2Popup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22append%20%5BTYPE%5D%20with%20ID%20%5BELEMENT_ID%5D%20to%20popup%20%5BPOP_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_ELEMENTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeFromPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20%5BTYPE%5D%20with%20ID%20%5BELEMENT_ID%5D%20from%20popup%20%5BPOP_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_ELEMENTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removePopupContent%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20elements%20from%20popup%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20position%20of%20%5BID%5D%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20position%20of%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POSITION%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Labels%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopLabel%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20label%20with%20ID%20%5BID%5D%20and%20text%20%5BTEXT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22whats%20your%20name%3F%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopLabel%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20label%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Inputs%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20%5BTYPE%5D%20input%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22INPUTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDefaultValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20default%20value%20of%20input%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%60...type%20here%60)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSliderParams%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20slider%20%5BID%5D%20min%20%5BMIN%5D%20max%20%5BMAX%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIN%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MAX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDropOptions%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20options%20of%20dropdown%20%5BID%5D%20to%20%5BARRAY%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%60%5B%22Option%201%22%2C%20%22Option%202%22%2C%20%22Option%203%22%5D%60)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isDropOpen%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20dropdown%20%5BDROP_ID%5D%20in%20popup%20%5BPOP_ID%5D%20open%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Buttons%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createBtnRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20button%20row%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20button%20with%20ID%20%5BID%5D%20and%20text%20%5BTEXT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22Submit%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteBtnRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20button%20row%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20button%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22append2Row%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22append%20button%20%5BBTN_ID%5D%20to%20row%20%5BROW_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BTN_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROW_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeFromRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20button%20%5BBTN_ID%5D%20from%20row%20%5BROW_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BTN_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROW_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeRowContent%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20buttons%20from%20row%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Operators%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allElements%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20%5BTYPE%5D%20IDs%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_SELECT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22popupWaiting%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20popup%20%5BID%5D%20waiting%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22lastButtonPress%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22last%20button%20pressed%20in%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupTarget%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20next%20popup%20with%20ID%20%5BID%5D%20on%20the%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POPUP_LOCATION%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleOption%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20%5BOPTION%5D%20in%20popup%20%5BID%5D%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPTION%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EXTRA_OPTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TOGGLER%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setForceClose%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20auto-close%20action%20in%20popup%20%5BID%5D%20to%20%5BKEY%5D%20key%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22FORCE_KEY%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Customization%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupAlign%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20alignment%20of%20popup%20%5BID%5D%20to%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALIGNMENT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputAlign%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20alignment%20of%20input%20%5BID%5D%20to%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALIGNMENT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputFont%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BFONT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FONT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22FONTS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputFontSZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20size%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BSIZE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIZE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2015%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementOutline%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20text%20outline%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20color%20%5BCOLOR%5D%20weight%20%5BWEIGHT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEIGHT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementAtt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BPARAM%5D%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POP_STYLES%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22%23ff0000%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementBorder%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20border%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BTYPE%5D%20%5BCOLOR%5D%20weight%20%5BWEIGHT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22BORDERS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEIGHT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementShadow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20shadow%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20color%20%5BCOLOR%5D%20blur%20%5BAMT%5D%20strength%20%5BBLUR%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AMT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BLUR%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20effects%20of%20%5BELEMENT%5D%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BEFFECT%5D%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BEFFECT%5D%20of%20%5BELEMENT%5D%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20FONTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%22getFonts%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POP_STYLES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genStyleList(%22popup%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20LAB_STYLES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genStyleList(%22label%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20INP_STYLES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genStyleList(%22input%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BUT_STYLES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genStyleList(%22button%22)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20INPUTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validInputs%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BORDERS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validBorders%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20EFFECTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validEffects%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_ELEMENTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(false%2C%20true%2C%20false)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_MAIN%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(true%2C%20false%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_MAIN2%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(false%2C%20false%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_SELECT%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(true%2C%20true%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20AWAITS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22wait%22%2C%20%22wait%22)%2C%20createMenuItem(%22continue%22%2C%20%22continue%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20TOGGLER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22on%22%2C%20%22on%22)%2C%20createMenuItem(%22off%22%2C%20%22off%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POSITION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22x%22%2C%20%22x%22)%2C%20createMenuItem(%22y%22%2C%20%22y%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POPUP_LOCATION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22window%22%2C%20%22window%22)%2C%20createMenuItem(%22canvas%22%2C%20%22canvas%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ALIGNMENT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22left%22%2C%20%22left%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22right%22%2C%20%22flex-end%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22center%22%2C%20%22center%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20FORCE_KEY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22none%22%2C%20%22none%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22enter%22%2C%20%22enter%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22shift%20%26%20enter%22%2C%20%22shiftEnter%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20EXTRA_OPTS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22focus%20mode%22%2C%20%22focus%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22auto%20close%22%2C%20%22autoClose%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getFonts()%20%7B%0A%20%20%20%20%20%20const%20custFonts%20%3D%20runtime.fontManager%20%3F%20runtime.fontManager.getFonts().map((i)%20%3D%3E%20(%7B%20text%3A%20i.name%2C%20value%3A%20i.family%20%7D))%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20return%20%5B%20...defaultFonts%2C%20...custFonts%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20genElementList(addPopup%2C%20addRow%2C%20addButton)%20%7B%0A%20%20%20%20%20%20const%20list%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20(addPopup)%20list.push(createMenuItem(%22popup%22%2C%20%22popup%22))%3B%0A%20%20%20%20%20%20list.push(createMenuItem(%22label%22%2C%20%22label%22)%2C%20createMenuItem(%22input%22%2C%20%22input%22))%3B%0A%20%20%20%20%20%20if%20(addRow)%20list.push(createMenuItem(%22button%20row%22%2C%20%22buttonRow%22))%3B%0A%20%20%20%20%20%20if%20(addButton)%20list.push(createMenuItem(%22button%22%2C%20%22button%22))%3B%0A%20%20%20%20%20%20return%20list%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20genStyleList()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20createMenuItem(%22background%20color%22%2C%20%22background%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22text%20color%22%2C%20%22color%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22accent%20color%22%2C%20%22accent-color%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22margins%22%2C%20%22margin%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22padding%22%2C%20%22padding%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22width%22%2C%20%22width%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22height%22%2C%20%22height%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22border%20radius%22%2C%20%22border-radius%22)%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getElementPath(path%2C%20useBtn%2C%20usePopup)%20%7B%0A%20%20%20%20%20%20const%20validPaths%20%3D%20%5B%22label%22%2C%20%22input%22%2C%20useBtn%20%3F%20%22button%22%20%3A%20%22buttonRow%22%5D%3B%0A%20%20%20%20%20%20if%20(usePopup)%20validPaths.push(%22popup%22)%3B%0A%20%20%20%20%20%20return%20validPaths.includes(path)%20%3F%20path%20%3A%20%22label%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20openPopupHandler(args%2C%20util%2C%20reportResponse)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(!util.stackFrame.awaitingInput)%20%7B%0A%20%20%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20popup%20%3D%20genDefaultBox(id%2C%20false)%3B%0A%20%20%20%20%20%20%20%20if%20(popup.DOMelement)%20closeBox(id%2C%20true)%3B%0A%20%20%20%20%20%20%20%20compileBox(id)%3B%0A%20%20%20%20%20%20%20%20util.stackFrame.awaitingInput%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20((reportResponse%20%3F%20true%20%3A%20args.TYPE%20%3D%3D%3D%20%22wait%22)%20%26%26%20popup%3F.waiting)%20util.yield()%3B%0A%20%20%20%20%20%20if%20(reportResponse)%20return%20typeof%20popup.value%20%3D%3D%3D%20%22object%22%20%3F%20%0A%20%20%20%20%20%20%20%20JSON.stringify(popup.value)%20%3A%20popup.value%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20%2F*%20main%20*%2F%0A%20%20%20%20showPopup(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.openPopupHandler(args%2C%20util%2C%20false)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPopupReport(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20this.openPopupHandler(args%2C%20util%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20userInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20typeof%20popup.value%20%3D%3D%3D%20%22object%22%20%3F%20JSON.stringify(popup.value)%20%3A%20popup.value%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removePopup(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20!%3D%3D%20undefined%20%26%26%20popup.DOMelement)%20closeBox(id%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeAllPopups()%20%7B%0A%20%20%20%20%20%20const%20allPopups%20%3D%20Object.entries(elementStorage.popups)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allPopups.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20entry%20%3D%20allPopups%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(entry%5B1%5D.DOMelement)%20closeBox(entry%5B0%5D%2C%20true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20popups%20*%2F%0A%20%20%20%20createPopup(args)%20%7B%0A%20%20%20%20%20%20this.removePopup(args)%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20genDefaultBox(id%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopup(args)%20%7B%0A%20%20%20%20%20%20this.removePopup(args)%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20append2Popup(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.TYPE))%3B%0A%20%20%20%20%20%20const%20elementID%20%3D%20Cast.toString(args.ELEMENT_ID)%3B%0A%20%20%20%20%20%20const%20element%20%3D%20elementStorage%5Bpath%20%2B%20%22s%22%5D%5BelementID%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined%20%7C%7C%20element%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20elementIndex%20%3D%20popup.elements.findIndex((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20i.type%20%3D%3D%3D%20path%20%26%26%20i.data.id%20%3D%3D%3D%20elementID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(elementIndex%20%3D%3D%3D%20-1)%20popup.elements.push(element)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeFromPopup(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.TYPE))%3B%0A%20%20%20%20%20%20const%20elementID%20%3D%20Cast.toString(args.ELEMENT_ID)%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20elementIndex%20%3D%20popup.elements.findIndex((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20i.type%20%3D%3D%3D%20path%20%26%26%20i.data.id%20%3D%3D%3D%20elementID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(elementIndex%20%3E%20-1)%20popup.elements.splice(elementIndex%2C%201)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removePopupContent(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20!%3D%3D%20undefined)%20popup.elements%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setPopupPos(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20styles.left%20%3D%20%60calc(50%25%20%2B%20%24%7BCast.toNumber(args.X)%7Dpx)%60%3B%0A%20%20%20%20%20%20styles.top%20%3D%20%60calc(50%25%20%2B%20%24%7BCast.toNumber(args.Y)%20*%20-1%7Dpx)%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20%22popups%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getPos(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22x%22)%20return%20parseFloat(styles.left.replace(%22calc(50%25%20%2B%20%22%2C%20%22%22))%3B%0A%20%20%20%20%20%20else%20return%20parseFloat(styles.top.replace(%22calc(50%25%20%2B%20%22%2C%20%22%22))%20*%20-1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20labels%20*%2F%0A%20%20%20%20createPopLabel(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20text%20%3D%20Cast.toString(args.TEXT)%3B%0A%20%20%20%20%20%20elementStorage.labels%5Bid%5D%20%3D%20createLabel(id%2C%20text)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopLabel(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.labels%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.labels%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20inputs%20*%2F%0A%20%20%20%20createPopInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20type%20%3D%20Cast.toString(args.TYPE)%3B%0A%0A%20%20%20%20%20%20const%20isValidInput%20%3D%20validInputs.findIndex((i)%20%3D%3E%20%7B%20return%20i.value%20%3D%3D%3D%20type%20%7D)%3B%0A%20%20%20%20%20%20if%20(isValidInput%20%3D%3D%3D%20-1)%20type%20%3D%20%22text%22%3B%0A%20%20%20%20%20%20elementStorage.inputs%5Bid%5D%20%3D%20createInput(id%2C%20type%2C%20%7B%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDefaultValue(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(input)%20input.data.options.defaultValue%20%3D%20Cast.toString(args.VALUE)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSliderParams(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(input)%20%7B%0A%20%20%20%20%20%20%20%20input.data.options.minV%20%3D%20Cast.toNumber(args.MIN)%3B%0A%20%20%20%20%20%20%20%20input.data.options.maxV%20%3D%20Cast.toNumber(args.MAX)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDropOptions(args)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20array%20%3D%20JSON.parse(args.ARRAY)%3B%0A%20%20%20%20%20%20%20%20if%20(array.length%20%3D%3D%3D%200)%20array.push(%22no%20options%20created%22)%3B%0A%20%20%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%20%20%20%20if%20(input)%20input.data.options.selectors%20%3D%20array%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%22Failed%20to%20set%20Dropdown%20Options%2C%20invalid%20Array!%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20isDropOpen(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20dropID%20%3D%20Cast.toString(args.DROP_ID)%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined%20%7C%7C%20!popup.waiting)%20return%20false%3B%0A%20%20%20%20%20%20const%20dropdown%20%3D%20popup.elements.find((e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20e.type%20%3D%3D%3D%20%22input%22%20%26%26%20e.data.id%20%3D%3D%3D%20dropID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(dropdown)%20return%20dropdown.data.options.menuOpened%20%3F%3F%20false%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20buttons%20*%2F%0A%20%20%20%20createBtnRow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20elementStorage.buttonRows%5Bid%5D%20%3D%20createButtonRow(id)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createPopBtn(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20text%20%3D%20Cast.toString(args.TEXT)%3B%0A%20%20%20%20%20%20elementStorage.buttons%5Bid%5D%20%3D%20createButton(id%2C%20text)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteBtnRow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20elementStorage.buttonRows%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopBtn(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.buttons%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.buttons%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20append2Row(args)%20%7B%0A%20%20%20%20%20%20const%20btn%20%3D%20elementStorage.buttons%5BCast.toString(args.BTN_ID)%5D%3B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ROW_ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined%20%7C%7C%20btn%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20btnList%20%3D%20row.data.buttons%3B%0A%20%20%20%20%20%20const%20btnIndex%20%3D%20btnList.findIndex((i)%20%3D%3E%20%7B%20return%20i.id%20%3D%3D%3D%20btn.data.id%7D)%3B%0A%20%20%20%20%20%20if%20(btnIndex%20%3E%20-1)%20return%3B%0A%20%20%20%20%20%20btnList.push(btn.data)%3B%0A%20%20%20%20%20%20row.DOMelement.appendChild(btn.DOMelement)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeFromRow(args)%20%7B%0A%20%20%20%20%20%20const%20btn%20%3D%20elementStorage.buttons%5BCast.toString(args.BTN_ID)%5D%3B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ROW_ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined%20%7C%7C%20btn%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20btnList%20%3D%20row.data.buttons%3B%0A%20%20%20%20%20%20const%20btnIndex%20%3D%20btnList.findIndex((i)%20%3D%3E%20%7B%20return%20i.id%20%3D%3D%3D%20btn.data.id%7D)%3B%0A%20%20%20%20%20%20if%20(btnIndex%20%3D%3D%3D%20-1)%20return%3B%0A%20%20%20%20%20%20btnList.splice(btnIndex%2C%201)%3B%0A%20%20%20%20%20%20row.DOMelement.children%5BbtnIndex%5D.remove()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeRowContent(args)%20%7B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20Array.from(row.DOMelement.children).forEach((button)%20%3D%3E%20button.remove())%3B%0A%20%20%20%20%20%20row.data.buttons%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20operations%20*%2F%0A%20%20%20%20allElements(args)%20%7B%0A%20%20%20%20%20%20const%20namespace%20%3D%20Cast.toString(args.TYPE)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20items%20%3D%20elementStorage%5Bnamespace%5D%3B%0A%20%20%20%20%20%20if%20(!items)%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20else%20return%20JSON.stringify(Object.keys(items))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20popupWaiting(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20false%3B%0A%20%20%20%20%20%20return%20popup.waiting%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lastButtonPress(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20popup.lastBtnPressed%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setPopupTarget(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%20%20%20%20%20%20popup.isWindowed%20%3D%20args.TYPE%20%3D%3D%3D%20%22window%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20toggleOption(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20option%20%3D%20Cast.toString(args.OPTION)%3B%0A%20%20%20%20%20%20popup%5B%0A%20%20%20%20%20%20%20%20option%20%3D%3D%3D%20%22focus%22%20%3F%20%22focused%22%20%3A%20%22autoControl%22%0A%20%20%20%20%20%20%5D%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setForceClose(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20key%20%3D%20Cast.toString(args.KEY)%3B%0A%20%20%20%20%20%20popup.forceKey%20%3D%20key%20%3D%3D%3D%20%22none%22%20%3F%20undefined%20%3A%20key%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20customization%20*%2F%0A%20%20%20%20setPopupAlign(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20styles%5B%22align-items%22%5D%20%3D%20args.TYPE%3B%0A%20%20%20%20%20%20styles%5B%22justify-content%22%5D%20%3D%20args.TYPE%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20%22popups%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputAlign(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.inputs%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22input%22)%3B%0A%20%20%20%20%20%20styles%5B%22text-align%22%5D%20%3D%20args.TYPE%20%3D%3D%3D%20%22flex-end%22%20%3F%20%22right%22%20%3A%20args.TYPE%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20%22inputs%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputFont(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22font-family%22%5D%20%3D%20Cast.toString(args.FONT)%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputFontSZ(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22font-size%22%5D%20%3D%20%60%24%7BCast.toNumber(args.SIZE)%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementOutline(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22-webkit-text-stroke-width%22%5D%20%3D%20%60%24%7BCast.toNumber(args.WEIGHT)%7Dpx%60%3B%0A%20%20%20%20%20%20styles%5B%22-webkit-text-stroke-color%22%5D%20%3D%20args.COLOR%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementAtt(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20param%20%3D%20Cast.toString(args.PARAM)%3B%0A%20%20%20%20%20%20let%20value%20%3D%20Cast.toString(args.VALUE)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20const%20isValidStyle%20%3D%20this.genStyleList().findIndex((i)%20%3D%3E%20%7B%20return%20i.value%20%3D%3D%3D%20param%20%7D)%3B%0A%0A%20%20%20%20%20%20if%20(!param.includes(%22color%22)%20%26%26%20param%20!%3D%3D%20%22background%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(param%20%3D%3D%3D%20%22width%22%20%7C%7C%20param%20%3D%3D%3D%20%22height%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20allow%20users%20to%20input%20things%20like%20%22auto%22%20while%20still%20adding%20%22px%22%20to%20numbers%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%2F%5E%5Cd%2B%24%2F.test(value)%20%3F%20%60%24%7Bvalue%7Dpx%60%20%3A%20value%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20handle%20cases%20where%20users%20to%20input%20specific%20attributes%20like%20%22margin-left%22%0A%20%20%20%20%20%20%20%20%20%20if%20(value.includes(%22%20%22))%20value%20%3D%20%2F%5E%5Cd%2B%24%2F.test(value.replaceAll(%22%20%22%2C%20%22%22))%20%3F%20value.replaceAll(%22%20%22%2C%20%22px%20%22)%20%3A%20value%3B%0A%20%20%20%20%20%20%20%20%20%20else%20value%20%3D%20%60%24%7Bvalue%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(isValidStyle%20%3E%20-1)%20styles%5Bparam%5D%20%3D%20value%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementBorder(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20weight%20%3D%20Cast.toNumber(args.WEIGHT)%3B%0A%20%20%20%20%20%20const%20isBorderValid%20%3D%20validBorders.findIndex((i)%20%3D%3E%20%7B%20return%20i.value%20%3D%3D%3D%20args.TYPE%20%7D)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5Bpath%20%3D%3D%3D%20%22labels%22%20%3F%20%22border-bottom%22%20%3A%20%22border%22%5D%20%3D%20%0A%20%20%20%20%20%20%20%20%60%24%7BisBorderValid%20%3E%20-1%20%3F%20args.TYPE%20%3A%20%22none%22%7D%20%24%7Bargs.COLOR%7D%20%24%7Bweight%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementShadow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20pos%20%3D%20%5BCast.toNumber(args.X)%2C%20Cast.toNumber(args.Y)%5D%3B%0A%20%20%20%20%20%20const%20weight%20%3D%20%5BCast.toNumber(args.AMT)%2C%20Cast.toNumber(args.BLUR)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20if%20(path%20%3D%3D%3D%20%22labels%22)%20styles%5B%22text-shadow%22%5D%20%3D%20%60%24%7Bargs.COLOR%7D%20%24%7Bpos%5B0%5D%7Dpx%20%24%7Bpos%5B1%5D%7Dpx%20%24%7Bweight%5B0%5D%7Dpx%60%3B%0A%20%20%20%20%20%20else%20styles%5B%22box-shadow%22%5D%20%3D%20%60%24%7Bargs.COLOR%7D%20%24%7Bpos%5B0%5D%7Dpx%20%24%7Bpos%5B1%5D%7Dpx%20%24%7Bweight%5B0%5D%7Dpx%20%24%7Bweight%5B1%5D%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20resetElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20if%20(path%20%3D%3D%3D%20%22popups%22)%20styles%5B%22transform%22%5D%20%3D%20%22translate(-50%25%2C%20-50%25)%22%3B%0A%20%20%20%20%20%20styles%5B%22filter%22%5D%20%3D%20%22%22%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20const%20effectIndex%20%3D%20validEffects.findIndex((i)%20%3D%3E%20%7B%20return%20i.value%20%3D%3D%3D%20effect%20%7D)%3B%0A%20%20%20%20%20%20if%20(effectIndex%20%3D%3D%3D%20-1)%20return%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%0A%20%20%20%20%20%20let%20value%20%3D%20Cast.toNumber(args.VALUE)%3B%0A%20%20%20%20%20%20const%20cssTarget%20%3D%20effectIndex%20%3E%207%20%3F%20%22transform%22%20%3A%20%22filter%22%3B%0A%20%20%20%20%20%20const%20regex%20%3D%20new%20RegExp(%60%24%7Beffect%7D%5C%5C((%5B%5E)%5D*)%5C%5C)%60)%3B%0A%20%20%20%20%20%20styles%5B%22SPstorage%22%5D%5Beffect%5D%20%3D%20value%3B%0A%0A%20%20%20%20%20%20switch%20(effect)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22blur%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22px%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22brightness%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7B100%20-%20(value%20*%20-1)%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22opacity%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%201%20-%20(value%20%2F%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22saturate%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sepia%22%3A%0A%20%20%20%20%20%20%20%20case%20%22invert%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22%25%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22hue-rotate%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22deg%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22contrast%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7B100%20%2B%20value%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22rotate%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7Bvalue%20-%2090%7Ddeg%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22scaleX%22%3A%0A%20%20%20%20%20%20%20%20case%20%22scaleY%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2F%3D%20100%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22skewX%22%3A%0A%20%20%20%20%20%20%20%20case%20%22skewY%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22deg%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20newCSS%20%3D%20styles%5BcssTarget%5D.replace(regex%2C%20%22%22)%3B%0A%20%20%20%20%20%20styles%5BcssTarget%5D%20%3D%20newCSS%20%2B%20%60%24%7Beffect%7D(%24%7Bvalue%7D)%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20const%20isValidEffect%20%3D%20validEffects.findIndex((i)%20%3D%3E%20%7B%20return%20i.value%20%3D%3D%3D%20effect%20%7D)%3B%0A%20%20%20%20%20%20if%20(isValidEffect%20%3D%3D%3D%20-1)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20return%20styles%5B%22SPstorage%22%5D%5Beffect%5D%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20SPpopups())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Scenes%0A%2F%2F%20ID%3A%20SPscenes%0A%2F%2F%20Description%3A%20Create%20and%20Load%20Scenes%20in%20your%20Project!%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.1.0.03%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Scenes%20must%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNzAuNSIgaGVpZ2h0PSIxNzAuNSIgdmlld0JveD0iMCAwIDE3MC41IDE3MC41Ij48ZyBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiPjxwYXRoIGQ9Ik0wIDg1LjI1QzAgMzguMTY4IDM4LjE2OCAwIDg1LjI1IDBzODUuMjUgMzguMTY4IDg1LjI1IDg1LjI1LTM4LjE2OCA4NS4yNS04NS4yNSA4NS4yNVMwIDEzMi4zMzIgMCA4NS4yNSIgZmlsbD0iI2IzMmIyYiIvPjxwYXRoIGQ9Ik0xMC4yNSA4NS4yNWMwLTQxLjQyMSAzMy41NzktNzUgNzUtNzVzNzUgMzMuNTc5IDc1IDc1LTMzLjU3OSA3NS03NSA3NS03NS0zMy41NzktNzUtNzUiIGZpbGw9IiNmYTNlM2UiLz48cGF0aCBkPSJNNDUuNzg1IDEwMC44MzljLTQuMjI5IDAtNy42NjQtMy40MzctNy42NjQtNy42NjZWNTIuMzU4YzAtNC4yMjkgMy40MzUtNy42NjYgNy42NjQtNy42NjZoNDkuODIzYzQuMjI5IDAgNy42NjQgMy40MzcgNy42NjQgNy42NjZ2NDAuODE1YzAgNC4yMy0zLjQzNSA3LjY2Ni03LjY2NCA3LjY2NnoiIGZpbGw9IiNmYTNlM2UiLz48cGF0aCBkPSJNMTA0LjM1IDg3LjkzdjMuMDk0YzAgNi4wMTctNC44NzcgMTAuODk1LTEwLjg5NSAxMC44OTVoLTQ4LjAxYTguNDA1IDguNDA1IDAgMCAxLTguNDAzLTguNDA3bDEzLjI5LTEzLjk5YzIuMjM0LTEuOTcyIDYuMDYxLTEuNjQ1IDcuOTc0Ljk4NWwzLjY0OCAzLjcyN2MxLjkxNCAyLjYzIDMuMDc5LjMyMiA1LjYzLTEuNjVMODEuMjQ3IDY1LjAxYTUuMjg3IDUuMjg3IDAgMCAxIDcuMzM3LjMzMmwxNS40NDUgMjIuNTg3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMDQuMzUgNTIuNzA3djM5LjA2YTkuNjE1IDkuNjE1IDAgMCAxLTkuNjIgOS42Mkg0Ni42NTdhOS42MTUgOS42MTUgMCAwIDEtOS42MTUtOS42MnYtMzguNDZhOS42MTQgOS42MTQgMCAwIDEgOS42MTUtOS42MTRoNDguMzM3YzkuMjYyLS4wMzcgOS4zNTEgOS4wMTQgOS4zNTEgOS4wMTR6IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNOTUuNTgxIDEwMS4wNzdhNy42NTcgNy42NTcgMCAwIDAgNy42NTctNy42NTdWNTIuNjQ3YTcuNjU3IDcuNjU3IDAgMCAwLTcuNjU3LTcuNjU3aC00OS43N2E3LjY1NyA3LjY1NyAwIDAgMC03LjY1NiA3LjY1N1Y5My40MmE3LjY1NyA3LjY1NyAwIDAgMCA3LjY1NyA3LjY1N3ptLTUwLjk5OCAxLjM4NWE4LjAzNSA4LjAzNSAwIDAgMS04LjAzNS04LjAzNVY1MS42NGE4LjAzNSA4LjAzNSAwIDAgMSA4LjAzNS04LjAzNUg5Ni44MWE4LjAzNSA4LjAzNSAwIDAgMSA4LjAzNSA4LjAzNXY0Mi43ODdhOC4wMzUgOC4wMzUgMCAwIDEtOC4wMzUgOC4wMzV6IiBmaWxsPSIjZmZmIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMyIvPjxwYXRoIGQ9Ik03NC44OTIgMTI1LjI3MmMtNC4yMjkgMC03LjY2NC0zLjQzNy03LjY2NC03LjY2NVY3Ni43OWMwLTQuMjI5IDMuNDM1LTcuNjY2IDcuNjY0LTcuNjY2aDQ5LjgyM2M0LjIyOSAwIDcuNjY0IDMuNDM3IDcuNjY0IDcuNjY2djQwLjgxNmMwIDQuMjI4LTMuNDM1IDcuNjY1LTcuNjY0IDcuNjY1eiIgZmlsbD0iI2ZhM2UzZSIvPjxwYXRoIGQ9Ik0xMzMuNDU4IDExMi4zNjN2My4wOTRjMCA2LjAxNy00Ljg3OCAxMC44OTUtMTAuODk2IDEwLjg5NWgtNDguMDFhOC40MDUgOC40MDUgMCAwIDEtOC40MDMtOC40MDdsMTMuMjg5LTEzLjk5YzIuMjM1LTEuOTcxIDYuMDYyLTEuNjQ1IDcuOTc1Ljk4NmwzLjY0OCAzLjcyNmMxLjkxNCAyLjYzIDMuMDc5LjMyMiA1LjYzLTEuNjVsMTMuNjYzLTE3LjU3NGE1LjI4NyA1LjI4NyAwIDAgMSA3LjMzNy4zMzJsMTUuNDQ1IDIyLjU4OHoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMTMzLjQ1OCA3Ny4xNHYzOS4wNmE5LjYxNSA5LjYxNSAwIDAgMS05LjYyIDkuNjJINzUuNzY0YTkuNjE1IDkuNjE1IDAgMCAxLTkuNjE1LTkuNjJWNzcuNzQxYzAtNS4zMDggNC4zMDItOS42MTUgOS42MTUtOS42MTVoNDguMzM3YzkuMjYyLS4wMzcgOS4zNTEgOS4wMTQgOS4zNTEgOS4wMTR6IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNMTI0LjY4OCAxMjUuNTFhNy42NTcgNy42NTcgMCAwIDAgNy42NTctNy42NTdWNzcuMDhhNy42NTcgNy42NTcgMCAwIDAtNy42NTctNy42NTdoLTQ5Ljc3YTcuNjU3IDcuNjU3IDAgMCAwLTcuNjU2IDcuNjU3djQwLjc3M2E3LjY1NyA3LjY1NyAwIDAgMCA3LjY1NyA3LjY1N3ptLTUwLjk5OCAxLjM4NWE4LjAzNSA4LjAzNSAwIDAgMS04LjAzNS04LjAzNVY3Ni4wNzNhOC4wMzUgOC4wMzUgMCAwIDEgOC4wMzUtOC4wMzVoNTIuMjI3YTguMDM1IDguMDM1IDAgMCAxIDguMDM1IDguMDM1djQyLjc4N2E4LjAzNSA4LjAzNSAwIDAgMS04LjAzNSA4LjAzNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIzIi8%2BPC9nPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20const%20sceneSVG%20%3D%0A%60%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218.331%22%20height%3D%2218.331%22%20viewBox%3D%220%200%2018.331%2018.331%22%3E%3Cg%20stroke-miterlimit%3D%2210%22%3E%3Cpath%20d%3D%22M15.55%2012.085v.587a2.067%202.067%200%200%201-2.067%202.067H4.375c-.88%200-1.594-.714-1.594-1.595h0l2.521-2.654c.424-.374%201.15-.312%201.513.187l.692.707c.363.499.584.061%201.068-.313l2.592-3.334a1.003%201.003%200%200%201%201.392.063l2.93%204.285z%22%20fill%3D%22%23COLOR%22%20stroke%3D%22%23COLOR%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M15.55%205.403v7.41a1.824%201.824%200%200%201-1.825%201.825h-9.12a1.824%201.824%200%200%201-1.824-1.825V5.517c0-1.007.816-1.824%201.824-1.824h9.17c1.757-.007%201.774%201.71%201.774%201.71z%22%20fill%3D%22none%22%20stroke%3D%22%23COLOR%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%2F%3E%3Cpath%20d%3D%22M0%2018.331V0h18.331v18.331z%22%20fill%3D%22none%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%60%3B%0A%20%20const%20defaultSceneThumb%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI0ODAuMDAwMDEiIGhlaWdodD0iMzYwIiB2aWV3Qm94PSIwLDAsNDgwLjAwMDAxLDM2MCI%2BPGcgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBkPSJNMCwzNjB2LTM2MGg0ODB2MzYweiIgZmlsbD0iIzlhOWE5YSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiLz48cGF0aCBkPSJNMCwzNjBsMC4yMTAyNiwtNTAuMjE4MWwxMjEuNDIwMzcsLTEzNi41OTU3MWw3OS4yMDMwNyw2NC42NzMzNWwxNDQuNzAzMTEsLTE1MC40OTA1bDEzNC4yMzc4MiwxNDMuNzYzNzRsMC4yMjUzOCwxMjguODY3MjJ6IiBmaWxsPSIjNGU0ZTRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIvPjxwYXRoIGQ9Ik0yNS41NDA1NCw3OS44NzY1NmMwLC0zMC4yNjc4NiAyNC41MzY5NCwtNTQuODA0OCA1NC44MDQ4LC01NC44MDQ4YzMwLjI2Nzg2LDAgNTQuODA0ODEsMjQuNTM2OTQgNTQuODA0ODEsNTQuODA0OGMwLDMwLjI2Nzg2IC0yNC41MzY5NSw1NC44MDQ4MSAtNTQuODA0OCw1NC44MDQ4MWMtMzAuMjY3ODYsMCAtNTQuODA0OCwtMjQuNTM2OTUgLTU0LjgwNDgsLTU0LjgwNDgxeiIgZmlsbD0iIzRlNGU0ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM5YTlhOWEiIHN0cm9rZS13aWR0aD0iMjIuNSI%2BPHBhdGggZD0iTTI1NC44MzE2LDIwMS41MDE3NGMxMi42NTE2OCwxMi42NTE2OCA2My40NDUwNSw2My40NDUwNSA2My40NDUwNSw2My40NDUwNWMyLjI5NzkxLDIuMjk3OTEgMi4yOTc5MSw2LjAzMDE3IDAsOC4zMjgwOGMtMS4xNTEzNSwxLjE0NjU1IC0yLjY1NzcxLDEuNzI3MDEgLTQuMTY0MDUsMS43MjcwMWgwLjAwMDAyYy0xLjUwNjM2LDAgLTMuMDEyNzEsLTAuNTc1NjYgLTQuMTY0MDUsLTEuNzIyMjFjMCwwIC01MS45MTAwNCwtNTEuOTExNzQgLTY0LjExMzA3LC02NC4xMTUxNyIvPjxwYXRoIGQ9Ik0yOTUuNDYwNzksMjE4LjM5NjI5YzAsMTcuODg5MDggLTE0LjUwNjk4LDMyLjM5NjA0IC0zMi4zOTYwNCwzMi4zOTYwNGMtMTYuNjE2LDAgLTMwLjMxLC0xMi41MTU2NSAtMzIuMTc0OTIsLTI4LjYzMjE5Yy0wLjAxMjMyLC0wLjEwNjQzIDEuNTc1NTgsLTEwLjY3ODY0IDAuNzkyMzgsLTExLjUwMzAzYy0wLjgxNzk3LC0wLjg2MDk4IC00LjAwNjY5LDguMDI1NjYgLTMuOTI5MTMsNy45NzI4NGM0LjE0OTc2LC0yLjgyNjEyIDE2LjU2NDI4LC0xMS45ODkwMyAyMi40MzI4MiwtMTcuNzg1NDVjNi45MTk0MywtNi44MzQ0IDE0LjEzMjE5LC0xOC44MDk1NiAxNC4xNzgwMiwtMTguNjQyNjNjMC4wNzk2NiwwLjI5MDE5IC0xLjQ5NDc0LDIuNDc0OTQgLTAuOTEzOTIsMy40NjcxM2MwLjU5MTE4LDEuMDA5ODggMy4yNjA2NSwwLjUzNzYzIDMuNTU1MzEsMC41NzMzOGMxNi4wMzEyMywxLjk0NDc5IDI4LjQ1NTQ5LDE1LjYwMzEzIDI4LjQ1NTQ5LDMyLjE1MzkxeiIvPjwvZz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI%2BPHBhdGggZD0iTTMwOS45NDg1NywyNzMuMjc5NjdjMCwwIC02MC41OTI4MSwtNjAuNTk0OCAtNjkuOTQ2MzEsLTY5Ljk0ODZjLTIuMzQ2OTQsLTIuMzQ3MDIgNC44MDcwNywtMTEuODUxNiA2LjY2MjY3LC05Ljk5NmM4LjUyOTk2LDguNTI5OTYgNzEuNjExNzIsNzEuNjExNzIgNzEuNjExNzIsNzEuNjExNzJjMi4yOTc5MSwyLjI5NzkxIDIuMjk3OTEsNi4wMzAxNyAwLDguMzI4MDhjLTEuMTUxMzQsMS4xNDY1NSAtMi42NTc3LDEuNzI3MDEgLTQuMTY0MDMsMS43MjcwMWgtMC4wMDAwMmMtMS41MDYzNSwwIC0zLjAxMjY5LC0wLjU3NTY3IC00LjE2NDAzLC0xLjcyMjIxeiIgZmlsbD0iIzRlNGU0ZSIvPjxwYXRoIGQ9IiIgZmlsbD0iIzVkM2U5YiIvPjxwYXRoIGQ9IiIgZmlsbD0iIzVkM2U5YiIvPjxwYXRoIGQ9IiIgZmlsbD0iIzVkM2U5YiIvPjxwYXRoIGQ9Ik0yNTkuMjYwNzUsMTkwLjE3OTUyYy0zLjkxOTM2LDE2LjU5ODI0IC0xOS45NTkxMywyNy4xNzEyOSAtMzYuNTMyODUsMjQuNTU5MzVjMC44MDA3MywtMS4xMzgxNSAzNi43OTE5MywtMzguNDAzODMgMzYuOTg1NjUsLTM3LjIxOTI4YzAuNjY4NzQsNC4wODkzNSAwLjU1ODg0LDguMzc1NzMgLTAuNDUyOCwxMi42NTk5M3oiIGZpbGw9IiM0ZTRlNGUiLz48cGF0aCBkPSIiIGZpbGw9IiM1ZDNlOWIiLz48cGF0aCBkPSJNMjk1LjQ2MDc5LDIxOC4wNjI5NWMwLDE3Ljg4OTA4IC0xNC41MDY5OCwzMi4zOTYwNCAtMzIuMzk2MDQsMzIuMzk2MDRjLTE3Ljg4OTA4LDAgLTMyLjM5MTI2LC0xNC41MDY5OCAtMzIuMzkxMjYsLTMyLjM5NjA0YzAsLTE3Ljg4OTA4IDE0LjUwMjE4LC0zMi4zOTEyNiAzMi4zOTEyNiwtMzIuMzkxMjZjMTcuODg5MDgsMCAzMi4zOTYwNCwxNC41MDY5OCAzMi4zOTYwNCwzMi4zOTEyNnoiIGZpbGw9IiM0ZTRlNGUiLz48L2c%2BPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNGU0ZTRlIiBzdHJva2Utd2lkdGg9IjIyLjUiPjxwYXRoIGQ9Ik0yNDEuMDIxNDUsMjA0LjM1MDNsLTc4LjA2NjM5LC03OC4wNjg5NGMtMi4yOTc5MSwtMi4yOTc5MSAtMi4yOTc5MSwtNi4wMzAxNyAwLC04LjMyODA4YzIuMjk3OTEsLTIuMjk3OTEgNi4wMzAxNywtMi4yOTc5MSA4LjMyODA4LDBsNzcuNjUwOTQsNzcuNjUwOTQiLz48cGF0aCBkPSJNMjI0Ljc4MjQzLDE0Ny4zODkzOGMwLDE3Ljg4OTA4IC0xNC41MDIxOCwzMi4zOTEyNiAtMzIuMzkxMjYsMzIuMzkxMjZjLTE3Ljg4OTA4LDAgLTMyLjM5MTI2LC0xNC41MDIxOCAtMzIuMzkxMjYsLTMyLjM5MTI2YzAsLTE3Ljg4OTA4IDE0LjUwMjE4LC0zMi4zOTEyNiAzMi4zOTEyNiwtMzIuMzkxMjZjMTcuODg5MDgsMCAzMi4zOTEyNiwxNC41MDIxOCAzMi4zOTEyNiwzMi4zOTEyNnoiLz48cGF0aCBkPSJNMjIwLjI5MjU0LDIxNC4yNTk5M2MtMTcuNDEwNCwtNC4xMTExNCAtMjguMTkxNTUsLTIxLjU1NzgxIC0yNC4wODAzOSwtMzguOTY4MmM0LjExMTE0LC0xNy40MTA0IDIxLjU1NzgxLC0yOC4xOTE1NSAzOC45NjgxOSwtMjQuMDgwMzljMTIuMzM3MzUsMi45MTMyMyAyMS4zNDU4NywxMi41MjI3OSAyNC4wODUzNSwyNC4wNzA2Ii8%2BPHBhdGggZD0iTTIzMC45MzIxMywyMTMuOTUwMTZjMS41NjQyNSwtMTIuMzQ0MzUgMTAuMDc2MjQsLTIyLjUyMjA0IDIxLjQ5MzY0LC0yNi40OTA3NCIvPjwvZz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSI%2BPHBhdGggZD0iTTE2Mi45NTUwNSwxMjYuMjgxMzVjLTIuMjk3OTEsLTIuMjk3OTEgLTIuMjk3OTEsLTYuMDMwMTcgMCwtOC4zMjgwOGMyLjI5NzkxLC0yLjI5NzkxIDYuMDMwMTcsLTIuMjk3OTEgOC4zMjgwOCwwYzAsMCA2MC4zNDU4NSw2MC4zNDU4NSA3MS4yODE4LDcxLjI4MThjMy4yNjg5NSwzLjI2ODk1IC00Ljk4MzYsMTEuNjc0OTkgLTguNTI5MjMsOC4xMjkyNWMtMTEuMzA5OTksLTExLjMxMDM2IC03MS4wODA2NSwtNzEuMDgyOTcgLTcxLjA4MDY1LC03MS4wODI5N3oiIGZpbGw9IiM5YTlhOWEiLz48cGF0aCBkPSIiIGZpbGw9IiM5OTY2ZmYiLz48cGF0aCBkPSJNMjI0Ljc4MjQzLDE0Ny4zODkzOGMwLDE3Ljg4OTA4IC0xNC41MDIxOCwzMi4zOTEyNiAtMzIuMzkxMjYsMzIuMzkxMjZjLTE3Ljg4OTA4LDAgLTMyLjM5MTI2LC0xNC41MDIxOCAtMzIuMzkxMjYsLTMyLjM5MTI2YzAsLTE3Ljg4OTA4IDE0LjUwMjE4LC0zMi4zOTEyNiAzMi4zOTEyNiwtMzIuMzkxMjZjMTcuODg5MDgsMCAzMi4zOTEyNiwxNC41MDIxOCAzMi4zOTEyNiwzMi4zOTEyNnoiIGZpbGw9IiM5YTlhOWEiLz48cGF0aCBkPSJNMjIwLjI5MjU1LDIxNC4yNTk5MmMtMTcuNDEwNCwtNC4xMTExNCAtMjguMTkxNTUsLTIxLjU1NzgxIC0yNC4wODA0LC0zOC45NjgyYzQuMTExMTQsLTE3LjQxMDQgMjEuNTU3ODEsLTI4LjE5MTU1IDM4Ljk2ODIsLTI0LjA4MDRjMTMuNTk2NzEsMy4yMTA2IDIzLjE1MDMyLDE0LjU1NDM5IDI0LjcyNTE4LDI3LjY2MjQ0Yy0yLjg1NzYzLDIuNDkyODIgLTM0LjgwODQ4LDM2LjIyMjYgLTM2Ljk1NjI5LDM1Ljg5OTIyYy0wLjg4NDQ5LC0wLjEzMzE3IC0xLjc3MDYzLC0wLjMwMzgzIC0yLjY1NjY5LC0wLjUxMzA2eiIgZmlsbD0iIzlhOWE5YSIvPjxwYXRoIGQ9IiIgZmlsbD0iIzk5NjZmZiIvPjwvZz48L2c%2BPC9zdmc%2B%22%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%20%20const%20isPM%20%3D%20Scratch.extensions.isPenguinMod%3B%0A%20%20const%20isEditor%20%3D%20typeof%20scaffolding%20%3D%3D%3D%20%22undefined%22%3B%0A%0A%20%20let%20thisScene%20%3D%20%22%22%3B%0A%20%20let%20scenes%20%3D%20%7B%7D%3B%0A%20%20let%20sceneThumbs%20%3D%20%7B%7D%3B%0A%0A%20%20%2F%2F%20custom%20GUI%0A%20%20let%20guiElements%20%3D%20%7B%7D%3B%0A%0A%20%20function%20openModal(titleName%2C%20func)%20%7B%0A%20%20%20%20%2F%2F%20in%20a%20Button%20Context%2C%20ScratchBlocks%20always%20exists%0A%20%20%20%20ScratchBlocks.prompt(%0A%20%20%20%20%20%20titleName%2C%0A%20%20%20%20%20%20%22%22%2C%0A%20%20%20%20%20%20(value)%20%3D%3E%20func(value)%2C%0A%20%20%20%20%20%20%22Scene%20Manager%22%2C%0A%20%20%20%20%20%20%22broadcast_msg%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20attachTab()%20%7B%0A%20%20%20%20const%20tabs%20%3D%20document.querySelectorAll(%60li%5Bclass*%3D%22react-tabs_react-tabs__tab%22%5D%60)%3B%0A%20%20%20%20const%20lastTab%20%3D%20tabs%5Btabs.length%20-%201%5D%3B%0A%20%20%20%20const%20cloneTab%20%3D%20lastTab.cloneNode(true)%3B%0A%20%20%20%20lastTab.insertAdjacentElement(%22afterend%22%2C%20cloneTab)%3B%0A%0A%20%20%20%20const%20childs%20%3D%20isPM%20%3F%20cloneTab.firstChild.children%20%3A%20cloneTab.children%3B%0A%20%20%20%20childs%5B0%5D.src%20%3D%20constructTabIMG()%3B%0A%20%20%20%20childs%5B1%5D.textContent%20%3D%20%22Scenes%22%3B%0A%20%20%20%20guiElements%5B%22cloneTab%22%5D%20%3D%20%7B%20cloneTab%2C%20img%3A%20childs%5B0%5D%20%7D%3B%0A%20%20%20%20cloneTab.setAttribute(%22style%22%2C%20%22display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%22)%3B%0A%20%20%20%20cloneTab.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20ReduxStore.dispatch(%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22scratch-gui%2Fnavigation%2FACTIVATE_TAB%22%2C%20activeTabIndex%3A%20-1%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20startListenerWorker()%20%7B%0A%20%20%20%20const%20checkInEditor%20%3D%20()%20%3D%3E%20!ReduxStore.getState().scratchGui.mode.isPlayerOnly%3B%0A%20%20%20%20let%20inEditor%20%3D%20checkInEditor()%3B%0A%20%20%20%20if%20(inEditor)%20attachTab()%3B%0A%20%20%20%20ReduxStore.subscribe(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20currentlyInEditor%20%3D%20checkInEditor()%3B%0A%20%20%20%20%20%20if%20(inEditor%20!%3D%3D%20currentlyInEditor)%20%7B%0A%20%20%20%20%20%20%20%20inEditor%20%3D%20currentlyInEditor%3B%0A%20%20%20%20%20%20%20%20if%20(inEditor)%20vm.once(%22workspaceUpdate%22%2C%20()%20%3D%3E%20attachTab())%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(currentlyInEditor)%20%7B%0A%20%20%20%20%20%20%20%20if%20(guiElements%5B%22cloneTab%22%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20thisTab%20%3D%20ReduxStore.getState().scratchGui.editorTab.activeTabIndex%3B%0A%20%20%20%20%20%20%20%20%20%20const%20tabImg%20%3D%20guiElements%5B%22cloneTab%22%5D.img%3B%0A%20%20%20%20%20%20%20%20%20%20tabImg.src%20%3D%20constructTabIMG()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(thisTab%20%3D%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20guiElements%5B%22cloneTab%22%5D.cloneTab.style.height%20%3D%20%22calc(100%25%20-%2015%25)%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tabImg.style.filter%20%3D%20%22saturate(1)%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20guiElements%5B%22manager%22%5D%3F.remove()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20openSceneTab()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20guiElements%5B%22cloneTab%22%5D.cloneTab.style.height%20%3D%20%22calc(100%25%20-%2020%25)%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tabImg.style.filter%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20guiElements%5B%22manager%22%5D%3F.remove()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20guiElements%5B%22manager%22%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20if%20(isEditor)%20startListenerWorker()%3B%0A%0A%20%20function%20openSceneTab()%20%7B%0A%20%20%20%20const%20theme%20%3D%20%7B%0A%20%20%20%20%20%20main%3A%20isPM%20%3F%20%22%2300c3ff%22%20%3A%20document.documentElement.style.getPropertyValue(%22--looks-secondary%22)%20%7C%7C%20%22%23ff4c4c%22%2C%0A%20%20%20%20%20%20fade%3A%20isPM%20%3F%20%22hsla(194%2C100%25%2C50%25%2C0.35)%22%20%3A%20document.documentElement.style.getPropertyValue(%22--looks-transparent%22)%20%7C%7C%20%22%23ff4d4d59%22%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20container%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20container.classList.add(%22scene-manager%22)%3B%0A%20%20%20%20container.setAttribute(%22style%22%2C%20%22height%3A%2095%25%3B%22)%3B%0A%0A%20%20%20%20const%20inner%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20inner.classList.add(%22manager-inner%22)%3B%0A%20%20%20%20inner.setAttribute(%22style%22%2C%20%22height%3A%20100%25%3B%20overflow-y%3A%20auto%3B%20margin%3A%200%2015px%2015px%2015px%3B%20display%3A%20flex%3B%20flex-wrap%3A%20wrap%3B%20align-content%3A%20flex-start%3B%20align-items%3A%20stretch%3B%20border%3A%20grey%20solid%201px%3B%20border-radius%3A%200%2010px%2010px%200%3B%22)%3B%0A%20%20%20%20Object.entries(sceneThumbs).forEach((item)%20%3D%3E%20inner.appendChild(genGUIThumb(item%2C%20theme)))%3B%0A%0A%20%20%20%20container.appendChild(inner)%3B%0A%20%20%20%20const%20guiSpace%20%3D%20document.querySelector(%60div%5Bclass%5E%3D%22gui_tabs_%22%5D%60).firstChild%3B%0A%20%20%20%20guiSpace.insertAdjacentElement(%22afterend%22%2C%20container)%3B%0A%20%20%20%20guiElements%5B%22manager%22%5D%20%3D%20container%3B%0A%20%20%7D%0A%0A%20%20function%20constructTabIMG()%20%7B%0A%20%20%20%20const%20theme%20%3D%20isPM%20%3F%20%22%2300c3ff%22%20%3A%20document.documentElement.style.getPropertyValue(%22--looks-secondary%22)%20%7C%7C%20%22%23ff4c4c%22%3B%0A%20%20%20%20return%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(sceneSVG.replaceAll(%22%23COLOR%22%2C%20theme))%7D%60%3B%0A%20%20%7D%0A%0A%20%20function%20genGUIThumb(sceneInfo%2C%20theme)%20%7B%0A%20%20%20%20const%20thumbDiv%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20if%20(thisScene%20%3D%3D%3D%20sceneInfo%5B0%5D)%20%7B%0A%20%20%20%20%20%20thumbDiv.setAttribute(%22style%22%2C%20%60width%3A%2022.5%25%3B%20height%3A%20max-content%3B%20padding%3A%204px%3B%20margin%3A%201.2%25%3B%20background%3A%20%24%7Btheme.main%7D%3B%20border-radius%3A%2015px%3B%20cursor%3A%20pointer%3B%20transition%3A%20box-shadow%20200ms%20ease-in-out%3B%60)%3B%0A%20%20%20%20%20%20thumbDiv.style.boxShadow%20%3D%20%60%24%7Btheme.fade%7D%200px%200px%200px%205px%60%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20thumbDiv.setAttribute(%22style%22%2C%20%60width%3A%2022.5%25%3B%20height%3A%20max-content%3B%20padding%3A%204px%3B%20margin%3A%201.2%25%3B%20border%3A%20solid%20grey%202px%3B%20border-radius%3A%2015px%3B%20cursor%3A%20pointer%3B%20transition%3A%20box-shadow%20200ms%20ease-in-out%3B%60)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20thumbImg%20%3D%20document.createElement(%22img%22)%3B%0A%20%20%20%20thumbImg.setAttribute(%22style%22%2C%20%22border-radius%3A%2010px%2010px%200%200%3B%20width%3A%20100%25%3B%22)%3B%0A%20%20%20%20thumbImg.src%20%3D%20sceneInfo%5B1%5D.img%3B%0A%20%20%20%20thumbDiv.appendChild(thumbImg)%3B%0A%0A%20%20%20%20const%20title%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20title.setAttribute(%22style%22%2C%20%22width%3A%20100%25%3B%20padding%3A%200%205px%205px%205px%3B%20text-align%3A%20center%3B%20text-overflow%3A%20ellipsis%3B%20white-space%3A%20nowrap%3B%20overflow%3A%20hidden%3B%22)%3B%0A%20%20%20%20title.textContent%20%3D%20sceneInfo%5B0%5D%3B%0A%0A%20%20%20%20thumbDiv.addEventListener(%22mouseleave%22%2C%20()%20%3D%3E%20%7B%20thumbDiv.style.boxShadow%20%3D%20%22%22%20%7D)%3B%0A%20%20%20%20thumbDiv.addEventListener(%22mouseenter%22%2C%20()%20%3D%3E%20%7B%20thumbDiv.style.boxShadow%20%3D%20%60%24%7Btheme.fade%7D%200px%200px%200px%205px%60%20%7D)%3B%0A%20%20%20%20thumbDiv.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20runtime.getOpcodeFunction(%22SPscenes_switchScene%22)(%7B%20NAME%3A%20sceneInfo%5B0%5D%20%7D)%3B%0A%20%20%20%20%20%20if%20(sceneInfo%5B1%5D.isDefault)%20runtime.once(%22BEFORE_EXECUTE%22%2C%20async%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20sceneInfo%5B1%5D.isDefault%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20sceneInfo%5B1%5D.img%20%3D%20await%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20render.requestSnapshot((uri)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20thumbImg.src%20%3D%20uri%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve(uri)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20thumbDiv.append(thumbImg%2C%20title)%3B%0A%20%20%20%20return%20thumbDiv%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Turbowarp%20Storage%0A%20%20if%20(!isPM)%20%7B%0A%20%20%20%20runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20stored%20%3D%20runtime.extensionStorage%5B%22SPscenes%22%5D%3B%0A%20%20%20%20%20%20if%20(stored)%20%7B%0A%20%20%20%20%20%20%20%20scenes%20%3D%20stored.scenes%3B%0A%20%20%20%20%20%20%20%20if%20(isEditor)%20Object.keys(scenes).forEach((name)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20sceneThumbs%5Bname%5D%20%3D%20%7B%20isDefault%3A%20true%2C%20img%3A%20defaultSceneThumb%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20class%20SPscenes%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPscenes%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Scenes%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23fa3e3e%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23d43333%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23b32b2b%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22createBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Make%20a%20Scene%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22deleteBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Remove%20a%20Scene%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createScene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22create%20new%20scene%20named%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22scene-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteScene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20scene%20named%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22scene-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteAll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20all%20scenes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allScenes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22all%20scenes%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenSceneSwitch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20scene%20switches%20to%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22SCENES_ALL%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22currentScene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22current%20scene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22switchScene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22switch%20to%20scene%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22SCENES%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22updateScene%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22update%20contents%20of%20scene%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22SCENES%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20SCENES_ALL%3A%20%7B%20acceptReporters%3A%20false%2C%20items%3A%20%22getScenesAll%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20SCENES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%22getScenes%22%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getScenes()%20%7B%0A%20%20%20%20%20%20const%20sceneList%20%3D%20Object.keys(scenes)%3B%0A%20%20%20%20%20%20return%20sceneList.length%20%3E%200%20%3F%20sceneList%20%3A%20%5B%22create%20a%20scene!%22%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getScenesAll()%20%7B%0A%20%20%20%20%20%20const%20sceneList%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22any%22%2C%20value%3A%20%22_any_%22%20%7D%2C%0A%20%20%20%20%20%20%20%20...Object.keys(scenes)%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20return%20sceneList%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createBtn()%20%7B%0A%20%20%20%20%20%20openModal(%22New%20Scene%20name%3A%22%2C%20async%20(name)%20%3D%3E%7B%0A%20%20%20%20%20%20%20%20if%20(name)%20%7B%0A%20%20%20%20%20%20%20%20%20%20scenes%5Bname%5D%20%3D%20this.convert2Scene()%3B%0A%20%20%20%20%20%20%20%20%20%20sceneThumbs%5Bname%5D%20%3D%20%7B%20isDefault%3A%20false%2C%20img%3A%20%22%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20sceneThumbs%5Bname%5D.img%20%3D%20await%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20render.requestSnapshot((uri)%20%3D%3E%20%7B%20resolve(uri)%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20this.refreshBlocks(true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteBtn()%20%7B%0A%20%20%20%20%20%20openModal(%22Remove%20Scene%20named%3A%22%2C%20(name)%20%3D%3E%7B%0A%20%20%20%20%20%20%20%20if%20(name)%20%7B%0A%20%20%20%20%20%20%20%20%20%20delete%20scenes%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20sceneThumbs%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20this.refreshBlocks(true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20refreshBlocks(optSaveStorage)%20%7B%0A%20%20%20%20%20%20if%20(isEditor)%20%7B%0A%20%20%20%20%20%20%20%20runtime.once(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%20runtime.requestBlocksUpdate()%20%7D)%3B%0A%20%20%20%20%20%20%20%20if%20(optSaveStorage%20%26%26%20!isPM)%20runtime.extensionStorage%5B%22SPscenes%22%5D%20%3D%20%7B%20scenes%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20convert2Scene()%20%7B%0A%20%20%20%20%20%20%2F%2F%20encode%20scene%20data%0A%20%20%20%20%20%20const%20sceneData%20%3D%20%7B%20targets%3A%20%7B%7D%2C%20extra%3A%20%7B%7D%20%7D%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20runtime.targets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20runtime.targets%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20const%20realId%20%3D%20isPM%20%3F%20target.id%20%3A%20target.extensionStorage%5B%22SPscenes%22%5D%3F.ogID%20%7C%7C%20target.id%3B%0A%20%20%20%20%20%20%20%20const%20cloneOrigin%20%3D%20target.sprite.clones%5B0%5D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Turbowarp%20doesnt%20use%20the%20same%20target%20ID%20every%20project%20load%20%3A(%0A%20%20%20%20%20%20%20%20if%20(!isPM%20%26%26%20!target.extensionStorage%5B%22SPscenes%22%5D)%20target.extensionStorage%5B%22SPscenes%22%5D%20%3D%20%7B%20ogID%3A%20realId%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20const%20safeVars%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20Object.values(target.variables).map((vari)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(!vari.isCloud)%20safeVars.push(%5Bvari.id%2C%20vari.value%5D)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20sceneData.targets%5BrealId%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20x%3A%20target.x%2C%20y%3A%20target.y%2C%0A%20%20%20%20%20%20%20%20%20%20rotation%3A%20target.rotationStyle%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20target.direction%2C%0A%20%20%20%20%20%20%20%20%20%20drag%3A%20target.draggable%2C%0A%20%20%20%20%20%20%20%20%20%20size%3A%20target.size%2C%0A%0A%20%20%20%20%20%20%20%20%20%20effects%3A%20structuredClone(target.effects)%2C%0A%20%20%20%20%20%20%20%20%20%20visible%3A%20target.visible%2C%0A%20%20%20%20%20%20%20%20%20%20costume%3A%20target.currentCostume%2C%0A%20%20%20%20%20%20%20%20%20%20vars%3A%20safeVars%2C%0A%0A%20%20%20%20%20%20%20%20%20%20tempo%3A%20target.tempo%2C%0A%20%20%20%20%20%20%20%20%20%20isStage%3A%20target.isStage%2C%0A%20%20%20%20%20%20%20%20%20%20isOg%3A%20target.isOriginal%2C%0A%20%20%20%20%20%20%20%20%20%20ogID%3A%20isPM%20%3F%20cloneOrigin.id%20%3A%20cloneOrigin.extensionStorage%5B%22SPscenes%22%5D%3F.ogID%20%7C%7C%20cloneOrigin.id%2C%0A%20%20%20%20%20%20%20%20%20%20penData%3A%20structuredClone(target._customState%5B%22Scratch.pen%22%5D)%20%7C%7C%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20extStore%3A%20target.extensionStorage%20%7C%7C%20%7B%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(runtime.ext_videoSensing%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20sceneData.extra.videoSensing%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20isOn%3A%20runtime.ext_videoSensing.globalVideoState%2C%0A%20%20%20%20%20%20%20%20%20%20ghost%3A%20runtime.ext_videoSensing.globalVideoTransparency%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(runtime.ext_pen%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20const%20penSource%20%3D%20render._allDrawables%5Bruntime.ext_pen._penDrawableId%5D%3B%0A%20%20%20%20%20%20%20%20const%20penSkin%20%3D%20penSource%3F.skin%3B%0A%20%20%20%20%20%20%20%20if%20(penSkin)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20effects%20%3D%20structuredClone(penSource._uniforms)%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20effects.u_silhouetteColor%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20effects.u_modelMatrix%3B%0A%20%20%20%20%20%20%20%20%20%20sceneData.extra.penData%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20visible%3A%20penSource._visible%2C%20effects%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20direction%3A%20penSource._direction%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20size%3A%20%5BpenSource._scale%5B0%5D%2C%20penSource._scale%5B1%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%5BpenSource._position%5B0%5D%2C%20penSource._position%5B1%5D%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20pen%20attributes%20is%20sprite-based%20and%20is%20stored%20in%20target%20storage%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20save%20some%20runtime%20options%0A%20%20%20%20%20%20sceneData.extra.runtimeOpts%20%3D%20%7B%0A%20%20%20%20%20%20%20%20turbomode%3A%20runtime.turboMode%2C%0A%20%20%20%20%20%20%20%20interpolate%3A%20runtime.interpolationEnabled%2C%0A%20%20%20%20%20%20%20%20fence%3A%20runtime.runtimeOptions.fencing%2C%0A%20%20%20%20%20%20%20%20miscLim%3A%20runtime.runtimeOptions.miscLimits%2C%0A%20%20%20%20%20%20%20%20highQuality%3A%20render.useHighQualityRender%2C%0A%20%20%20%20%20%20%20%20fps%3A%20runtime.frameLoop.framerate%2C%0A%20%20%20%20%20%20%20%20dimensions%3A%20%5Bruntime.stageWidth%2C%20runtime.stageHeight%5D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20if%20(!isPM)%20%7B%0A%20%20%20%20%20%20%20%20const%20cleanStorage%20%3D%20structuredClone(runtime.extensionStorage)%3B%0A%20%20%20%20%20%20%20%20delete%20cleanStorage%5B%22SPscenes%22%5D%3B%0A%20%20%20%20%20%20%20%20sceneData.extra.extData%20%3D%20cleanStorage%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20save%20to%20storage%0A%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPscenes%22%5D%20%3D%20%7B%20scenes%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20sceneData%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch2Scene(name%2C%20sceneData)%20%7B%0A%20%20%20%20%20%20%2F%2F%20required%20to%20not%20delete%20real%20data%0A%20%20%20%20%20%20sceneData%20%3D%20structuredClone(sceneData)%3B%0A%20%20%20%20%20%20thisScene%20%3D%20name%3B%0A%0A%20%20%20%20%20%20let%20penSource%2C%20penSkin%3B%0A%20%20%20%20%20%20if%20(runtime.ext_pen%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20penSource%20%3D%20render._allDrawables%5Bruntime.ext_pen._penDrawableId%5D%3B%0A%20%20%20%20%20%20%20%20penSkin%20%3D%20penSource%3F.skin%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20decode%20Sprite%20data%0A%20%20%20%20%20%20const%20cloneHandler%20%3D%20(ogID)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20cloneTarget%20%3D%20isPM%20%3F%20runtime.getTargetById(ogID)%20%3A%0A%20%20%20%20%20%20%20%20%20%20runtime.targets.find((t)%20%3D%3E%20%7B%20return%20t.extensionStorage%5B%22SPscenes%22%5D%3F.ogID%20%3D%3D%3D%20ogID%20%7D)%3B%0A%20%20%20%20%20%20%20%20if%20(cloneTarget%20%3D%3D%3D%20undefined)%20return%20undefined%3B%0A%20%20%20%20%20%20%20%20const%20clone%20%3D%20cloneTarget.makeClone()%3B%0A%20%20%20%20%20%20%20%20if%20(clone)%20%7B%0A%20%20%20%20%20%20%20%20%20%20runtime.addTarget(clone)%3B%0A%20%20%20%20%20%20%20%20%20%20clone.goBehindOther(cloneTarget)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20clone%20%7C%7C%20undefined%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20const%20applyData%20%3D%20(target%2C%20data)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20target.x%20%3D%20data.x%3B%0A%20%20%20%20%20%20%20%20target.y%20%3D%20data.y%3B%0A%20%20%20%20%20%20%20%20target.rotationStyle%20%3D%20data.rotation%3B%0A%20%20%20%20%20%20%20%20target.direction%20%3D%20data.direction%3B%0A%20%20%20%20%20%20%20%20target.draggable%20%3D%20data.drag%3B%0A%20%20%20%20%20%20%20%20target.size%20%3D%20data.size%3B%0A%20%20%20%20%20%20%20%20target.effects%20%3D%20data.effects%3B%0A%20%20%20%20%20%20%20%20target.visible%20%3D%20data.visible%3B%0A%20%20%20%20%20%20%20%20target.currentCostume%20%3D%20data.costume%3B%0A%20%20%20%20%20%20%20%20data.vars.forEach((item)%20%3D%3E%20%7B%20target.variables%5Bitem%5B0%5D%5D.value%20%3D%20item%5B1%5D%20%7D)%3B%0A%20%20%20%20%20%20%20%20target.tempo%20%3D%20data.tempo%3B%0A%20%20%20%20%20%20%20%20target.extensionStorage%20%3D%20data.extStore%3B%0A%0A%20%20%20%20%20%20%20%20target.updateAllDrawableProperties()%3B%0A%20%20%20%20%20%20%20%20if%20(data.penData.penDown%20!%3D%3D%20undefined)%20penHandler(target%2C%20data.penData)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20const%20penHandler%20%3D%20(target%2C%20penData)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20penCtx%20%3D%20runtime.ext_pen%3B%0A%20%20%20%20%20%20%20%20const%20colorConvert%20%3D%20(r%2C%20g%2C%20b%2C%20a)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20red%20%3D%20Math.round(r%20*%20255)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20green%20%3D%20Math.round(g%20*%20255)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20blue%20%3D%20Math.round(b%20*%20255)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20alpha%20%3D%20Math.round(a%20*%20255)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20(alpha%20%3C%3C%2024)%20%7C%20(red%20%3C%3C%2016)%20%7C%20(green%20%3C%3C%208)%20%7C%20blue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(penData.penDown)%20penCtx.penDown(%7B%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20else%20penCtx.penUp(%7B%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20penCtx.setPenSizeTo(%7B%20SIZE%3A%20penData.penAttributes.diameter%20%7D%2C%20%7B%20target%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20penCtx.setPenColorToColor(%7B%20COLOR%3A%20colorConvert(...penData.penAttributes.color4f)%20%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20penCtx.setPenColorParamTo(%7B%20COLOR_PARAM%3A%20%22color%22%2C%20VALUE%3A%20penData.color%20%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20penCtx.setPenColorParamTo(%7B%20COLOR_PARAM%3A%20%22saturation%22%2C%20VALUE%3A%20penData.saturation%20%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20penCtx.setPenColorParamTo(%7B%20COLOR_PARAM%3A%20%22brightness%22%2C%20VALUE%3A%20penData.brightness%20%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%20%20penCtx.setPenColorParamTo(%7B%20COLOR_PARAM%3A%20%22transparency%22%2C%20VALUE%3A%20penData.transparency%20%7D%2C%20%7B%20target%20%7D)%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20iterate%20through%20each%20target%20and%20apply%20data%0A%20%20%20%20%20%20%2F%2F%20if%20there%20isnt%20any%2C%20remove%20extra%20sprites%20(delete%20clones%20vs%20hide%20normal%20sprites)%0A%20%20%20%20%20%20const%20targetData%20%3D%20sceneData.targets%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%20runtime.targets.length%3B%20i--%3B)%20%7B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20runtime.targets%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Turbowarp%20doesnt%20use%20the%20same%20target%20ID%20every%20project%20load%20%3A(%0A%20%20%20%20%20%20%20%20const%20realId%20%3D%20isPM%20%3F%20target.id%20%3A%20target.extensionStorage%5B%22SPscenes%22%5D%3F.ogID%20%7C%7C%20target.id%3B%0A%20%20%20%20%20%20%20%20const%20data%20%3D%20targetData%5BrealId%5D%3B%0A%20%20%20%20%20%20%20%20if%20(data%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(target.isOriginal)%20target.setVisible(false)%3B%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20runtime.disposeTarget(target)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20runtime.stopForTarget(target)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20applyData(target%2C%20data)%3B%0A%20%20%20%20%20%20%20%20delete%20targetData%5BrealId%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Object.entries(targetData).forEach((item)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20data%20%3D%20item%5B1%5D%3B%0A%20%20%20%20%20%20%20%20let%20target%3B%0A%20%20%20%20%20%20%20%20if%20(!data.isOg)%20target%20%3D%20cloneHandler(data.ogID)%3B%0A%20%20%20%20%20%20%20%20else%20if%20(data.isStage)%20target%20%3D%20runtime.getTargetForStage()%3B%0A%20%20%20%20%20%20%20%20else%20target%20%3D%20runtime.getTargetById(item%5B0%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20shouldnt%20happen%2C%20but%20just%20in%20case%0A%20%20%20%20%20%20%20%20if%20(target%20!%3D%3D%20undefined)%20applyData(target%2C%20data)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20decode%20Extra%20data%0A%20%20%20%20%20%20const%20extras%20%3D%20sceneData.extra%3B%0A%20%20%20%20%20%20const%20videoSensing%20%3D%20runtime.ext_videoSensing%3B%0A%20%20%20%20%20%20if%20(videoSensing%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20if%20(extras.videoSensing.isOn)%20runtime.ioDevices.video.enableVideo()%3B%0A%20%20%20%20%20%20%20%20else%20runtime.ioDevices.video.disableVideo()%3B%0A%20%20%20%20%20%20%20%20videoSensing.setVideoTransparency(extras.videoSensing.ghost)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(penSource%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20penSource.updateProperties(%7B%0A%20%20%20%20%20%20%20%20%20%20position%3A%20extras.penData.pos%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20extras.penData.direction%2C%0A%20%20%20%20%20%20%20%20%20%20scale%3A%20extras.penData.size%2C%0A%20%20%20%20%20%20%20%20%20%20visible%3A%20extras.penData.visible%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20Object.entries(extras.penData.effects).forEach((att)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20penSource._uniforms%5Batt%5B0%5D%5D%20%3D%20%5Batt%5B1%5D%5D%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20penSource.setConvexHullDirty()%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20runtimeOpts%20%3D%20extras.runtimeOpts%3B%0A%20%20%20%20%20%20render.setUseHighQualityRender(runtimeOpts.highQuality)%3B%0A%20%20%20%20%20%20vm.setTurboMode(runtimeOpts.turbomode)%3B%0A%20%20%20%20%20%20vm.setInterpolation(runtimeOpts.interpolate)%3B%0A%20%20%20%20%20%20vm.setFramerate(runtimeOpts.fps)%3B%0A%20%20%20%20%20%20vm.setStageSize(runtimeOpts.dimensions%5B0%5D%2C%20runtimeOpts.dimensions%5B1%5D)%3B%0A%20%20%20%20%20%20vm.setRuntimeOptions(%7B%20fencing%3A%20runtimeOpts.fence%20%7D)%3B%0A%0A%20%20%20%20%20%20if%20(!isPM)%20%7B%0A%20%20%20%20%20%20%20%20runtime.extensionStorage%20%3D%20sceneData.extra.extData%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20this%20to%20prevent%20repetition%20in%20the%20json%0A%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPscenes%22%5D%20%3D%20%7B%20scenes%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20runtime.startHats(%22SPscenes_whenSceneSwitch%22%2C%20%7B%20NAME%3A%20thisScene%20%7D)%3B%0A%20%20%20%20%20%20runtime.startHats(%22SPscenes_whenSceneSwitch%22%2C%20%7B%20NAME%3A%20%22_any_%22%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20createScene(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20if%20(scenes%5Bname%5D%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20scenes%5Bname%5D%20%3D%20this.convert2Scene()%3B%0A%20%20%20%20%20%20%20%20if%20(isEditor)%20sceneThumbs%5Bname%5D%20%3D%20%7B%20isDefault%3A%20true%2C%20img%3A%20defaultSceneThumb%20%7D%3B%0A%20%20%20%20%20%20%20%20this.refreshBlocks()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteScene(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20delete%20scenes%5Bname%5D%3B%0A%20%20%20%20%20%20if%20(isEditor)%20delete%20sceneThumbs%5Bname%5D%3B%0A%20%20%20%20%20%20if%20(thisScene%20%3D%3D%3D%20name)%20thisScene%20%3D%20%22%22%3B%0A%20%20%20%20%20%20this.refreshBlocks(true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteAll()%20%7B%0A%20%20%20%20%20%20scenes%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20sceneThumbs%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20this.refreshBlocks(true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20allScenes()%20%7B%20return%20JSON.stringify(Object.keys(scenes))%20%7D%0A%0A%20%20%20%20currentScene()%20%7B%20return%20thisScene%20%7D%0A%0A%20%20%20%20switchScene(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20if%20(scenes%5Bname%5D%20%3D%3D%3D%20undefined)%20alert(%60SPscenes%20--%20Scene%20named%3A%20%24%7Bname%7D%20does%20not%20exist!%60)%3B%0A%20%20%20%20%20%20else%20this.switch2Scene(name%2C%20scenes%5Bname%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateScene(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20if%20(scenes%5Bname%5D%20%3D%3D%3D%20undefined)%20alert(%60SPscenes%20--%20Scene%20named%3A%20%24%7Bname%7D%20does%20not%20exist!%60)%3B%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20scenes%5Bname%5D%20%3D%20this.convert2Scene()%3B%0A%20%20%20%20%20%20%20%20if%20(isEditor)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.refreshBlocks(true)%3B%0A%20%20%20%20%20%20%20%20%20%20sceneThumbs%5Bname%5D%20%3D%20%7B%20isDefault%3A%20true%2C%20img%3A%20defaultSceneThumb%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20PenguinMod%20Storage%0A%20%20%20%20serialize()%20%7B%0A%20%20%20%20%20%20return%20%7B%20SPscenes%3A%20%7B%20scenes%20%7D%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20deserialize(data)%20%7B%0A%20%20%20%20%20%20if%20(data.SPscenes%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20scenes%20%3D%20data.SPscenes.scenes%3B%0A%20%20%20%20%20%20%20%20if%20(isEditor)%20Object.keys(scenes).forEach((name)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20sceneThumbs%5Bname%5D%20%3D%20%7B%20isDefault%3A%20true%2C%20img%3A%20defaultSceneThumb%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20SPscenes())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Tune%20Shark%20V3%0D%0A%2F%2F%20ID%3A%20SPtuneShark3%0D%0A%2F%2F%20Description%3A%20An%20advanced%20audio%20engine%2C%20providing%20complex%20sound%20control.%0D%0A%2F%2F%20By%3A%20SharkPool%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A%2F%2F%20Version%20V.3.4.26%0D%0A%2F%2F%20Thanks%20to%20HOME%20for%20the%20song%20%22Resonance%22%20being%20used%20as%20the%20default%20audio%20link%0D%0A%0D%0A(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%0D%0A%20%20%20%20throw%20new%20Error(Scratch.translate(%22Tune%20Shark%20V3%20must%20be%20run%20unsandboxed%22))%3B%0D%0A%0D%0A%20%20const%20menuIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDIuMTg1IiBoZWlnaHQ9IjEwMi4xODUiIHZpZXdCb3g9IjAgMCAxMDIuMTg1IDEwMi4xODUiPjxnIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI%2BPHBhdGggZD0iTTAgNTEuMDkzQzAgMjIuODc1IDIyLjg3NSAwIDUxLjA5MyAwczUxLjA5MyAyMi44NzUgNTEuMDkzIDUxLjA5My0yMi44NzUgNTEuMDkzLTUxLjA5MyA1MS4wOTNTMCA3OS4zMTEgMCA1MS4wOTMiIGZpbGw9IiM0MDQwNDAiLz48cGF0aCBkPSJNNC44NiA1MS4wOTNjMC0yNS41MzQgMjAuNy00Ni4yMzMgNDYuMjMzLTQ2LjIzMyAyNS41MzQgMCA0Ni4yMzMgMjAuNyA0Ni4yMzMgNDYuMjMzIDAgMjUuNTM0LTIwLjcgNDYuMjMzLTQ2LjIzMyA0Ni4yMzMtMjUuNTM0IDAtNDYuMjMzLTIwLjctNDYuMjMzLTQ2LjIzMyIgZmlsbD0iIzY2NiIvPjxwYXRoIGQ9Ik03Mi44MzcgODYuNjQzdi0uMDAzYy0xLjI1NCAyLjUzNi00LjY2OCAzLjkzNS04LjI2NCAzLjE5Ny00LjExOC0uODQ0LTYuOTE1LTQuMTctNi4yNDYtNy40MjguNjY4LTMuMjYgNC41NDgtNS4yMTYgOC42NjYtNC4zNzEgMS44NzUuMzg0IDMuNDc0IDEuMjg0IDQuNiAyLjQ1N2w2LjY4My0xNC4xNzhjLTEwLjU2Ni00LjEzNS0xOS43Ni01LjA5Ni0xOS43Ni01LjA5NmwtOC45ODcgMTkuMDYxYy0uOTY2IDIuOTI3LTQuNjM2IDQuNjIyLTguNTIgMy44MjYtNC4xMTctLjg0NC02LjkxNC00LjE3LTYuMjQ2LTcuNDMuNjY5LTMuMjU4IDQuNTQ4LTUuMjE0IDguNjY3LTQuMzcgMS45MS4zOTEgMy41MzYgMS4zMTcgNC42NjQgMi41MjJsMTIuMDM1LTI1LjUwN3MxMy41MzIuMjM2IDI2Ljk0NyA3LjExNHoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMjguMzA5IDMwLjgzMSA0LjA0MyAyMy42ODQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8%2BPHBhdGggZD0iTTM0LjAzMyA1NS4yMTljMS4zOCAyLjYwNi0uNzcyIDYuMDQtNC44MDggNy42Ny00LjAzNyAxLjYzLTguNDI5LjgzNy05LjgxLTEuNzctMS4zOC0yLjYwNi43NzItNi4wNCA0LjgwOS03LjY3IDQuMDM2LTEuNjI5IDguNDI4LS44MzcgOS44MDkgMS43N20tNy45NS0yNy4wNjhzOS43MDUtMS43MDQgMTIuMzYzIDIuNzdjMi4zNzUgNCAuMDcxIDguNjk1LjIxMiAxMC4xMjguMTQgMS40MzMgMi4xNzUgMS4xMDkgMi4xNzUgMS4xMDlsLS4wMTQgMS42NzRzLTIuODY0LjY2OS0zLjQxMi0xLjMyYy0uNTQ3LTEuOTg4LS41Ni01Ljk3OC0yLjgyMy04LjIyNy0yLjI2NS0yLjI1LTcuNTM3LS43NTktNy41MzctLjc1OSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik02MC40MzYgMzUuMzcxYy0uMzMzIDIuMTE4LTIuMzUzIDMuMzA5LTQuMTg5IDQuMDAyLTEuNjUuNzI2LTMuNTUgMS4wMDgtNS4yNzYuMzctMS42MzEtLjM4MS0zLjE4OC0xLjgwNy0yLjk5NC0zLjU5OC4xNTQtMi4wODUgMS44OTYtMy44MjIgMy44NDItNC40MDUgMS45NC0uNzk5IDQuMjUzLS43MyA2LjEwNS4yNi45MTMuNDIxIDIuMTg5LTE0LjE0MiAzLjAzNS0yMC41ODMuMS0uNjQyIDIuNTg0LS40NyAyLjUxMy4xNTEgMCAwLTEuODU0IDE1LjUyMi0zLjAzNiAyMy44MDMiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4%3D%22%3B%0D%0A%20%20const%20blockIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBkPSJNMCA3OC45NzRWMGg3OC45NzR2NzguOTc0eiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Im02MS4yMDIgNTMuODM2LS4wMDItLjAwM2MtLjA2OCAzLjcxLTMuMzM3IDcuMjgtOC4wMTYgOC40MTYtNS4zNTkgMS4zMDItMTAuNTM4LTEuMDgtMTEuNTY4LTUuMzJzMi40OC04LjczMyA3LjgzOS0xMC4wMzVjMi40NC0uNTkzIDQuODQtLjQyIDYuODMxLjM0MnYtMjAuNTZjLTE0Ljg1IDEuMDAzLTI2LjI5OCA1LjAwNi0yNi4yOTggNS4wMDZ2MjcuNjQ0Yy40OSA0LjAxNC0yLjkxNiA4LjA3OC03Ljk3IDkuMzA2LTUuMzU4IDEuMzAxLTEwLjUzNy0xLjA4MS0xMS41NjctNS4zMjFzMi40OC04LjczMyA3LjgzOC0xMC4wMzVjMi40ODYtLjYwNCA0LjkzMy0uNDE0IDYuOTQ2LjM4NGwuMDEyLTM2Ljk5OHMxNi4xOS03LjI5IDM1Ljk1NS02LjYzM3oiIGZpbGw9IiNmZmYiLz48L2c%2BPC9zdmc%2B%22%3B%0D%0A%0D%0A%20%20const%20extraIcons%20%3D%20%7B%0D%0A%20%20%20%20set%3A%20%22dpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiID48cGF0aCBkPSJtNjQuNTMzIDQyLjYxIDIuMDQyLjg1NWE1LjAyIDUuMDIgMCAwIDEgMi42OSA2LjU3bC0xLjM3IDMuMjc0YTUuMDIgNS4wMiAwIDAgMS02LjU3IDIuNjlsLTIuMDQyLS44NTVhMjUgMjUgMCAwIDEtNC4yOTUgNC4yNmwuODQgMi4wNWE1LjAyIDUuMDIgMCAwIDEtMi43NDIgNi41NDhsLTMuMjg1IDEuMzQ1YTUuMDIgNS4wMiAwIDAgMS02LjU0OC0yLjc0MmwtLjg0LTIuMDVhMjUgMjUgMCAwIDEtNi4wNDktLjAyMmwtLjg1NSAyLjA0MmE1LjAyIDUuMDIgMCAwIDEtNi41NyAyLjY5bC0zLjI3NC0xLjM3YTUuMDIgNS4wMiAwIDAgMS0yLjY5LTYuNTdsLjg1NS0yLjA0MmEyNSAyNSAwIDAgMS00LjI2LTQuMjk1bC0yLjA1Ljg0YTUuMDIgNS4wMiAwIDAgMS02LjU0OC0yLjc0MmwtMS4zNDUtMy4yODVhNS4wMiA1LjAyIDAgMCAxIDIuNzQyLTYuNTQ4bDIuMDUtLjg0YTI1IDI1IDAgMCAxIC4wMjItNi4wNDlsLTIuMDQyLS44NTVhNS4wMiA1LjAyIDAgMCAxLTIuNjktNi41N2wxLjM3LTMuMjc0YTUuMDIgNS4wMiAwIDAgMSA2LjU3LTIuNjlsMi4wNDIuODU1YTI1IDI1IDAgMCAxIDQuMjk1LTQuMjZsLS44NC0yLjA1YTUuMDIgNS4wMiAwIDAgMSAyLjc0Mi02LjU0OGwzLjI4NS0xLjM0NWE1LjAyIDUuMDIgMCAwIDEgNi41NDggMi43NDJsLjg0IDIuMDVhMjUgMjUgMCAwIDEgNi4wNDkuMDIybC44NTUtMi4wNDJhNS4wMiA1LjAyIDAgMCAxIDYuNTctMi42OWwzLjI3NCAxLjM3YTUuMDIgNS4wMiAwIDAgMSAyLjY5IDYuNTdsLS44NTUgMi4wNDJhMjUgMjUgMCAwIDEgNC4yNiA0LjI5NWwyLjA1LS44NGE1LjAyIDUuMDIgMCAwIDEgNi41NDggMi43NDJsMS4zNDUgMy4yODVhNS4wMiA1LjAyIDAgMCAxLTIuNzQyIDYuNTQ4bC0yLjA1Ljg0YTI1IDI1IDAgMCAxLS4wMjIgNi4wNDltLTM3LjQ5OC04LjMzOGMtMi44OCA2Ljg3Ny4zNiAxNC43ODcgNy4yMzcgMTcuNjY3czE0Ljc4Ny0uMzYgMTcuNjY3LTcuMjM3LS4zNi0xNC43ODctNy4yMzctMTcuNjY3LTE0Ljc4Ny4zNi0xNy42NjcgNy4yMzciIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMCA3OC45NzRWMGg3OC45NzR2NzguOTc0eiIgZmlsbD0ibm9uZSIvPjwvZz48L3N2Zz4%3D%22%2C%0D%0A%20%20%20%20nob%3A%20%22dpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiPjxwYXRoIGQ9Ik0wIDc4Ljk3NFYwaDc4Ljk3NHY3OC45NzR6IiBmaWxsPSJub25lIi8%2BPHBhdGggZD0iTTM3Ljk2MSAxMC44NDdhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQtMi4xMDRWNS42OTJjMC0xLjE2My45NDItMi4xMDUgMi4xMDQtMi4xMDVoMy4wNTJjMS4xNjIgMCAyLjEwNC45NDIgMi4xMDQgMi4xMDV2My4wNTFhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQgMi4xMDV6bTAgNjQuNTRhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQtMi4xMDV2LTMuMDUxYzAtMS4xNjIuOTQyLTIuMTA1IDIuMTA0LTIuMTA1aDMuMDUyYzEuMTYyIDAgMi4xMDQuOTQzIDIuMTA0IDIuMTA1djMuMDUxYTIuMTA1IDIuMTA1IDAgMCAxLTIuMTA0IDIuMTA1em0yMC42OTgtNTcuMjNhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NmwyLjE1OC0yLjE1OGEyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDB6TTEzLjAyMyA2My43OTNhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NmwyLjE1OC0yLjE1OGEyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDB6bTU1LjEwNC0yNS44MzJjMC0xLjE2Mi45NDItMi4xMDQgMi4xMDQtMi4xMDRoMy4wNTFjMS4xNjMgMCAyLjEwNS45NDIgMi4xMDUgMi4xMDR2My4wNTJhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDUgMi4xMDRoLTMuMDUxYTIuMTA1IDIuMTA1IDAgMCAxLTIuMTA1LTIuMTA0em0tNjQuNTQgMGMwLTEuMTYyLjk0Mi0yLjEwNCAyLjEwNS0yLjEwNGgzLjA1MWMxLjE2MiAwIDIuMTA1Ljk0MiAyLjEwNSAyLjEwNHYzLjA1MmEyLjEwNSAyLjEwNSAwIDAgMS0yLjEwNSAyLjEwNEg1LjY5MmEyLjEwNSAyLjEwNSAwIDAgMS0yLjEwNS0yLjEwNHptNTcuMjMgMjAuNjk4YTIuMTA1IDIuMTA1IDAgMCAxIDIuOTc2IDBsMi4xNTggMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEgMCAyLjk3NmwtMi4xNTggMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEtMi45NzYgMGwtMi4xNTgtMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NnpNMTUuMTgxIDEzLjAyM2EyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDBsLTIuMTU4LTIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAtMi45NzZ6bTguNDE2IDEwLjQzYzcuNTQ2LTcuNTQ3IDE5LjA2NS04LjcwMiAyNy44MjctMy40NjUtLjEyNS4wOS0xMy4yNjQgMTcuODcyLTEyLjEzMyAxOS4wMDNsMS4wMzcgMS4wMzdjMS4xMyAxLjEzIDE4LjkxMy0xMi4wMDggMTkuMDAzLTEyLjEzMyA1LjIzNyA4Ljc2MiA0LjA4MiAyMC4yOC0zLjQ2NSAyNy44MjgtOC45MTEgOC45MS0yMy4zNTkgOC45MS0zMi4yNyAwLTguOTEtOC45MTEtOC45MS0yMy4zNTkgMC0zMi4yNyIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4%3D%22%2C%0D%0A%20%20%20%20flag%3A%20%22ZpZXdCb3g9IjAgMCAxNi42MyAxNy41Ij48cGF0aCBkPSJNLjc1IDJhNi40NCA2LjQ0IDAgMCAxIDcuNjkgMGgwYTYuNDQgNi40NCAwIDAgMCA3LjY5IDB2MTAuNGE2LjQ0IDYuNDQgMCAwIDEtNy42OSAwaDBhNi40NCA2LjQ0IDAgMCAwLTcuNjkgMCIgc3R5bGU9ImZpbGw6IzRjYmY1NjtzdHJva2U6IzQ1OTkzZDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiLz48cGF0aCBzdHlsZT0iZmlsbDojNGNiZjU2O3N0cm9rZTojNDU5OTNkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6MS41cHgiIGQ9Ik0uNzUgMTYuNzV2LTE2Ii8%2BPC9zdmc%2B%22%2C%0D%0A%20%20%20%20stop%3A%20%22ZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BPHBhdGggc3R5bGU9ImZpbGw6I2VjNTk1OTtzdHJva2U6I2I4NDg0ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTAiIGQ9Ik00LjMuNWg1LjRsMy44IDMuOHY1LjRsLTMuOCAzLjhINC4zTC41IDkuN1Y0LjN6Ii8%2BPC9zdmc%2B%22%2C%0D%0A%20%20%7D%3B%0D%0A%20%20for%20(const%20key%20in%20extraIcons)%0D%0A%20%20%20%20extraIcons%5Bkey%5D%20%3D%0D%0A%20%20%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH%22%20%2B%0D%0A%20%20%20%20%20%20extraIcons%5Bkey%5D%3B%0D%0A%0D%0A%20%20%2F%2F%20Modified%20Pizzicato%20Library%20(Web%20Audio%20API%2C%20but%20with%20Premade%20Effects%20and%20Stuff)%0D%0A%20%20%2F%2F%20Modified%20Version%3A%20https%3A%2F%2Fgithub.com%2FSharkPool-SP%2Fpizzicato%2F%0D%0A%20%20%2F%2F%20Original%3A%20https%3A%2F%2Fgithub.com%2Falemangui%2Fpizzicato%0D%0A%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Falemangui%2Fpizzicato%2Fblob%2Fmaster%2FLICENSE%0D%0A%0D%0A%20%20const%20scriptElement%20%3D%20document.createElement(%22script%22)%3B%0D%0A%20%20scriptElement.textContent%20%3D%20%60!function(e)%7B%22use%20strict%22%3Bvar%20t%3D%7B%7D%2Ci%3Dt%2Cn%3D%22object%22%3D%3Dtypeof%20module%26%26module.exports%2Co%3D%22function%22%3D%3Dtypeof%20define%26%26define.amd%3Bn%3Fmodule.exports%3Dt%3Ao%3Fdefine(%5B%5D%2Ct)%3Ae.Pizzicato%3De.Pz%3Dt%3Bvar%20s%3De.AudioContext%7C%7Ce.webkitAudioContext%3Bif(!s)%7Bconsole.error(%22No%20AudioContext%20found%20in%20this%20environment.%20Please%20ensure%20your%20window%20or%20global%20object%20contains%20a%20working%20AudioContext%20constructor%20function.%22)%3Breturn%7Dt.context%3Dnew%20s%3Bvar%20r%3Dt.context.createGain()%3Br.connect(t.context.destination)%2Ct.Util%3D%7BisString%3Afunction(e)%7Breturn%22%5Bobject%20String%5D%22%3D%3D%3DtoString.call(e)%7D%2CisObject%3Afunction(e)%7Breturn%22%5Bobject%20Object%5D%22%3D%3D%3DtoString.call(e)%7D%2CisFunction%3Afunction(e)%7Breturn%22%5Bobject%20Function%5D%22%3D%3D%3DtoString.call(e)%7D%2CisNumber%3Afunction(e)%7Breturn%22%5Bobject%20Number%5D%22%3D%3D%3DtoString.call(e)%26%26e%3D%3D%3D%2Be%7D%2CisArray%3Afunction(e)%7Breturn%22%5Bobject%20Array%5D%22%3D%3D%3DtoString.call(e)%7D%2CisInRange%3Afunction(e%2Ct%2Cn)%7Breturn!!(i.Util.isNumber(e)%26%26i.Util.isNumber(t)%26%26i.Util.isNumber(n))%26%26e%3E%3Dt%26%26e%3C%3Dn%7D%2CisBool%3Afunction(e)%7Breturn%22boolean%22%3D%3Dtypeof%20e%7D%2CisOscillator%3Afunction(e)%7Breturn%20e%26%26%22%5Bobject%20OscillatorNode%5D%22%3D%3D%3De.toString()%7D%2CisAudioBufferSourceNode%3Afunction(e)%7Breturn%20e%26%26%22%5Bobject%20AudioBufferSourceNode%5D%22%3D%3D%3De.toString()%7D%2CisSound%3Afunction(e)%7Breturn%20e%20instanceof%20i.Sound%7D%2CisEffect%3Afunction(e)%7Bfor(var%20i%20in%20t.Effects)if(e%20instanceof%20t.Effects%5Bi%5D)return!0%3Breturn!1%7D%2Cnormalize%3Afunction(e%2Ct%2Cn)%7Bif(i.Util.isNumber(e)%26%26i.Util.isNumber(t)%26%26i.Util.isNumber(n))return(n-t)*e%2F1%2Bt%7D%2CgetDryLevel%3Afunction(e)%7Breturn!i.Util.isNumber(e)%7C%7Ce%3E1%7C%7Ce%3C0%3F0%3Ae%3C%3D.5%3F1%3A1-(e-.5)*2%7D%2CgetWetLevel%3Afunction(e)%7Breturn!i.Util.isNumber(e)%7C%7Ce%3E1%7C%7Ce%3C0%3F0%3Ae%3E%3D.5%3F1%3A1-(.5-e)*2%7D%7D%3Bvar%20a%3DObject.getPrototypeOf(Object.getPrototypeOf(t.context.createGain()))%2Cc%3Da.connect%3Ba.connect%3Dfunction(e)%7Bvar%20t%3Di.Util.isEffect(e)%3Fe.inputNode%3Ae%3Breturn%20c.call(this%2Ct)%2Ce%7D%2CObject.defineProperty(t%2C%22volume%22%2C%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20r.gain.value%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26r%26%26(r.gain.value%3De)%7D%7D)%2CObject.defineProperty(t%2C%22masterGainNode%22%2C%7Benumerable%3A!1%2Cget%3Afunction()%7Breturn%20r%7D%2Cset%3Afunction(e)%7Bconsole.error(%22Can't%20set%20the%20master%20gain%20node%22)%7D%7D)%2Ct.Events%3D%7Bon%3Afunction(e%2Ct%2Ci)%7Be%26%26t%26%26(this._events%3Dthis._events%7C%7C%7B%7D%2C(this._events%5Be%5D%7C%7C(this._events%5Be%5D%3D%5B%5D)).push(%7Bcallback%3At%2Ccontext%3Ai%7C%7Cthis%2Chandler%3Athis%7D))%7D%2Ctrigger%3Afunction(e)%7Bvar%20t%2Ci%2Cn%2Co%3Bif(e)%7Bfor(this._events%3Dthis._events%7C%7C%7B%7D%2Ct%3Dthis._events%5Be%5D%7C%7C(this._events%5Be%5D%3D%5B%5D)%2Co%3D0%2Ci%3DMath.max(0%2Carguments.length-1)%2Cn%3D%5B%5D%3Bo%3Ci%3Bo%2B%2B)n%5Bo%5D%3Darguments%5Bo%2B1%5D%3Bfor(o%3D0%3Bo%3Ct.length%3Bo%2B%2B)t%5Bo%5D.callback.apply(t%5Bo%5D.context%2Cn)%7D%7D%2Coff%3Afunction(e)%7Be%3Fthis._events%5Be%5D%3Dvoid%200%3Athis._events%3D%7B%7D%7D%7D%2Ct.Sound%3Dfunction(e%2Cn)%7Bvar%20o%3Dthis%2Cs%3Dt.Util%2Cr%3Dfunction%20e(t)%7Bif(t%26%26!s.isFunction(t)%26%26!s.isString(t)%26%26!s.isObject(t))return%22Description%20type%20not%20supported.%20Initialize%20a%20sound%20using%20an%20object%2C%20a%20function%20or%20a%20string.%22%3Bif(s.isObject(t))%7Bif(!s.isString(t.source)%7C%7C-1%3D%3D%3D%5B%22wave%22%2C%22file%22%2C%22input%22%2C%22script%22%2C%22sound%22%2C%22buffer%22%5D.indexOf(t.source))return%22Specified%20source%20not%20supported.%20Sources%20can%20be%20wave%2C%20file%2C%20input%20or%20script%22%3Bif(%22file%22%3D%3D%3Dt.source%26%26(!t.options%7C%7C!t.options.path))return%22A%20path%20is%20needed%20for%20sounds%20with%20a%20file%20source%22%3Bif(%22script%22%3D%3D%3Dt.source%26%26(!t.options%7C%7C!t.options.audioFunction))return%22An%20audio%20function%20is%20needed%20for%20sounds%20with%20a%20script%20source%22%7D%7D(e)%2Ca%3Ds.isObject(e)%26%26s.isObject(e.options)%3Bif(r)throw%20console.error(r)%2CError(%22Error%20initializing%20Pizzicato%20Sound%3A%20%22%2Br)%3Bfunction%20c(e%2Cn)%7Be%3De%7C%7C%7B%7D%2Cthis.getRawSourceNode%3Dfunction()%7Bvar%20i%3Dthis.sourceNode%3Fthis.sourceNode.frequency.value%3Ae.frequency%2Cn%3Dt.context.createOscillator()%3Breturn%20n.type%3De.type%7C%7C%22sine%22%2Cn.frequency.value%3Di%7C%7C440%2Cn%7D%2Cthis.sourceNode%3Dthis.getRawSourceNode()%2Cthis.sourceNode.gainSuccessor%3Di.context.createGain()%2Cthis.sourceNode.connect(this.sourceNode.gainSuccessor)%2Cs.isFunction(n)%26%26n()%7Dfunction%20h(e%2Ci)%7Be%3Ds.isArray(e)%3Fe%3A%5Be%5D%3Bvar%20n%3Dnew%20XMLHttpRequest%3Bn.open(%22GET%22%2Ce%5B0%5D%2C!0)%2Cn.responseType%3D%22arraybuffer%22%2Cn.onload%3Dfunction(n)%7Bt.context.decodeAudioData(n.target.response%2C(function(e)%7Bo.getRawSourceNode%3Dfunction()%7Bvar%20i%3Dt.context.createBufferSource()%3Breturn%20i.loop%3Dthis.loop%2Ci.buffer%3De%2Ci%7D%2Cs.isFunction(i)%26%26i()%7D).bind(o)%2C(function(t)%7Bif(console.error(%22Error%20decoding%20audio%20file%20%22%2Be%5B0%5D)%2Ce.length%3E1)%7Be.shift()%2Ch(e%2Ci)%3Breturn%7Dt%3Dt%7C%7CError(%22Error%20decoding%20audio%20file%20%22%2Be%5B0%5D)%2Cs.isFunction(i)%26%26i(t)%7D).bind(o))%7D%2Cn.onreadystatechange%3Dfunction(t)%7B4%3D%3D%3Dn.readyState%26%26200!%3D%3Dn.status%26%26console.error(%22Error%20while%20fetching%20%22%2Be%5B0%5D%2B%22.%20%22%2Bn.statusText)%7D%2Cn.send()%7Dfunction%20u(e%2Ci)%7Bvar%20n%3Ds.isFunction(e)%3Fe%3Ae.audioFunction%2Co%3Ds.isObject(e)%26%26e.bufferSize%3Fe.bufferSize%3Anull%3Bif(!o)try%7Bt.context.createScriptProcessor()%7Dcatch(r)%7Bo%3D2048%7Dthis.getRawSourceNode%3Dfunction()%7Bvar%20e%3Dt.context.createScriptProcessor(o%2C1%2C1)%3Breturn%20e.onaudioprocess%3Dn%2Ce%7D%7Dthis.detached%3Da%26%26e.options.detached%2Cthis.masterVolume%3Dt.context.createGain()%2Cthis.fadeNode%3Dt.context.createGain()%2Cthis.fadeNode.gain.value%3D0%2Cthis.detached%7C%7Cthis.masterVolume.connect(t.masterGainNode)%2Cthis.lastTimePlayed%3D0%2Cthis.effects%3D%5B%5D%2Cthis.effectConnectors%3D%5B%5D%2Cthis.playing%3Dthis.paused%3D!1%2Cthis.loop%3Da%26%26e.options.loop%2Cthis.attack%3Da%26%26s.isNumber(e.options.attack)%3Fe.options.attack%3A.04%2Cthis.volume%3Da%26%26s.isNumber(e.options.volume)%3Fe.options.volume%3A1%2Ca%26%26s.isNumber(e.options.release)%3Fthis.release%3De.options.release%3Aa%26%26s.isNumber(e.options.sustain)%3F(console.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Cthis.release%3De.options.sustain)%3Athis.release%3D.04%2Ce%3Fs.isString(e)%3Fh.bind(this)(e%2Cn)%3As.isFunction(e)%3Fu.bind(this)(e%2Cn)%3A%22file%22%3D%3D%3De.source%3Fh.bind(this)(e.options.path%2Cn)%3A%22buffer%22%3D%3D%3De.source%3F(function%20e(i%2Cn)%7Bif((i%3DArray.isArray(i)%3Fi%3A%5Bi%5D)%5B0%5Dinstanceof%20AudioBuffer)%7Blet%20s%3Di%5B0%5D%3Bo.getRawSourceNode%3Dfunction()%7Blet%20e%3Dt.context.createBufferSource()%3Breturn%20e.loop%3Dthis.loop%2Ce.buffer%3Ds%2Ce%7D%2C%22function%22%3D%3Dtypeof%20n%26%26n()%7D%7D).bind(this)(e.options.buffer%2Cn)%3A%22wave%22%3D%3D%3De.source%3Fc.bind(this)(e.options%2Cn)%3A%22input%22%3D%3D%3De.source%3F(function%20e(i%2Cn)%7Bif(navigator.getUserMedia%3Dnavigator.getUserMedia%7C%7Cnavigator.webkitGetUserMedia%7C%7Cnavigator.mozGetUserMedia%7C%7Cnavigator.msGetUserMedia%2C!navigator.getUserMedia%26%26(!navigator.mediaDevices%7C%7Cnavigator.mediaDevices.getUserMedia))%7Bconsole.error(%22Your%20browser%20does%20not%20support%20getUserMedia.%20Note%20that%20the%20current%20document%20must%20be%20loaded%20securely%20for%20this%20to%20work%22)%3Breturn%7Dvar%20r%3D(function(e)%7Bo.getRawSourceNode%3Dfunction()%7Breturn%20t.context.createMediaStreamSource(e)%7D%2Cs.isFunction(n)%26%26n()%7D).bind(o)%2Ca%3Dfunction(e)%7Bs.isFunction(n)%26%26n(e)%7D%3Bnavigator.mediaDevices.getUserMedia%3Fnavigator.mediaDevices.getUserMedia(%7Baudio%3A!0%7D).then(r).catch(a)%3Anavigator.getUserMedia(%7Baudio%3A!0%7D%2Cr%2Ca)%7D).bind(this)(e%2Cn)%3A%22script%22%3D%3D%3De.source%3Fu.bind(this)(e.options%2Cn)%3A%22sound%22%3D%3D%3De.source%26%26(function%20e(t%2Cn)%7Bthis.getRawSourceNode%3Dt.sound.getRawSourceNode%2Ct.sound.sourceNode%26%26i.Util.isOscillator(t.sound.sourceNode)%26%26(this.sourceNode%3Dthis.getRawSourceNode()%2Cthis.frequency%3Dt.sound.frequency)%7D).bind(this)(e.options%2Cn)%3Ac.bind(this)(%7B%7D%2Cn)%7D%2Ct.Sound.prototype%3DObject.create(t.Events%2C%7Bplay%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e%2Cn)%7Bthis.playing%7C%7C(i.Util.isNumber(n)%7C%7C(n%3Dthis.offsetTime%7C%7C0)%2Ci.Util.isNumber(e)%7C%7C(e%3D0)%2Cthis.playing%3D!0%2Cthis.paused%3D!1%2Cthis.sourceNode%3Dthis.getSourceNode()%2Cthis.applyAttack()%2Ci.Util.isFunction(this.sourceNode.start)%26%26(this.lastTimePlayed%3Dt.context.currentTime-n%2Cthis.sourceNode.start(i.context.currentTime%2Be%2Cn))%2Cthis.trigger(%22play%22))%7D%7D%2Cstop%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7B(this.paused%7C%7Cthis.playing)%26%26(this.paused%3Dthis.playing%3D!1%2Cthis.stopWithRelease()%2Cthis.offsetTime%3D0%2Cthis.trigger(%22stop%22))%7D%7D%2Cpause%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bif(!this.paused%26%26this.playing)%7Bthis.paused%3D!0%2Cthis.playing%3D!1%2Cthis.stopWithRelease()%3Bvar%20e%3Di.context.currentTime-this.lastTimePlayed%3Bthis.sourceNode.buffer%3Fthis.offsetTime%3De%25(this.sourceNode.buffer.length%2Fi.context.sampleRate)%3Athis.offsetTime%3De%2Cthis.trigger(%22pause%22)%7D%7D%7D%2Cclone%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3Dnew%20t.Sound(%7Bsource%3A%22sound%22%2Coptions%3A%7Bloop%3Athis.loop%2Cattack%3Athis.attack%2Crelease%3Athis.release%2Cvolume%3Athis.volume%2Csound%3Athis%7D%7D)%2Ci%3D0%3Bi%3Cthis.effects.length%3Bi%2B%2B)e.addEffect(this.effects%5Bi%5D)%3Breturn%20e%7D%7D%2ConEnded%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20function()%7Bthis.sourceNode%26%26this.sourceNode!%3D%3De%7C%7C(this.playing%26%26this.stop()%2Cthis.paused%7C%7Cthis.trigger(%22end%22))%7D%7D%7D%2CaddEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!i.Util.isEffect(e))return%20console.error(%22The%20object%20provided%20is%20not%20a%20Pizzicato%20effect.%22)%2Cthis%3Bthis.effects.push(e)%3Bvar%20t%3Dthis.effectConnectors.length%3E0%3Fthis.effectConnectors%5Bthis.effectConnectors.length-1%5D%3Athis.fadeNode%3Bt.disconnect()%2Ct.connect(e)%3Bvar%20n%3Di.context.createGain()%3Breturn%20this.effectConnectors.push(n)%2Ce.connect(n)%2Cn.connect(this.masterVolume)%2Cthis%7D%7D%2CremoveEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20t%2Ci%3Dthis.effects.indexOf(e)%3Bif(-1%3D%3D%3Di)return%20console.warn(%22Cannot%20remove%20effect%20that%20is%20not%20applied%20to%20this%20sound.%22)%2Cthis%3Bvar%20n%3Dthis.playing%3Bn%26%26this.pause()%3Bvar%20o%3D0%3D%3D%3Di%3Fthis.fadeNode%3Athis.effectConnectors%5Bi-1%5D%3Bo.disconnect()%3Bvar%20s%3Dthis.effectConnectors%5Bi%5D%3Breturn%20s.disconnect()%2Ce.disconnect(s)%2Cthis.effectConnectors.splice(i%2C1)%2Cthis.effects.splice(i%2C1)%2Ct%3Di%3Ethis.effects.length-1%7C%7C0%3D%3D%3Dthis.effects.length%3Fthis.masterVolume%3Athis.effects%5Bi%5D%2Co.connect(t)%2Cn%26%26this.play()%2Cthis%7D%7D%2Cconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.disconnect(e)%2Cthis%7D%7D%2CconnectEffects%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D%5B%5D%2Ct%3D0%3Bt%3Cthis.effects.length%3Bt%2B%2B)%7Bvar%20n%3Dt%3D%3D%3Dthis.effects.length-1%3Fthis.masterVolume%3Athis.effects%5Bt%2B1%5D.inputNode%3Be%5Bt%5D%3Di.context.createGain()%2Cthis.effects%5Bt%5D.outputNode.disconnect(this.effectConnectors%5Bt%5D)%2Cthis.effects%5Bt%5D.outputNode.connect(n)%7D%7D%7D%2Cvolume%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Bif(this.masterVolume)return%20this.masterVolume.gain.value%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26this.masterVolume%26%26(this.masterVolume.gain.value%3De)%7D%7D%2Cfrequency%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.sourceNode%26%26i.Util.isOscillator(this.sourceNode)%3Fthis.sourceNode.frequency.value%3Anull%7D%2Cset%3Afunction(e)%7Bthis.sourceNode%26%26i.Util.isOscillator(this.sourceNode)%26%26(this.sourceNode.frequency.value%3De)%7D%7D%2Csustain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20console.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Cthis.release%7D%2Cset%3Afunction(e)%7Bconsole.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Ci.Util.isInRange(e%2C0%2C10)%26%26(this.release%3De)%7D%7D%2CgetSourceNode%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bif(this.sourceNode)%7Bvar%20e%3Dthis.sourceNode%3Be.gainSuccessor.gain.setValueAtTime(e.gainSuccessor.gain.value%2Ci.context.currentTime)%2Ce.gainSuccessor.gain.linearRampToValueAtTime(1e-4%2Ci.context.currentTime%2B.2)%2CsetTimeout(function()%7Be.disconnect()%2Ce.gainSuccessor.disconnect()%7D%2C200)%7Dvar%20t%3Dthis.getRawSourceNode()%3Breturn%20t.gainSuccessor%3Di.context.createGain()%2Ct.connect(t.gainSuccessor)%2Ct.gainSuccessor.connect(this.fadeNode)%2Cthis.fadeNode.connect(this.getInputNode())%2Ci.Util.isAudioBufferSourceNode(t)%26%26(t.onended%3Dthis.onEnded(t).bind(this))%2Ct%7D%7D%2CgetInputNode%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Breturn%20this.effects.length%3E0%3Fthis.effects%5B0%5D.inputNode%3Athis.masterVolume%7D%7D%2CapplyAttack%3A%7Benumerable%3A!1%2Cvalue%3Afunction()%7Bif(this.fadeNode.gain.value%2Cthis.fadeNode.gain.cancelScheduledValues(i.context.currentTime)%2C!this.attack)%7Bthis.fadeNode.gain.setTargetAtTime(1%2Ci.context.currentTime%2C.001)%3Breturn%7Dvar%20e%3Dnavigator.userAgent.toLowerCase().indexOf(%22firefox%22)%3E-1%2Ct%3Dthis.attack%3Be%7C%7C(t%3D(1-this.fadeNode.gain.value)*this.attack)%2Cthis.fadeNode.gain.setTargetAtTime(1%2Ci.context.currentTime%2C2*t)%7D%7D%2CstopWithRelease%3A%7Benumerable%3A!1%2Cvalue%3Afunction(e)%7Bvar%20t%3Dthis.sourceNode%2Cn%3Dfunction()%7Breturn%20i.Util.isFunction(t.stop)%3Ft.stop(0)%3At.disconnect()%7D%3Bif(this.fadeNode.gain.value%2Cthis.fadeNode.gain.cancelScheduledValues(i.context.currentTime)%2C!this.release)%7Bthis.fadeNode.gain.setTargetAtTime(0%2Ci.context.currentTime%2C.001)%2Cn()%3Breturn%7Dvar%20o%3Dnavigator.userAgent.toLowerCase().indexOf(%22firefox%22)%3E-1%2Cs%3Dthis.release%3Bo%7C%7C(s%3Dthis.fadeNode.gain.value*this.release)%2Cthis.fadeNode.gain.setTargetAtTime(1e-5%2Ci.context.currentTime%2Cs%2F5)%2Cwindow.setTimeout(function()%7Bn()%7D%2C1e3*s)%7D%7D%7D)%2Ct.Group%3Dfunction(e)%7Be%3De%7C%7C%5B%5D%2Cthis.mergeGainNode%3Di.context.createGain()%2Cthis.masterVolume%3Di.context.createGain()%2Cthis.sounds%3D%5B%5D%2Cthis.effects%3D%5B%5D%2Cthis.effectConnectors%3D%5B%5D%2Cthis.mergeGainNode.connect(this.masterVolume)%2Cthis.masterVolume.connect(i.masterGainNode)%3Bfor(var%20t%3D0%3Bt%3Ce.length%3Bt%2B%2B)this.addSound(e%5Bt%5D)%7D%2Ct.Group.prototype%3DObject.create(i.Events%2C%7Bconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.disconnect(e)%2Cthis%7D%7D%2CaddSound%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!i.Util.isSound(e))%7Bconsole.error(%22You%20can%20only%20add%20Pizzicato.Sound%20objects%22)%3Breturn%7Dif(this.sounds.indexOf(e)%3E-1)%7Bconsole.warn(%22The%20Pizzicato.Sound%20object%20was%20already%20added%20to%20this%20group%22)%3Breturn%7Dif(e.detached)%7Bconsole.warn(%22Groups%20do%20not%20support%20detached%20sounds.%20You%20can%20manually%20create%20an%20audio%20graph%20to%20group%20detached%20sounds%20together.%22)%3Breturn%7De.disconnect(i.masterGainNode)%2Ce.connect(this.mergeGainNode)%2Cthis.sounds.push(e)%7D%7D%2CremoveSound%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20t%3Dthis.sounds.indexOf(e)%3Bif(-1%3D%3D%3Dt)%7Bconsole.warn(%22Cannot%20remove%20a%20sound%20that%20is%20not%20part%20of%20this%20group.%22)%3Breturn%7De.disconnect(this.mergeGainNode)%2Ce.connect(i.masterGainNode)%2Cthis.sounds.splice(t%2C1)%7D%7D%2Cvolume%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Bif(this.masterVolume)return%20this.masterVolume.gain.value%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.masterVolume.gain.value%3De)%7D%7D%2Cplay%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.play()%3Bthis.trigger(%22play%22)%7D%7D%2Cstop%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.stop()%3Bthis.trigger(%22stop%22)%7D%7D%2Cpause%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.pause()%3Bthis.trigger(%22pause%22)%7D%7D%2CaddEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!i.Util.isEffect(e))return%20console.error(%22The%20object%20provided%20is%20not%20a%20Pizzicato%20effect.%22)%2Cthis%3Bthis.effects.push(e)%3Bvar%20t%3Dthis.effectConnectors.length%3E0%3Fthis.effectConnectors%5Bthis.effectConnectors.length-1%5D%3Athis.mergeGainNode%3Bt.disconnect()%2Ct.connect(e)%3Bvar%20n%3Di.context.createGain()%3Breturn%20this.effectConnectors.push(n)%2Ce.connect(n)%2Cn.connect(this.masterVolume)%2Cthis%7D%7D%2CremoveEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20t%2Ci%3Dthis.effects.indexOf(e)%3Bif(-1%3D%3D%3Di)return%20console.warn(%22Cannot%20remove%20effect%20that%20is%20not%20applied%20to%20this%20group.%22)%2Cthis%3Bvar%20n%3D0%3D%3D%3Di%3Fthis.mergeGainNode%3Athis.effectConnectors%5Bi-1%5D%3Bn.disconnect()%3Bvar%20o%3Dthis.effectConnectors%5Bi%5D%3Breturn%20o.disconnect()%2Ce.disconnect(o)%2Cthis.effectConnectors.splice(i%2C1)%2Cthis.effects.splice(i%2C1)%2Ct%3Di%3Ethis.effects.length-1%7C%7C0%3D%3D%3Dthis.effects.length%3Fthis.masterVolume%3Athis.effects%5Bi%5D%2Cn.connect(t)%2Cthis%7D%7D%7D)%2Ct.Effects%3D%7B%7D%3Bvar%20h%3DObject.create(null%2C%7Bconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.outputNode.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.outputNode.disconnect(e)%2Cthis%7D%7D%7D)%3Bfunction%20u(e%2Cn)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20o%3D%7Bfrequency%3A350%2Cpeak%3A1%7D%3Bfor(var%20s%20in%20this.inputNode%3Dthis.filterNode%3Di.context.createBiquadFilter()%2Cthis.filterNode.type%3Dn%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.filterNode.connect(this.outputNode)%2Co)this%5Bs%5D%3De%5Bs%5D%2Cthis%5Bs%5D%3Dvoid%200%3D%3D%3Dthis%5Bs%5D%7C%7Cnull%3D%3D%3Dthis%5Bs%5D%3Fo%5Bs%5D%3Athis%5Bs%5D%7Dt.Effects.Delay%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.5%2Ctime%3A.3%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.feedbackGainNode%3Dt.context.createGain()%2Cthis.delayNode%3Dt.context.createDelay()%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.delayNode.connect(this.feedbackGainNode)%2Cthis.feedbackGainNode.connect(this.delayNode)%2Cthis.inputNode.connect(this.delayNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.Delay.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%7D)%2Ct.Effects.Compressor%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bthreshold%3A-24%2Cknee%3A30%2Cattack%3A.003%2Crelease%3A.25%2Cratio%3A12%7D%3Bfor(var%20n%20in%20this.inputNode%3Dthis.compressorNode%3Dt.context.createDynamicsCompressor()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.compressorNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.Compressor.prototype%3DObject.create(h%2C%7Bthreshold%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.threshold.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C-100%2C0)%26%26(this.compressorNode.threshold.value%3De)%7D%7D%2Cknee%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.knee.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C40)%26%26(this.compressorNode.knee.value%3De)%7D%7D%2Cattack%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.attack.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.compressorNode.attack.value%3De)%7D%7D%2Crelease%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.release.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.compressorNode.release.value%3De)%7D%7D%2Cratio%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.ratio.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1%2C20)%26%26(this.compressorNode.ratio.value%3De)%7D%7D%2CgetCurrentGainReduction%3Afunction()%7Breturn%20this.compressorNode.reduction%7D%7D)%2Ct.Effects.LowPassFilter%3Dfunction(e)%7Bu.call(this%2Ce%2C%22lowpass%22)%7D%2Ct.Effects.HighPassFilter%3Dfunction(e)%7Bu.call(this%2Ce%2C%22highpass%22)%7D%3Bvar%20d%3DObject.create(h%2C%7Bfrequency%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.filterNode.frequency.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C10%2C22050)%26%26(this.filterNode.frequency.value%3De)%7D%7D%2Cpeak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.filterNode.Q.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C1e3)%26%26(this.filterNode.Q.value%3De)%7D%7D%7D)%3Bfunction%20l()%7Bvar%20e%2Cn%2Co%3Di.context.sampleRate*this.time%2Cs%3Dt.context.createBuffer(2%2Co%2Ci.context.sampleRate)%2Cr%3Ds.getChannelData(0)%2Ca%3Ds.getChannelData(1)%3Bfor(n%3D0%3Bn%3Co%3Bn%2B%2B)e%3Dthis.reverse%3Fo-n%3An%2Cr%5Bn%5D%3D(2*Math.random()-1)*Math.pow(1-e%2Fo%2Cthis.decay)%2Ca%5Bn%5D%3D(2*Math.random()-1)*Math.pow(1-e%2Fo%2Cthis.decay)%3Bthis.reverbNode.buffer%26%26(this.inputNode.disconnect(this.reverbNode)%2Cthis.reverbNode.disconnect(this.wetGainNode)%2Cthis.reverbNode%3Dt.context.createConvolver()%2Cthis.inputNode.connect(this.reverbNode)%2Cthis.reverbNode.connect(this.wetGainNode))%2Cthis.reverbNode.buffer%3Ds%7Dfunction%20f(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20t%3D%7Bcutoff_frequency_low%3A100%2Ccutoff_frequency_high%3A8e3%2Clow_band_gain%3A1%2Cmid_band_gain%3A1%2Chigh_band_gain%3A1%2Clow_peak%3A1%2Cmid_peak%3A1%2Chigh_peak%3A1%7D%3Bfor(var%20n%20in%20this.inputNode%3Di.context.createGain()%2Cthis.outputNode%3Di.context.createGain()%2Cthis.lowFilterNode%3Di.context.createBiquadFilter()%2Cthis.lowFilterNode.type%3D%22lowpass%22%2Cthis.inputNode.connect(this.lowFilterNode)%2Cthis.lowGainNode%3Di.context.createGain()%2Cthis.lowFilterNode.connect(this.lowGainNode)%2Cthis.midFilterNode%3Di.context.createBiquadFilter()%2Cthis.midFilterNode.type%3D%22bandpass%22%2Cthis.inputNode.connect(this.midFilterNode)%2Cthis.midGainNode%3Di.context.createGain()%2Cthis.midFilterNode.connect(this.midGainNode)%2Cthis.highFilterNode%3Di.context.createBiquadFilter()%2Cthis.highFilterNode.type%3D%22highpass%22%2Cthis.inputNode.connect(this.highFilterNode)%2Cthis.highGainNode%3Di.context.createGain()%2Cthis.highFilterNode.connect(this.highGainNode)%2Cthis.analyserNode%3Di.context.createAnalyser()%2Cthis.lowGainNode.connect(this.analyserNode)%2Cthis.midGainNode.connect(this.analyserNode)%2Cthis.highGainNode.connect(this.analyserNode)%2Cthis.analyserNode.connect(this.outputNode)%2Cthis.analyserNode.minDecibels%3D-90%2Cthis.analyserNode.maxDecibels%3D15%2Cthis.analyserNode.smoothingTimeConstant%3D.85%2Cthis.analyserNode.fftSize%3D256%2Cthis.options.cutoff_frequency_low%3Dt.cutoff_frequency_low%2Cthis.options.cutoff_frequency_high%3Dt.cutoff_frequency_high%2Ct)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Ft%5Bn%5D%3Athis%5Bn%5D%7Dt.Effects.LowPassFilter.prototype%3Dd%2Ct.Effects.HighPassFilter.prototype%3Dd%2Ct.Effects.Distortion%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bgain%3A.5%7D%3Bfor(var%20n%20in%20this.waveShaperNode%3Dt.context.createWaveShaper()%2Cthis.inputNode%3Dthis.outputNode%3Dthis.waveShaperNode%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.Distortion.prototype%3DObject.create(h%2C%7Bgain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.gain%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.gain%3De%2Cthis.adjustGain())%7D%7D%2CadjustGain%3A%7Bwritable%3A!1%2Cconfigurable%3A!1%2Cenumerable%3A!1%2Cvalue%3Afunction()%7Bfor(var%20e%2Ct%3Di.Util.isNumber(this.options.gain)%3FparseInt(100*this.options.gain%2C10)%3A50%2Cn%3Dnew%20Float32Array(44100)%2Co%3DMath.PI%2F180%2Cs%3D0%3Bs%3C44100%3B%2B%2Bs)e%3D2*s%2F44100-1%2Cn%5Bs%5D%3D(3%2Bt)*e*20*o%2F(Math.PI%2Bt*Math.abs(e))%3Bthis.waveShaperNode.curve%3Dn%7D%7D%7D)%2Ct.Effects.Flanger%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Btime%3A.45%2Cspeed%3A.2%2Cdepth%3A.1%2Cfeedback%3A.1%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.inputFeedbackNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.delayNode%3Dt.context.createDelay()%2Cthis.oscillatorNode%3Dt.context.createOscillator()%2Cthis.gainNode%3Dt.context.createGain()%2Cthis.feedbackNode%3Dt.context.createGain()%2Cthis.oscillatorNode.type%3D%22sine%22%2Cthis.inputNode.connect(this.inputFeedbackNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.inputFeedbackNode.connect(this.delayNode)%2Cthis.inputFeedbackNode.connect(this.wetGainNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.delayNode.connect(this.feedbackNode)%2Cthis.feedbackNode.connect(this.inputFeedbackNode)%2Cthis.oscillatorNode.connect(this.gainNode)%2Cthis.gainNode.connect(this.delayNode.delayTime)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Cthis.oscillatorNode.start(0)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.Flanger.prototype%3DObject.create(h%2C%7Btime%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3Di.Util.normalize(e%2C.001%2C.02))%7D%7D%2Cspeed%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.speed%3De%2Cthis.oscillatorNode.frequency.value%3Di.Util.normalize(e%2C.5%2C5))%7D%7D%2Cdepth%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.depth%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.depth%3De%2Cthis.gainNode.gain.value%3Di.Util.normalize(e%2C5e-4%2C.005))%7D%7D%2Cfeedback%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3De%2Cthis.feedbackNode.gain.value%3Di.Util.normalize(e%2C0%2C.8))%7D%7D%2Cmix%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%7D)%2Ct.Effects.StereoPanner%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bpan%3A0%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Ct.context.createStereoPanner%3F(this.pannerNode%3Dt.context.createStereoPanner()%2Cthis.inputNode.connect(this.pannerNode)%2Cthis.pannerNode.connect(this.outputNode))%3At.context.createPanner%3F(console.warn(%22Your%20browser%20does%20not%20support%20the%20StereoPannerNode.%20Will%20use%20PannerNode%20instead.%22)%2Cthis.pannerNode%3Dt.context.createPanner()%2Cthis.pannerNode.type%3D%22equalpower%22%2Cthis.inputNode.connect(this.pannerNode)%2Cthis.pannerNode.connect(this.outputNode))%3A(console.warn(%22Your%20browser%20does%20not%20support%20the%20Panner%20effect.%22)%2Cthis.inputNode.connect(this.outputNode))%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.StereoPanner.prototype%3DObject.create(h%2C%7Bpan%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.pan%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C-1%2C1)%26%26(this.options.pan%3De%2Cthis.pannerNode%26%26(this.pannerNode.toString().indexOf(%22StereoPannerNode%22)%3E-1%3Fthis.pannerNode.pan.value%3De%3Athis.pannerNode.setPosition(e%2C0%2C1-Math.abs(e))))%7D%7D%7D)%2Ct.Effects.Convolver%3Dfunction(e%2Cn)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20o%3Dthis%2Cs%3Dnew%20XMLHttpRequest%2Cr%3D%7Bmix%3A.5%7D%3Bfor(var%20a%20in%20this.callback%3Dn%2Cthis.inputNode%3Dt.context.createGain()%2Cthis.convolverNode%3Dt.context.createConvolver()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.inputNode.connect(this.convolverNode)%2Cthis.convolverNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Cr)this%5Ba%5D%3De%5Ba%5D%2Cthis%5Ba%5D%3Dvoid%200%3D%3D%3Dthis%5Ba%5D%7C%7Cnull%3D%3D%3Dthis%5Ba%5D%3Fr%5Ba%5D%3Athis%5Ba%5D%3Bif(!e.impulse)%7Bconsole.error(%22No%20impulse%20file%20specified.%22)%3Breturn%7Ds.open(%22GET%22%2Ce.impulse%2C!0)%2Cs.responseType%3D%22arraybuffer%22%2Cs.onload%3Dfunction(e)%7Bvar%20n%3De.target.response%3Bt.context.decodeAudioData(n%2Cfunction(e)%7Bo.convolverNode.buffer%3De%2Co.callback%26%26i.Util.isFunction(o.callback)%26%26o.callback()%7D%2Cfunction(e)%7Be%3De%7C%7CError(%22Error%20decoding%20impulse%20file%22)%2Co.callback%26%26i.Util.isFunction(o.callback)%26%26o.callback(e)%7D)%7D%2Cs.onreadystatechange%3Dfunction(t)%7B4%3D%3D%3Ds.readyState%26%26200!%3D%3Ds.status%26%26console.error(%22Error%20while%20fetching%20%22%2Be.impulse%2B%22.%20%22%2Bs.statusText)%7D%2Cs.send()%7D%2Ct.Effects.Convolver.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%7D)%2Ct.Effects.PingPongDelay%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.5%2Ctime%3A.3%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.delayNodeLeft%3Dt.context.createDelay()%2Cthis.delayNodeRight%3Dt.context.createDelay()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.feedbackGainNode%3Dt.context.createGain()%2Cthis.channelMerger%3Dt.context.createChannelMerger(2)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.delayNodeLeft.connect(this.channelMerger%2C0%2C0)%2Cthis.delayNodeRight.connect(this.channelMerger%2C0%2C1)%2Cthis.delayNodeLeft.connect(this.delayNodeRight)%2Cthis.feedbackGainNode.connect(this.delayNodeLeft)%2Cthis.delayNodeRight.connect(this.feedbackGainNode)%2Cthis.inputNode.connect(this.feedbackGainNode)%2Cthis.channelMerger.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.PingPongDelay.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNodeLeft.delayTime.value%3De%2Cthis.delayNodeRight.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%7D)%2Ct.Effects.Reverb%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bmix%3A.5%2Ctime%3A.01%2Cdecay%3A.01%2Creverse%3A!1%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.reverbNode%3Dt.context.createConvolver()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.inputNode.connect(this.reverbNode)%2Cthis.reverbNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%3Bl.bind(this)()%7D%2Ct.Effects.Reverb.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C1e-4%2C10)%26%26(this.options.time%3De%2Cl.bind(this)())%7D%7D%2Cdecay%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.decay%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C1e-4%2C10)%26%26(this.options.decay%3De%2Cl.bind(this)())%7D%7D%2Creverse%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.reverse%7D%2Cset%3Afunction(e)%7Bi.Util.isBool(e)%26%26(this.options.reverse%3De%2Cl.bind(this)())%7D%7D%7D)%2Ct.Effects.Bitcrusher%3Dfunction(e)%7Bthis.inputNode%3Di.context.createGain()%2Cthis.outputNode%3Di.context.createGain()%2Cthis.bits%3De.bits%7C%7C4%2Cthis.frequency%3De.frequency%7C%7C44100%2Cthis.crusherNode%3Di.context.createScriptProcessor(4096%2C1%2C1)%3Bvar%20t%3Dthis%3Bthis.crusherNode.onaudioprocess%3Dfunction(e)%7Bfor(var%20n%3De.inputBuffer%2Co%3De.outputBuffer%2Cs%3D0%3Bs%3Co.numberOfChannels%3Bs%2B%2B)for(var%20r%3Dn.getChannelData(s)%2Ca%3Do.getChannelData(s)%2Cc%3DMath.pow(.5%2Ct.bits-1)%2Ch%3Dt.frequency%2Fi.context.sampleRate%2Cu%3D0%3Bu%3Cn.length%3Bu%2B%2B)u%25h%3D%3D0%3Fa%5Bu%5D%3DMath.floor(r%5Bu%5D%2Fc)*c%3Aa%5Bu%5D%3Da%5Bu-1%5D%7D%2Cthis.inputNode.connect(this.crusherNode)%2Cthis.crusherNode.connect(this.outputNode)%2Cthis.connect%3Dfunction(e)%7Bthis.outputNode.connect(e)%7D%2Cthis.disconnect%3Dfunction()%7Bthis.outputNode.disconnect()%7D%7D%2Ct.Effects.Bitcrusher.prototype%3D%7Bconstructor%3At.Effects.Bitcrusher%2CsetBits%3Afunction(e)%7Be%3E%3D1%26%26e%3C%3D16%26%26(this.bits%3De)%7D%2CgetBits%3Afunction()%7Breturn%20this.bits%7D%2CsetFrequency%3Afunction(e)%7Be%3E0%26%26(this.frequency%3De)%7D%2CgetFrequency%3Afunction()%7Breturn%20this.frequency%7D%7D%2Ct.Effects.ThreeBandEqualizer%3Dfunction(e)%7Bf.call(this%2Ce)%7D%3Bvar%20p%3DObject.create(h%2C%7Bcutoff_frequency_low%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff_frequency_low%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C10%2C22050)%26%26(this.options.cutoff_frequency_low%3De%2Cthis.lowFilterNode.frequency.value%3De%2Cthis.midFilterNode.frequency.value%3D.707*(this.options.cutoff_frequency_low%2Bthis.options.cutoff_frequency_high))%7D%7D%2Ccutoff_frequency_high%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff_frequency_high%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C10%2C22050)%26%26(this.options.cutoff_frequency_high%3De%2Cthis.highFilterNode.frequency.value%3De%2Cthis.midFilterNode.frequency.value%3D.707*(this.options.cutoff_frequency_low%2Bthis.options.cutoff_frequency_high))%7D%7D%2Clow_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.low_band_gain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C-40%2C15)%26%26(this.options.low_band_gain%3De%2Cthis.lowGainNode.gain.value%3DMath.pow(10%2Ce%2F20))%7D%7D%2Cmid_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mid_band_gain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C-40%2C15)%26%26(this.options.mid_band_gain%3De%2Cthis.midGainNode.gain.value%3DMath.pow(10%2Ce%2F20))%7D%7D%2Chigh_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.high_band_gain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C-40%2C15)%26%26(this.options.high_band_gain%3De%2Cthis.highGainNode.gain.value%3DMath.pow(10%2Ce%2F20))%7D%7D%2Clow_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.lowFilterNode.Q.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C100)%26%26(this.lowFilterNode.Q.value%3De)%7D%7D%2Cmid_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.midFilterNode.Q.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C100)%26%26(this.midFilterNode.Q.value%3De)%7D%7D%2Chigh_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.highFilterNode.Q.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C1e3)%26%26(this.highFilterNode.Q.value%3De)%7D%7D%2CvisualizerBinCount%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.analyserNode.frequencyBinCount%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C16%2C1024)%26%26(this.analyzerNode.fftSize%3De)%7D%7D%2Canalyser%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.analyserNode%7D%7D%2CfrequencyData%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20void%200%3D%3D%3Dthis.byteFrequencyData%26%26(this.byteFrequencyData%3Dnew%20Uint8Array(this.analyserNode.frequencyBinCount.value))%2Cthis.analyserNode.getByteFrequencyData(this.FrequencyData)%2Cthis.byteFrequencyData%7D%7D%7D)%3Bt.Effects.ThreeBandEqualizer.prototype%3Dp%2Ct.Effects.Tremolo%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bspeed%3A4%2Cdepth%3A1%2Cmix%3A.8%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.tremoloGainNode%3Dt.context.createGain()%2Cthis.tremoloGainNode.gain.value%3D0%2Cthis.lfoNode%3Dt.context.createOscillator()%2Cthis.shaperNode%3Dt.context.createWaveShaper()%2Cthis.shaperNode.curve%3Dnew%20Float32Array(%5B0%2C1%5D)%2Cthis.shaperNode.connect(this.tremoloGainNode.gain)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.lfoNode.connect(this.shaperNode)%2Cthis.lfoNode.type%3D%22sine%22%2Cthis.lfoNode.start(0)%2Cthis.inputNode.connect(this.tremoloGainNode)%2Cthis.tremoloGainNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.Tremolo.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Cspeed%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C20)%26%26(this.options.speed%3De%2Cthis.lfoNode.frequency.value%3De)%7D%7D%2Cdepth%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.depth%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.depth%3De%2Cthis.shaperNode.curve%3Dnew%20Float32Array(%5B1-e%2C1%5D))%7D%7D%7D)%2Ct.Effects.DubDelay%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.6%2Ctime%3A.7%2Cmix%3A.5%2Ccutoff%3A700%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.feedbackGainNode%3Dt.context.createGain()%2Cthis.delayNode%3Dt.context.createDelay()%2Cthis.bqFilterNode%3Dt.context.createBiquadFilter()%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.inputNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.feedbackGainNode)%2Cthis.feedbackGainNode.connect(this.bqFilterNode)%2Cthis.bqFilterNode.connect(this.delayNode)%2Cthis.delayNode.connect(this.feedbackGainNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ct.Effects.DubDelay.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%2Ccutoff%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C4e3)%26%26(this.options.cutoff%3De%2Cthis.bqFilterNode.frequency.value%3Dthis.cutoff)%7D%7D%7D)%2Ct.Effects.RingModulator%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bspeed%3A30%2Cdistortion%3A1%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.vIn%3Dt.context.createOscillator()%2Cthis.vIn.start(0)%2Cthis.vInGain%3Dt.context.createGain()%2Cthis.vInGain.gain.value%3D.5%2Cthis.vInInverter1%3Dt.context.createGain()%2Cthis.vInInverter1.gain.value%3D-1%2Cthis.vInInverter2%3Dt.context.createGain()%2Cthis.vInInverter2.gain.value%3D-1%2Cthis.vInDiode1%3Dnew%20N(t.context)%2Cthis.vInDiode2%3Dnew%20N(t.context)%2Cthis.vInInverter3%3Dt.context.createGain()%2Cthis.vInInverter3.gain.value%3D-1%2Cthis.vcInverter1%3Dt.context.createGain()%2Cthis.vcInverter1.gain.value%3D-1%2Cthis.vcDiode3%3Dnew%20N(t.context)%2Cthis.vcDiode4%3Dnew%20N(t.context)%2Cthis.outGain%3Dt.context.createGain()%2Cthis.outGain.gain.value%3D3%2Cthis.compressor%3Dt.context.createDynamicsCompressor()%2Cthis.compressor.threshold.value%3D-24%2Cthis.compressor.ratio.value%3D16%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.inputNode.connect(this.vcInverter1)%2Cthis.inputNode.connect(this.vcDiode4.node)%2Cthis.vcInverter1.connect(this.vcDiode3.node)%2Cthis.vIn.connect(this.vInGain)%2Cthis.vInGain.connect(this.vInInverter1)%2Cthis.vInGain.connect(this.vcInverter1)%2Cthis.vInGain.connect(this.vcDiode4.node)%2Cthis.vInInverter1.connect(this.vInInverter2)%2Cthis.vInInverter1.connect(this.vInDiode2.node)%2Cthis.vInInverter2.connect(this.vInDiode1.node)%2Cthis.vInDiode1.connect(this.vInInverter3)%2Cthis.vInDiode2.connect(this.vInInverter3)%2Cthis.vInInverter3.connect(this.compressor)%2Cthis.vcDiode3.connect(this.compressor)%2Cthis.vcDiode4.connect(this.compressor)%2Cthis.compressor.connect(this.outGain)%2Cthis.outGain.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%3Bvar%20N%3Dfunction(e)%7Bthis.context%3De%2Cthis.node%3Dthis.context.createWaveShaper()%2Cthis.vb%3D.2%2Cthis.vl%3D.4%2Cthis.h%3D1%2Cthis.setCurve()%7D%3Bfunction%20v(e)%7Bfor(var%20t%3Di.context.sampleRate%2Cn%3Dnew%20Float32Array(t)%2Co%3DMath.PI%2F180%2Cs%3D0%3Bs%3Ct%3Bs%2B%2B)%7Bvar%20r%3D2*s%2Ft-1%3Bn%5Bs%5D%3D(3%2Be)*r*20*o%2F(Math.PI%2Be*Math.abs(r))%7Dreturn%20n%7DN.prototype.setDistortion%3Dfunction(e)%7Breturn%20this.h%3De%2Cthis.setCurve()%7D%2CN.prototype.setCurve%3Dfunction()%7Bvar%20e%2Ct%2Ci%2Cn%2Co%2Cs%2Cr%3Bfor(t%3D1024%2Co%3Dnew%20Float32Array(t)%2Ce%3Ds%3D0%2Cr%3Do.length%3B0%3C%3Dr%3Fs%3Cr%3As%3Er%3Be%3D0%3C%3Dr%3F%2B%2Bs%3A--s)n%3D(i%3DMath.abs(i%3D(e-t%2F2)%2F(t%2F2)))%3C%3Dthis.vb%3F0%3Athis.vb%3Ci%26%26i%3C%3Dthis.vl%3Fthis.h*(Math.pow(i-this.vb%2C2)%2F(2*this.vl-2*this.vb))%3Athis.h*i-this.h*this.vl%2Bthis.h*(Math.pow(this.vl-this.vb%2C2)%2F(2*this.vl-2*this.vb))%2Co%5Be%5D%3Dn%3Breturn%20this.node.curve%3Do%7D%2CN.prototype.connect%3Dfunction(e)%7Breturn%20this.node.connect(e)%7D%2Ct.Effects.RingModulator.prototype%3DObject.create(h%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.mix%3De%2Cthis.dryGainNode.gain.value%3Dt.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3Dt.Util.getWetLevel(this.mix))%7D%7D%2Cspeed%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C2e3)%26%26(this.options.speed%3De%2Cthis.vIn.frequency.value%3De)%7D%7D%2Cdistortion%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.distortion%7D%2Cset%3Afunction(e)%7Bif(i.Util.isInRange(e%2C.2%2C50))%7Bthis.options.distortion%3DparseFloat(e%2C10)%3Bfor(var%20t%3D%5Bthis.vInDiode1%2Cthis.vInDiode2%2Cthis.vcDiode3%2Cthis.vcDiode4%5D%2Cn%3D0%2Co%3Dt.length%3Bn%3Co%3Bn%2B%2B)t%5Bn%5D.setDistortion(e)%7D%7D%7D%7D)%2Ct.Effects.Quadrafuzz%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20t%3D%7BlowGain%3A.6%2CmidLowGain%3A.8%2CmidHighGain%3A.5%2ChighGain%3A.6%7D%3Bthis.inputNode%3Di.context.createGain()%2Cthis.outputNode%3Di.context.createGain()%2Cthis.dryGainNode%3Di.context.createGain()%2Cthis.wetGainNode%3Di.context.createGain()%2Cthis.lowpassLeft%3Di.context.createBiquadFilter()%2Cthis.lowpassLeft.type%3D%22lowpass%22%2Cthis.lowpassLeft.frequency.value%3D147%2Cthis.lowpassLeft.Q.value%3D.7071%2Cthis.bandpass1Left%3Di.context.createBiquadFilter()%2Cthis.bandpass1Left.type%3D%22bandpass%22%2Cthis.bandpass1Left.frequency.value%3D587%2Cthis.bandpass1Left.Q.value%3D.7071%2Cthis.bandpass2Left%3Di.context.createBiquadFilter()%2Cthis.bandpass2Left.type%3D%22bandpass%22%2Cthis.bandpass2Left.frequency.value%3D2490%2Cthis.bandpass2Left.Q.value%3D.7071%2Cthis.highpassLeft%3Di.context.createBiquadFilter()%2Cthis.highpassLeft.type%3D%22highpass%22%2Cthis.highpassLeft.frequency.value%3D4980%2Cthis.highpassLeft.Q.value%3D.7071%2Cthis.overdrives%3D%5B%5D%3Bfor(var%20n%3D0%3Bn%3C4%3Bn%2B%2B)this.overdrives%5Bn%5D%3Di.context.createWaveShaper()%2Cthis.overdrives%5Bn%5D.curve%3Dv()%3Bthis.inputNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%3Bvar%20o%3D%5Bthis.lowpassLeft%2Cthis.bandpass1Left%2Cthis.bandpass2Left%2Cthis.highpassLeft%5D%3Bfor(n%3D0%3Bn%3Co.length%3Bn%2B%2B)this.wetGainNode.connect(o%5Bn%5D)%2Co%5Bn%5D.connect(this.overdrives%5Bn%5D)%2Cthis.overdrives%5Bn%5D.connect(this.outputNode)%3Bfor(var%20s%20in%20t)this%5Bs%5D%3De%5Bs%5D%2Cthis%5Bs%5D%3Dvoid%200%3D%3D%3Dthis%5Bs%5D%7C%7Cnull%3D%3D%3Dthis%5Bs%5D%3Ft%5Bs%5D%3Athis%5Bs%5D%7D%2Ct.Effects.Quadrafuzz.prototype%3DObject.create(h%2C%7BlowGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.lowGain%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.lowGain%3De%2Cthis.overdrives%5B0%5D.curve%3Dv(i.Util.normalize(this.lowGain%2C0%2C150)))%7D%7D%2CmidLowGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.midLowGain%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.midLowGain%3De%2Cthis.overdrives%5B1%5D.curve%3Dv(i.Util.normalize(this.midLowGain%2C0%2C150)))%7D%7D%2CmidHighGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.midHighGain%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.midHighGain%3De%2Cthis.overdrives%5B2%5D.curve%3Dv(i.Util.normalize(this.midHighGain%2C0%2C150)))%7D%7D%2ChighGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.highGain%7D%2Cset%3Afunction(e)%7Bi.Util.isInRange(e%2C0%2C1)%26%26(this.options.highGain%3De%2Cthis.overdrives%5B3%5D.curve%3Dv(i.Util.normalize(this.highGain%2C0%2C150)))%7D%7D%7D)%7D(%22undefined%22!%3Dtypeof%20window%3Fwindow%3Aglobal)%3B%60%3B%0D%0A%20%20document.body.appendChild(scriptElement)%3B%0D%0A%20%20%2F*%20global%20Pizzicato%20*%2F%0D%0A%0D%0A%20%20const%20%7B%20vm%2C%20Cast%20%7D%20%3D%20Scratch%3B%0D%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0D%0A%20%20const%20scratchAudio%20%3D%20runtime.audioEngine%3B%0D%0A%0D%0A%20%20const%20ts3Data%20%3D%20Symbol(%22ts3Data%22)%3B%0D%0A%20%20const%20simpleEffects%20%3D%20%5B%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pitch%22)%2C%20value%3A%20%22pitch%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22detune%22)%2C%20value%3A%20%22detune%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22speed%22)%2C%20value%3A%20%22speed%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pan%22)%2C%20value%3A%20%22pan%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22gain%22)%2C%20value%3A%20%22gain%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22distortion%22)%2C%20value%3A%20%22distortion%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22attack%22)%2C%20value%3A%20%22attack%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22release%22)%2C%20value%3A%20%22release%22%20%7D%2C%0D%0A%20%20%5D%3B%0D%0A%20%20const%20complexEffects%20%3D%20%5B%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22reverb%22)%2C%20value%3A%20%22reverb%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22delay%22)%2C%20value%3A%20%22delay%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22tremolo%22)%2C%20value%3A%20%22tremolo%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22fuzz%22)%2C%20value%3A%20%22fuzz%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22bitcrush%22)%2C%20value%3A%20%22bitcrush%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22highpass%22)%2C%20value%3A%20%22highpass%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22lowpass%22)%2C%20value%3A%20%22lowpass%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22flanger%22)%2C%20value%3A%20%22flanger%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22compressor%22)%2C%20value%3A%20%22compressor%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22equalizer%22)%2C%20value%3A%20%22equalizer%22%20%7D%2C%0D%0A%20%20%5D%3B%0D%0A%0D%0A%20%20let%20deltaTime%20%3D%200%2C%0D%0A%20%20%20%20prevFrameTime%20%3D%200%3B%0D%0A%20%20let%20soundBank%20%3D%20Object.create(null)%3B%0D%0A%20%20let%20settings%20%3D%20%7B%20flagCtrl%3A%20false%2C%20canSave%3A%20false%20%7D%3B%0D%0A%0D%0A%20%20class%20SPtuneShark3%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20this.loadStorage%20%3D%20function%20(storage)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(storage%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20%20%20settings%20%3D%20storage.settings%3B%0D%0A%20%20%20%20%20%20%20%20const%20tempBank%20%3D%20structuredClone(storage.bank)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sounds%20%3D%20Object.values(tempBank)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20getTargetName%20%3D%20(name)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20runtime.targets.find((t)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20t.getName().replaceAll(%22%2F%22%2C%20%22%22)%20%3D%3D%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20const%20loadEndHandler%20%3D%20(index)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(index%20%3E%3D%20sounds.length%20-%201)%20soundBank%20%3D%20tempBank%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sounds.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20sound%20%3D%20sounds%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(sound.isVanilla)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20info%20%3D%20sound.src%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.substring(1%2C%20sound.src.lastIndexOf(%22.%22))%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.split(%22%2F%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20target%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20info%5B0%5D%20%3D%3D%3D%20%22Stage%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20runtime.getTargetForStage()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20getTargetName(info%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(target%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Tune%20Shark%203%20--%20Failed%20to%20load%20%24%7Binfo%5B1%5D%7D%20from%20%24%7Binfo%5B0%5D%7D%60%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20scratchSound%20%3D%20target.sprite.sounds.find((i)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i.name.replaceAll(%22%2F%22%2C%20%22%22)%20%3D%3D%3D%20info%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(scratchSound%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Tune%20Shark%203%20--%20Failed%20to%20load%20%24%7Binfo%5B1%5D%7D%20from%20%24%7Binfo%5B0%5D%7D%60%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20buffer%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.sprite.soundBank.soundPlayers%5BscratchSound.soundId%5D.buffer%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20source%3A%20%22buffer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20buffer%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.context%20%3D%20engine%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20loadEndHandler(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20source%3A%20%22file%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20path%3A%20sound.src%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.context%20%3D%20engine%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadEndHandler(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20(!Scratch.extensions.isPenguinMod)%20%7B%0D%0A%20%20%20%20%20%20%20%20runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20%20%20this.loadStorage(runtime.extensionStorage%5B%22SPtuneShark3%22%5D)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.flagCtrl)%20this.ctrlSounds(%7B%20CONTROL%3A%20%22stop%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.flagCtrl)%20this.ctrlSounds(%7B%20CONTROL%3A%20%22stop%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20now%20%3D%20performance.now()%3B%0D%0A%20%20%20%20%20%20%20%20deltaTime%20%3D%20prevFrameTime%20%3D%3D%3D%200%20%3F%200%20%3A%20(now%20-%20prevFrameTime)%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%20%20prevFrameTime%20%3D%20now%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20projectVal%20%3D%20scratchAudio.inputNode.gain.value%3B%0D%0A%20%20%20%20%20%20%20%20Object.values(soundBank).forEach((bank)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(bank.loaded)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sound%20%3D%20bank.context%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Clamp%20Volume%20to%20Project%20Volume%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20curVol%20%3D%20Math.min(100%2C%20Math.max(0%2C%20bank.vol))%20%2F%20100%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.volume%20%3D%20curVol%20*%20projectVal%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(sound.playing)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Increment%20Current%20Time%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20leng%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.loop%20%26%26%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20sound.sourceNode.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20time%20%3D%20bank.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%20%2B%3D%20deltaTime%20*%20bank.rate%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(sound.loop)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(0%2C%20(time%20%25%20(leng%20-%20bank.loopParm%5B0%5D))%20%2B%200.00001)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.loopParm%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20time%20%3D%20Math.min(leng%2C%20Math.max(0%2C%20time))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%20time%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Apply%20Speed%20Changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(bank.speed%20!%3D%3D%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20bank.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.stop()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fixAudioNodes(sound.sourceNode%2C%20bank)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22RUNTIME_PAUSED%22%2C%20()%20%3D%3E%20this.ctrlSounds(%7B%20CONTROL%3A%20%22pause%22%20%7D))%3B%0D%0A%20%20%20%20%20%20runtime.on(%22RUNTIME_UNPAUSED%22%2C%20()%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20this.ctrlSounds(%7B%20CONTROL%3A%20%22unpause%22%20%7D)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22SPtuneShark3%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Tune%20Shark%20V3%22)%2C%0D%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2FSharkPool%2FTune-Shark-V3%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23666666%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blockIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importURL%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22import%20sound%20from%20URL%20%5BURL%5D%20named%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20URL%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22https%3A%2F%2Fsharkpools-extensions.vercel.app%2Fextension-utils%2FTS%2FResonance-Home.mp3%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22import%20sound%20%5BSOUND%5D%20named%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SOUND%3A%20%7B%20type%3A%20Scratch.ArgumentType.SOUND%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bindSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20sound%20%5BNAME2%5D%20and%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22bindMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound2%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Playback%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22startSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22start%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22startSoundAt%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22start%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22playAndStop%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22start%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%20and%20stop%20at%20%5BMAX%5D%20seconds%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MAX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%202%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stop%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22pauseSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BUN_PAUSE%5D%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20UN_PAUSE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22un_pauseMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22ctrlSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BCONTROL%5D%20all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22playMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Operations%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22enableControl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22toggle%20sound%20link%20to%20%5BGO%5D%20%5BSTOP%5D%20%5BON_OFF%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20GO%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20extraIcons.flag%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STOP%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20extraIcons.stop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ON_OFF%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleOverlap%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20overlapping%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleReverse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20reverse%20mode%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleLoop%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20looping%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22loopParams%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sound%20%5BNAME%5D%20loop%20start%20%5BSTART%5D%20end%20%5BEND%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%202%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteAllSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allPlaySounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20playing%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20sound%20%5BNAME%5D%20%5BCONTROL%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22hatPlayer%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22soundCheck%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22sound%20%5BNAME%5D%20%5BCONTROL%5D%20%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22soundBools%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22soundProperty%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BPROP%5D%20of%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROP%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22soundProps%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getLoudTime%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%20in%20channel%20%5BCHANNEL%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22loudProps%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CHANNEL%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Effects%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVol%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20volume%20of%20sound%20%5BNAME%5D%20to%20%5BNUM%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetEffect%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20%5BEFFECT%5D%20of%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22effectMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setThingNew%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20%5BVALUE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22singleEffectNew%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setReverb%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20reverb%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20decay%20%5BDECAY%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DECAY%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDelay%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20delay%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20feedback%20%5BFEED%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTremolo%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20tremolo%20of%20sound%20%5BNAME%5D%20to%20speed%20%5BSPEED%5D%20depth%20%5BDEPTH%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2035%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEPTH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2080%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFuzz%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20fuzz%20of%20sound%20%5BNAME%5D%20to%20low%20%5BLOW%5D%20med-low%20%5BMED1%5D%20med-high%20%5BMED2%5D%20high%20%5BHIGH%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MED1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2080%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MED2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setBitcrush%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20bitcrush%20of%20sound%20%5BNAME%5D%20bits%20%5BBITS%5D%20freq%20%5BFREQ%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BITS%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2065%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FREQ%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060000%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPass%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20frequency%20%5BFREQ%5D%20peak%20%5BPEAK%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22typePass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FREQ%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20400%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PEAK%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFlanger%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20flanger%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20speed%20%5BSPEED%5D%20depth%20%5BDEPTH%5D%20feed%20%5BFEED%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2045%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2020%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEPTH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCompress%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20compressor%20of%20sound%20%5BNAME%5D%20to%20threshold%20%5BTHRESH%5D%20knee%20%5BKNEE%5D%20attack%20%5BATTACK%5D%20release%20%5BRELEASE%5D%20ratio%20%5BRATIO%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20THRESH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2015%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KNEE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATTACK%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RELEASE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RATIO%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEqualize%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20equalizer%20of%20sound%20%5BNAME%5D%20to%20gain%20low%20%5BLOW%5D%20mid%20%5BMID%5D%20high%20%5BHIGH%5D%20cutoff%20low%20%5BCUT_LOW%5D%20cutoff%20high%20%5BCUT_HIGH%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MID%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CUT_LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-50%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CUT_HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22save2Project%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BSAVE%5D%20all%20sounds%20to%20project%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20SAVE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22saveMenu%22%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22convertSound%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22convert%20sound%20%5BNAME1%5D%20from%20URL%20to%20URI%20and%20save%20to%20%5BNAME2%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20NAME1%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%20%7D%2C%20NAME2%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setThing%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20%5BVALUE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22MySound%22%20%7D%2C%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22singleEffects%22%20%7D%2C%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20singleEffects%3A%20simpleEffects%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20saveMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22save%22)%2C%20value%3A%20%22save%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22dont%20save%22)%2C%20value%3A%20%22dont%20save%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20un_pauseMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pause%22)%2C%20value%3A%20%22pause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unpause%22)%2C%20value%3A%20%22unpause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20playMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%22)%2C%20value%3A%20%22start%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22stop%22)%2C%20value%3A%20%22stop%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pause%22)%2C%20value%3A%20%22pause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unpause%22)%2C%20value%3A%20%22unpause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hatPlayer%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22starts%22)%2C%20value%3A%20%22starts%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22stops%22)%2C%20value%3A%20%22stops%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20toggleMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22on%22)%2C%20value%3A%20%22on%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22off%22)%2C%20value%3A%20%22off%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20bindMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22bind%22)%2C%20value%3A%20%22bind%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unBind%22)%2C%20value%3A%20%22unBind%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20loudProps%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22loudness%22)%2C%20value%3A%20%22loudness%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22raw%20noise%22)%2C%20value%3A%20%22raw%20noise%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22tone%22)%2C%20value%3A%20%22tone%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20typePass%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22highpass%22)%2C%20value%3A%20%22highpass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22lowpass%22)%2C%20value%3A%20%22lowpass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20singleEffectNew%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20simpleEffects%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20soundProps%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22length%22)%2C%20value%3A%20%22length%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22current%20time%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22current%20time%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22source%22)%2C%20value%3A%20%22source%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22estimated%20bpm%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22estimated%20bpm%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22channels%22)%2C%20value%3A%20%22channels%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22binds%22)%2C%20value%3A%20%22binds%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22volume%22)%2C%20value%3A%20%22volume%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.concat(simpleEffects%2C%20complexEffects)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20soundBools%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22exists%22)%2C%20value%3A%20%22exists%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22playing%22)%2C%20value%3A%20%22playing%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22paused%22)%2C%20value%3A%20%22paused%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22looped%22)%2C%20value%3A%20%22looped%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22overlaped%22)%2C%20value%3A%20%22overlaped%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22reversed%22)%2C%20value%3A%20%22reversed%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22binded%22)%2C%20value%3A%20%22binded%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20effectMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22all%20effects%22)%2C%20value%3A%20%22all%20effects%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.concat(simpleEffects%2C%20complexEffects)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0D%0A%20%20%20%20getSound(name)%20%7B%0D%0A%20%20%20%20%20%20return%20soundBank%5Bname%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startHats(data)%20%7B%0D%0A%20%20%20%20%20%20let%20newThreads%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20runtime.allScriptsByOpcodeDo(%0D%0A%20%20%20%20%20%20%20%20%22SPtuneShark3_whenSound%22%2C%0D%0A%20%20%20%20%20%20%20%20(script%2C%20target)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20thread%20%3D%20runtime._pushThread(script.blockId%2C%20target)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20thread%5Bts3Data%5D%20%3D%20data%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newThreads.push(thread)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20newThreads%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20generateData(name%2C%20src%2C%20context%2C%20isVanilla)%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20name%2C%0D%0A%20%20%20%20%20%20%20%20src%2C%0D%0A%20%20%20%20%20%20%20%20context%2C%0D%0A%20%20%20%20%20%20%20%20isVanilla%2C%0D%0A%20%20%20%20%20%20%20%20effects%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20loaded%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20reversed%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20currentTime%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20vol%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20gain%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20pitch%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20detune%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20speed%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20rate%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20loopParm%3A%20%5B0%2C%200%5D%2C%0D%0A%20%20%20%20%20%20%20%20overlap%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20overlays%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20isBind%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20binds%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20_cache%3A%20%7B%20loudness%3A%20%7B%7D%2C%20tone%3A%20%7B%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getBPM(data%2C%20sampleRate)%20%7B%0D%0A%20%20%20%20%20%20const%20peaks%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20let%20lastPeakIndex%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20max%20%3D%200.1%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20data.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(data%5Bi%5D%20%3E%20max)%20max%20%3D%20data%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20data.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(data%5Bi%5D%20%3E%20max%20-%200.1%20%26%26%20i%20-%20lastPeakIndex%20%3E%20sampleRate%20%2F%204)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20peaks.push(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lastPeakIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20intervals%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20peaks.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20intervals.push(peaks%5Bi%5D%20-%20peaks%5Bi%20-%201%5D)%3B%0D%0A%20%20%20%20%20%20const%20avgInterval%20%3D%0D%0A%20%20%20%20%20%20%20%20intervals.reduce((a%2C%20b)%20%3D%3E%20a%20%2B%20b%2C%200)%20%2F%20intervals.length%3B%0D%0A%20%20%20%20%20%20const%20value%20%3D%20Math.round((sampleRate%20%2F%20avgInterval)%20*%2060)%3B%0D%0A%20%20%20%20%20%20return%20isNaN(value)%20%3F%200%20%3A%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fixAudioNodes(src%2C%20sound)%20%7B%0D%0A%20%20%20%20%20%20src.playbackRate.value%20%3D%20sound.pitch%3B%0D%0A%20%20%20%20%20%20src.detune.value%20%3D%20sound.detune%3B%0D%0A%20%20%20%20%20%20src.gainSuccessor.gain.value%20%3D%20sound.gain%3B%0D%0A%20%20%20%20%20%20if%20(src.loop)%0D%0A%20%20%20%20%20%20%20%20this.loopParams(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20NAME%3A%20sound.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20START%3A%20sound.loopParm%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20END%3A%20sound.loopParm%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20updateEffect(effect%2C%20sound%2C%20name%2C%20args)%20%7B%0D%0A%20%20%20%20%20%20delete%20args.NAME%3B%0D%0A%20%20%20%20%20%20delete%20args.TYPE%3B%0D%0A%20%20%20%20%20%20effect.arguments%20%3D%20args%3B%20%2F%2F%20Match%20Original%20Values%2C%20not%20Converted%0D%0A%20%20%20%20%20%20if%20(sound.effects%5Bname%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20effect.id%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.addEffect(effect)%3B%0D%0A%20%20%20%20%20%20%20%20sound.effects%5Bname%5D%20%3D%20effect%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Dont%20Remove%20the%20Effect%20(Causes%20Glitches%20in%20Forever%20Loops)%2C%20simply%20change%20each%20value%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20use%20args%20just%20in%20case%20some%20Effects%20dont%20store%20them%20in%20the%20audio%20context%0D%0A%20%20%20%20%20%20%20%20const%20options%20%3D%20effect.options%3B%0D%0A%20%20%20%20%20%20%20%20const%20thisEffect%20%3D%20sound.context.effects.find(%0D%0A%20%20%20%20%20%20%20%20%20%20(effect)%20%3D%3E%20effect.id%20%3D%3D%3D%20name%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20thisEffect.arguments%20%3D%20effect.arguments%3B%0D%0A%20%20%20%20%20%20%20%20thisEffect.options%20%3D%20options%3B%0D%0A%20%20%20%20%20%20%20%20switch%20(name)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22PAN%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.pannerNode.pan.value%20%3D%20options.pan%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.pan%20%3D%20options.pan%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22DISTORTION%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.gain%20%3D%20options.gain%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22BITCRUSH%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.frequency%20%3D%20Math.max(30000%2C%20Cast.toNumber(args.FREQ))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.bits%20%3D%20Math.max(10%2C%20Cast.toNumber(args.BITS))%20%2F%2010%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22LOWPASS%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22HIGHPASS%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20freq%20%3D%20Cast.toNumber(args.FREQ)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20peak%20%3D%20Cast.toNumber(args.PEAK)%20%2F%205%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.filterNode.frequency.value%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.inputNode.frequency.value%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.frequency%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.filterNode.Q.value%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.inputNode.Q.value%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.peak%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22COMPRESSOR%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20node%20%3D%20thisEffect.compressorNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20values%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20threshold%3A%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(-100%2C%20Cast.toNumber(args.THRESH)%20*%20-1)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ratio%3A%20Cast.toNumber(args.RATIO)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20attack%3A%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(1%2C%20Cast.toNumber(args.ATTACK)%20%2F%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20release%3A%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(1%2C%20Cast.toNumber(args.RELEASE)%20%2F%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20knee%3A%20Cast.toNumber(args.KNEE)%20%2F%202.5%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(values).forEach((key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%5Bkey%5D.value%20%3D%20values%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20Object.keys(options).forEach((key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20thisEffect%5Bkey%5D%20%3D%20options%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20play(sound%2C%20atTime%2C%20con)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound.playing%20%26%26%20con.overlap)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20clone%20%3D%20sound.clone()%3B%20%2F%2F%20Clone%20context%20to%20Menu%20for%20Control%20Purposes%0D%0A%20%20%20%20%20%20%20%20%20%20const%20newName%20%3D%20%60%24%7Bcon.name%7D_COPY_%24%7BMath.random()%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20%20%20soundBank%5BnewName%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20...sound%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20context%3A%20clone%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20newName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20loopParm%3A%20%5B0%2C%200%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20overlap%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20overlays%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isBind%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20binds%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.sourceNode.playbackRate.value%20%3D%20con.pitch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.sourceNode.gainSuccessor.gain.value%20%3D%20con.gain%3B%0D%0A%20%20%20%20%20%20%20%20%20%20con.overlays.push(clone)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.on(%22end%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20soundBank%5BnewName%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!sound.playing)%20con.currentTime%20%3D%20atTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20srcNode%20%3D%20sound.sourceNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.fixAudioNodes(srcNode%2C%20con)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(Object.keys(con.binds).length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(con.binds).forEach((key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20thisSound%20%3D%20con.binds%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20context%20%3D%20thisSound.context%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!context.playing)%20thisSound.currentTime%20%3D%20atTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20context.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fixAudioNodes(context.sourceNode%2C%20thisSound)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(sound.loop)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.loopParams(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20con.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20con.loopParm%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20con.loopParm%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20con.name%2C%20type%3A%20%22starts%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(Scratch.translate(%22Audio%20has%20not%20loaded%20yet!%22))%3B%0D%0A%20%20%20%20%20%20%20%20sound.stop()%3B%20%2F%2F%20Reset%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20typeOverlay(sound%2C%20type)%20%7B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22stop%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sound.overlays.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20sound.overlays%5Bi%5D.stop()%3B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22stops%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22pause%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20ctx.pause()%3B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sound.overlays.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20sound.overlays%5Bi%5D.pause()%3B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22stops%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22starts%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!ctx.paused)%20return%3B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%20%20this.fixAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Block%20Funcs%0D%0A%20%20%20%20importURL(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.deleteSound(args)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!args.URL)%20return%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20source%3A%20%22file%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20path%3A%20args.URL%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bank%20%3D%20(soundBank%5Bargs.NAME%5D%20%3D%20this.generateData(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20args.NAME%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20args.URL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine.on(%22stop%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine.loop%20%26%26%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20engine.sourceNode.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Tune%20Shark%20V3%20can't%20import%20this%20sound%2C%20file%20may%20be%20corrupted%20or%20non-existent.%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20importMenu(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.SOUND)%3B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target.sprite%3B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20target.sounds.find((i)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20i.name%20%3D%3D%3D%20name%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20if%20(sound)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.deleteSound(args)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sourceURL%20%3D%20%60%2F%24%7Btarget.name.replaceAll(%22%2F%22%2C%20%22%22)%7D%2F%24%7Bsound.name.replaceAll(%22%2F%22%2C%20%22%22)%7D.%24%7Bsound.dataFormat%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20const%20buffer%20%3D%20target.soundBank.soundPlayers%5Bsound.soundId%5D.buffer%3B%0D%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20source%3A%20%22buffer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20buffer%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20this%20part%20of%20the%20Library%20was%20modified%20to%20work%20like%20this%0D%0A%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20const%20bank%20%3D%20this.generateData(args.NAME%2C%20sourceURL%2C%20engine%2C%20true)%3B%0D%0A%20%20%20%20%20%20%20%20soundBank%5Bargs.NAME%5D%20%3D%20bank%3B%0D%0A%20%20%20%20%20%20%20%20engine.on(%22stop%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.loop%20%26%26%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20engine.sourceNode.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20bindSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound1%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20const%20sound2%20%3D%20soundBank%5Bargs.NAME2%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound1%20%3D%3D%3D%20undefined%20%7C%7C%20sound2%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20shouldBind%20%3D%20args.TYPE%20%3D%3D%3D%20%22bind%22%3B%0D%0A%20%20%20%20%20%20sound1.isBind%20%3D%20shouldBind%3B%0D%0A%20%20%20%20%20%20sound2.isBind%20%3D%20shouldBind%3B%0D%0A%20%20%20%20%20%20if%20(shouldBind)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound1.binds%5Bsound2.name%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound1.binds%5Bsound2.name%5D%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(sound2.binds%5Bsound1.name%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound2.binds%5Bsound1.name%5D%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20sound1.binds%5Bsound2.name%5D%20%3D%20sound2%3B%0D%0A%20%20%20%20%20%20%20%20sound2.binds%5Bsound1.name%5D%20%3D%20sound1%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20delete%20sound1.binds%5Bsound2.name%5D%3B%0D%0A%20%20%20%20%20%20%20%20delete%20sound2.binds%5Bsound1.name%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.play(sound.context%2C%200%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startSoundAt(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20const%20time%20%3D%20Cast.toNumber(args.TIME)%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.play(sound.context%2C%20time%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playAndStop(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(util.stackFrame.awaitingSound%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20util.stackFrame.awaitingSound%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20this.play(sound.context%2C%20Cast.toNumber(args.TIME)%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%20%20util.yield()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(util.stackFrame.awaitingSound)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound.currentTime%20%3E%3D%20Cast.toNumber(args.MAX))%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20else%20util.yield()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20stopSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20pauseSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(args.UN_PAUSE%20%3D%3D%3D%20%22pause%22)%20this.typeOverlay(sound%2C%20%22pause%22)%3B%0D%0A%20%20%20%20%20%20else%20this.typeOverlay(sound%2C%20%22unpause%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20ctrlSounds(args)%20%7B%0D%0A%20%20%20%20%20%20const%20allSounds%20%3D%20Object.values(soundBank)%3B%0D%0A%20%20%20%20%20%20if%20(args.CONTROL%20%3D%3D%3D%20%22start%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.play(sound.context%2C%200%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.CONTROL%20%3D%3D%3D%20%22stop%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.context.stop()%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.CONTROL%20%3D%3D%3D%20%22pause%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22pause%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22unpause%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20enableControl(args)%20%7B%0D%0A%20%20%20%20%20%20settings.flagCtrl%20%3D%20args.ON_OFF%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleOverlap(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.overlap%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleLoop(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20oldValue%20%3D%20sound.context.loop%3B%0D%0A%20%20%20%20%20%20sound.context.loop%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22off%22)%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20else%20if%20(!oldValue%20%26%26%20sound.context.playing)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleReverse(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(sound.reversed%20%3D%3D%3D%20(args.TYPE%20%3D%3D%3D%20%22on%22))%20return%3B%0D%0A%20%20%20%20%20%20sound.reversed%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20sound._cache%20%3D%20%7B%20loudness%3A%20%7B%7D%2C%20tone%3A%20%7B%7D%20%7D%3B%0D%0A%20%20%20%20%20%20const%20node%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20const%20reverseBuffer%20%3D%20(buffer)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20buffer.numberOfChannels%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20buffer.getChannelData(i).reverse()%3B%0D%0A%20%20%20%20%20%20%20%20return%20buffer%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20const%20bufferSource%20%3D%20node.context.createBufferSource()%3B%0D%0A%20%20%20%20%20%20bufferSource.buffer%20%3D%20reverseBuffer(node.buffer)%3B%0D%0A%20%20%20%20%20%20bufferSource.connect(node.context.destination)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20loopParams(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.context.loop%20%3D%20true%3B%0D%0A%20%20%20%20%20%20const%20srcNode%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20srcNode.loopStart%20%3D%20Cast.toNumber(args.START)%3B%0D%0A%20%20%20%20%20%20srcNode.loopEnd%20%3D%20Cast.toNumber(args.END)%3B%0D%0A%20%20%20%20%20%20sound.loopParm%20%3D%20%5BsrcNode.loopStart%2C%20srcNode.loopEnd%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20this.stopSound(args)%3B%0D%0A%20%20%20%20%20%20if%20(sound)%20%7B%0D%0A%20%20%20%20%20%20%20%20sound.vol%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.volume%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20delete%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteAllSounds()%20%7B%0D%0A%20%20%20%20%20%20for%20(let%20name%20in%20soundBank)%20this.deleteSound(%7B%20NAME%3A%20name%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20allSounds()%20%7B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(Object.keys(soundBank))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20allPlaySounds()%20%7B%0D%0A%20%20%20%20%20%20const%20players%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20Object.entries(soundBank).forEach((%5Bkey%2C%20innerSrc%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(innerSrc.context.playing)%20players.push(key)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(players)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenSound(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20data%20%3D%20util.thread%5Bts3Data%5D%20%3F%3F%20%7B%7D%3B%0D%0A%20%20%20%20%20%20return%20args.CONTROL%20%3D%3D%3D%20data.type%20%26%26%20args.NAME%20%3D%3D%3D%20data.name%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20soundCheck(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%20false%3B%0D%0A%20%20%20%20%20%20switch%20(args.CONTROL)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22exists%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.loaded%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22playing%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.playing%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22paused%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.paused%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22looped%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.loop%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22overlaped%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.overlap%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22reversed%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.reversed%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22binded%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.isBind%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20soundProperty(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%200%3B%0D%0A%20%20%20%20%20%20const%20src%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20switch%20(args.PROP)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22length%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20src.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22current%20time%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22estimated%20bpm%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.getBPM(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20src.buffer.getChannelData(0)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20src.buffer.sampleRate%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22channels%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20src.buffer.numberOfChannels%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22source%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.src%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22binds%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(sound.binds))%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22volume%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.vol%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22pitch%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20Math.round((sound.pitch%20-%201)%20*%20100)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22detune%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.detune%20%2F%2010%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22speed%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.speed%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22gain%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.gain%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22pan%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.effects%5Bargs.PROP.toUpperCase()%5D%3F.options.pan%20*%20100%20%7C%7C%200%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22distortion%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.effects%5Bargs.PROP.toUpperCase()%5D%3F.options.gain%20*%20100%20%7C%7C%200%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22attack%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.attack%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22release%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.release%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20effect%20%3D%20sound.effects%5Bargs.PROP.toUpperCase()%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(effect%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(effect.arguments)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getLoudTime(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%200%3B%0D%0A%20%20%20%20%20%20const%20time%20%3D%20Cast.toNumber(args.TIME)%3B%0D%0A%20%20%20%20%20%20const%20chan%20%3D%20Cast.toNumber(args.CHANNEL)%20-%201%3B%0D%0A%20%20%20%20%20%20const%20audioCtx%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20const%20buffer%20%3D%20audioCtx.buffer%3B%0D%0A%20%20%20%20%20%20const%20duration%20%3D%20buffer.duration%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20time%20%3C%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20time%20%3E%20duration%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20chan%20%3C%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20chan%20%3E%20buffer.numberOfChannels%20-%201%0D%0A%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%0D%0A%20%20%20%20%20%20let%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20args.TYPE%20!%3D%3D%20%22raw%20noise%22%20%26%26%0D%0A%20%20%20%20%20%20%20%20sound._cache%5Bargs.TYPE%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20!%3D%3D%20undefined%0D%0A%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20sound._cache%5Bargs.TYPE%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%3B%0D%0A%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20sampleRate%20%3D%20buffer.sampleRate%3B%0D%0A%20%20%20%20%20%20%20%20const%20channelData%20%3D%20buffer.getChannelData(chan)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sampleIndex%20%3D%20Math.floor(sampleRate%20*%20time)%3B%0D%0A%20%20%20%20%20%20%20%20const%20windowSize%20%3D%20sampleRate%20*%200.1%3B%0D%0A%20%20%20%20%20%20%20%20const%20startSample%20%3D%20Math.max(0%2C%20sampleIndex%20-%20windowSize%20%2F%202)%3B%0D%0A%20%20%20%20%20%20%20%20const%20endSample%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20channelData.length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20sampleIndex%20%2B%20windowSize%20%2F%202%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20no%20need%20to%20cache%20raw%20noise%2C%20no%20work%20is%20done%0D%0A%20%20%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22raw%20noise%22)%20value%20%3D%20channelData%5BendSample%5D%3B%0D%0A%20%20%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22tone%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20channelData.slice(startSample%2C%20endSample)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20size%20%3D%20data.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20tauArray%20%3D%20new%20Array(size).fill(0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sum%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20size%20-%20tau%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20diff%20%3D%20data%5Bi%5D%20-%20data%5Bi%20%2B%20tau%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sum%20%2B%3D%20diff%20*%20diff%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tauArray%5Btau%5D%20%3D%20sum%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20tauArray%5Btau%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tauArray%5Btau%5D%20*%3D%20tau%20%2F%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20let%20bestTau%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(tauArray%5Btau%5D%20%3C%200.1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bestTau%20%3D%20tau%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20bestTau%20%3E%200%20%3F%20sampleRate%20%2F%20bestTau%20%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound._cache%5B%22tone%22%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22loudness%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%20startSample%3B%20i%20%3C%20endSample%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20channelData%5Bi%5D%20*%20channelData%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20rms%20%3D%20Math.sqrt(value%20%2F%20(endSample%20-%20startSample))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20dB%20%3D%2020%20*%20Math.log10(rms)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20Math.min(Math.max((dB%20%2B%2050)%20%2F%2050%2C%200)%2C%201)%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound._cache%5B%22loudness%22%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20isNaN(value)%20%3F%200%20%3A%20value%20*%20sound.gain%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setVol(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.vol%20%3D%20Math.max(0%2C%20Cast.toNumber(args.NUM))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resetEffect(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0D%0A%20%20%20%20%20%20const%20name%20%3D%20effect.toUpperCase()%3B%0D%0A%20%20%20%20%20%20if%20(effect%20%3D%3D%3D%20%22pitch%22)%20sound.pitch%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22detune%22)%20sound.detune%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22speed%22)%20sound.speed%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22gain%22)%20sound.gain%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22attack%22)%20sound.context.attack%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22release%22)%20sound.context.release%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22all%20effects%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20sound.pitch%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.detune%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.speed%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.gain%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.attack%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.release%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20const%20effects%20%3D%20sound.effects%3B%0D%0A%20%20%20%20%20%20%20%20Object.values(effects).forEach((e)%20%3D%3E%20ctx.removeEffect(e))%3B%0D%0A%20%20%20%20%20%20%20%20sound.effects%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(sound.effects%5Bname%5D%20!%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20ctx.removeEffect(sound.effects%5Bname%5D)%3B%0D%0A%20%20%20%20%20%20%20%20delete%20sound.effects%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20sound.rate%20%3D%20sound.pitch%20*%20sound.speed%20*%20Math.pow(2%2C%20sound.detune%20%2F%201200)%3B%0D%0A%20%20%20%20%20%20this.fixAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setThingNew(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20const%20value%20%3D%20Cast.toNumber(args.VALUE)%20%2F%20100%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22pitch%22)%20sound.pitch%20%3D%20Math.max(0%2C%20value%20%2B%201)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22detune%22)%20sound.detune%20%3D%20value%20*%201000%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22speed%22)%20sound.speed%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22gain%22)%20sound.gain%20%3D%20value%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22attack%22)%0D%0A%20%20%20%20%20%20%20%20sound.context.attack%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22release%22)%0D%0A%20%20%20%20%20%20%20%20sound.context.release%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22pan%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20pan%20%3D%20new%20Pizzicato.Effects.StereoPanner(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20pan%3A%20Math.max(-1%2C%20Math.min(1%2C%20value))%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20this.updateEffect(pan%2C%20sound%2C%20%22PAN%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22distortion%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20distort%20%3D%20new%20Pizzicato.Effects.Distortion(%7B%20gain%3A%20value%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20this.updateEffect(distort%2C%20sound%2C%20%22DISTORTION%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20sound.rate%20%3D%20sound.pitch%20*%20sound.speed%20*%20Math.pow(2%2C%20sound.detune%20%2F%201200)%3B%0D%0A%20%20%20%20%20%20this.fixAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setReverb(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20reverb%20%3D%20new%20Pizzicato.Effects.Reverb(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Cast.toNumber(args.TIME)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20decay%3A%20Cast.toNumber(args.DECAY)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(reverb%2C%20sound%2C%20%22REVERB%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setDelay(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20delay%20%3D%20new%20Pizzicato.Effects.Delay(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.TIME)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20decay%3A%20Cast.toNumber(args.FEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(delay%2C%20sound%2C%20%22DELAY%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFuzz(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20fuzz%20%3D%20new%20Pizzicato.Effects.Quadrafuzz(%7B%0D%0A%20%20%20%20%20%20%20%20lowGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.LOW)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20midLowGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.MED1)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20midHighGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.MED2)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20highGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.HIGH)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(fuzz%2C%20sound%2C%20%22FUZZ%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setBitcrush(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20%2F*%20NOTE%3A%20Bitcrusher%20uses%20%22ScriptProcessorNode%22%0D%0A%20%20%20%20%20%20%20%20despite%20being%20%22deprecated%22%20they%20are%20still%20widely%20used%0D%0A%20%20%20%20%20%20*%2F%0D%0A%20%20%20%20%20%20const%20bitcrush%20%3D%20new%20Pizzicato.Effects.Bitcrusher(%7B%0D%0A%20%20%20%20%20%20%20%20bits%3A%20Math.max(10%2C%20Cast.toNumber(args.BITS))%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20frequency%3A%20Math.max(30000%2C%20Cast.toNumber(args.FREQ))%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(bitcrush%2C%20sound%2C%20%22BITCRUSH%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTremolo(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20distort%20%3D%20new%20Pizzicato.Effects.Tremolo(%7B%0D%0A%20%20%20%20%20%20%20%20speed%3A%20Cast.toNumber(args.SPEED)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%20%20depth%3A%20Cast.toNumber(args.DEPTH)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(distort%2C%20sound%2C%20%22TREMOLO%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setPass(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20json%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20frequency%3A%20Cast.toNumber(args.FREQ)%2C%0D%0A%20%20%20%20%20%20%20%20peak%3A%20Cast.toNumber(args.PEAK)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22highpass%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20highpass%20%3D%20new%20Pizzicato.Effects.HighPassFilter(json)%3B%0D%0A%20%20%20%20%20%20%20%20this.updateEffect(highpass%2C%20sound%2C%20%22HIGHPASS%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lowpass%20%3D%20new%20Pizzicato.Effects.LowPassFilter(json)%3B%0D%0A%20%20%20%20%20%20%20%20this.updateEffect(lowpass%2C%20sound%2C%20%22LOWPASS%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFlanger(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20flang%20%3D%20new%20Pizzicato.Effects.Flanger(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Cast.toNumber(args.TIME)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20speed%3A%20Cast.toNumber(args.SPEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20depth%3A%20Cast.toNumber(args.DEPTH)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20feedback%3A%20Cast.toNumber(args.FEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(flang%2C%20sound%2C%20%22FLANGER%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setCompress(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20compress%20%3D%20new%20Pizzicato.Effects.Compressor(%7B%0D%0A%20%20%20%20%20%20%20%20threshold%3A%20Math.min(0%2C%20Math.max(-100%2C%20Cast.toNumber(args.THRESH)%20*%20-1))%2C%0D%0A%20%20%20%20%20%20%20%20ratio%3A%20Cast.toNumber(args.RATIO)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%20%20attack%3A%20Math.min(0%2C%20Math.max(1%2C%20Cast.toNumber(args.ATTACK)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20release%3A%20Math.min(0%2C%20Math.max(1%2C%20Cast.toNumber(args.RELEASE)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20knee%3A%20Cast.toNumber(args.KNEE)%20%2F%202.5%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(compress%2C%20sound%2C%20%22COMPRESSOR%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setEqualize(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20equalizer%20%3D%20new%20Pizzicato.Effects.ThreeBandEqualizer(%7B%0D%0A%20%20%20%20%20%20%20%20cutoff_frequency_high%3A%2012000%20%2B%20Cast.toNumber(args.CUT_HIGH)%20*%20120%2C%0D%0A%20%20%20%20%20%20%20%20cutoff_frequency_low%3A%2012000%20%2B%20Cast.toNumber(args.CUT_LOW)%20*%20120%2C%0D%0A%20%20%20%20%20%20%20%20low_band_gain%3A%20Cast.toNumber(args.LOW)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20mid_band_gain%3A%20Cast.toNumber(args.MID)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20high_band_gain%3A%20Cast.toNumber(args.HIGH)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(equalizer%2C%20sound%2C%20%22EQUALIZER%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%2F%2F%20PenguinMod%20Storage%0D%0A%20%20%20%20serialize()%20%7B%0D%0A%20%20%20%20%20%20if%20(settings.canSave)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20convertedBank%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20Object.entries(soundBank).forEach((item)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20soundData%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20Object.entries(item%5B1%5D).forEach((data)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(data%5B0%5D%20!%3D%3D%20%22context%22)%20soundData%5Bdata%5B0%5D%5D%20%3D%20data%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20convertedBank%5Bitem%5B0%5D%5D%20%3D%20soundData%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20SPtuneShark3%3A%20%7B%20bank%3A%20convertedBank%2C%20settings%20%7D%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20deserialize(data)%20%7B%0D%0A%20%20%20%20%20%20this.loadStorage(data.SPtuneShark3)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20save2Project(args)%20%7B%0D%0A%20%20%20%20%20%20settings.canSave%20%3D%20args.SAVE%20%3D%3D%3D%20%22save%22%3B%0D%0A%20%20%20%20%20%20if%20(!Scratch.extensions.isPenguinMod)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.canSave)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20convertedBank%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20Object.entries(soundBank).forEach((item)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20soundData%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.entries(item%5B1%5D).forEach((data)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(data%5B0%5D%20!%3D%3D%20%22context%22)%20soundData%5Bdata%5B0%5D%5D%20%3D%20data%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20convertedBank%5Bitem%5B0%5D%5D%20%3D%20soundData%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPtuneShark3%22%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bank%3A%20convertedBank%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20settings%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPtuneShark3%22%5D%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20async%20convertSound(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME1%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20response%20%3D%20await%20Scratch.fetch(sound.src)%3B%0D%0A%20%20%20%20%20%20%20%20const%20audioBlob%20%3D%20await%20response.blob()%3B%0D%0A%20%20%20%20%20%20%20%20const%20audioDataURL%20%3D%20await%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20reader.onloadend%20%3D%20()%20%3D%3E%20resolve(reader.result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20reader.readAsDataURL(audioBlob)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20await%20this.importURL(%7B%20NAME%3A%20args.NAME2%2C%20URL%3A%20audioDataURL%20%7D%2C%20util)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(e)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setThing(args)%20%7B%20this.setThingNew(args)%20%7D%0D%0A%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20SPtuneShark3())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Animations%0A%2F%2F%20ID%3A%20SPanimations%0A%2F%2F%20Description%3A%20Play%20Animations%20for%20your%20Sprites%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.2.0.11%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Animations%20must%20run%20unsandboxed%22)%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%20%20const%20specialID%20%3D%20%60SPspecialID%24%7BMath.random()%7D%60%3B%0A%20%20const%20playTypes%20%3D%20%7B%0A%20%20%20%20%22normally%22%3A%201%2C%0A%20%20%20%20%22in%20reverse%22%3A%202%2C%0A%20%20%20%20%22looped%20normally%22%3A%203%2C%0A%20%20%20%20%22looped%20reversed%22%3A%204%0A%20%20%7D%3B%0A%0A%20%20let%20allAnimations%20%3D%20%7B%7D%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjcuNTEiIGhlaWdodD0iMTI3LjUxIiB2aWV3Qm94PSIwIDAgMTI3LjUxIDEyNy41MSI%2BPHBhdGggZD0iTTAgNjMuNzU1QzAgMjguNTQ1IDI4LjU0NCAwIDYzLjc1NSAwczYzLjc1NSAyOC41NDQgNjMuNzU1IDYzLjc1NS0yOC41NDQgNjMuNzU1LTYzLjc1NSA2My43NTVTMCA5OC45NjYgMCA2My43NTUiIGZpbGw9IiM0NDQiLz48cGF0aCBkPSJNNS44NzUgNjMuNzU1YzAtMzEuOTY3IDI1LjkxMy01Ny44OCA1Ny44OC01Ny44OHM1Ny44OCAyNS45MTMgNTcuODggNTcuODgtMjUuOTEzIDU3Ljg4LTU3Ljg4IDU3Ljg4LTU3Ljg4LTI1LjkxMy01Ny44OC01Ny44OCIgZmlsbD0iIzdhN2E3YSIvPjxwYXRoIGQ9Ik0yMy42OTUgOTAuNTNjLTUuNjEzLTguMTI1LTMuNTc2LTE5LjI2MiA0LjU0OC0yNC44NzVzMTkuMjYyLTMuNTc2IDI0Ljg3NSA0LjU0OSAzLjU3NiAxOS4yNjEtNC41NDkgMjQuODc0LTE5LjI2MSAzLjU3Ni0yNC44NzQtNC41NDh6IiBmaWxsPSIjODk4OTg5IiBzdHJva2U9IiM3YTdhN2EiIHN0cm9rZS13aWR0aD0iMi41Ii8%2BPHBhdGggZD0iTTI4LjExIDgwLjM0NGMtNi4zMy05LjE2NC00LjAzNC0yMS43MjUgNS4xMy0yOC4wNTZzMjEuNzI1LTQuMDMzIDI4LjA1NiA1LjEzIDQuMDMzIDIxLjcyNS01LjEzIDI4LjA1Ni0yMS43MjUgNC4wMzQtMjguMDU2LTUuMTN6IiBmaWxsPSIjOWQ5ZDlkIiBzdHJva2U9IiM3YTdhN2EiIHN0cm9rZS13aWR0aD0iMi41Ii8%2BPHBhdGggZD0iTTM2LjE0NSA3My4zMjhjLTcuNDE2LTEwLjczNi00LjcyNS0yNS40NSA2LjAxLTMyLjg2NnMyNS40NS00LjcyNiAzMi44NjYgNi4wMWM3LjQxNiAxMC43MzUgNC43MjUgMjUuNDUtNi4wMSAzMi44NjVzLTI1LjQ1IDQuNzI2LTMyLjg2Ni02LjAxeiIgZmlsbD0iI2FlYWVhZSIgc3Ryb2tlPSIjN2E3YTdhIiBzdHJva2Utd2lkdGg9IjIuNSIvPjxwYXRoIGQ9Ik00Ny4zMTEgNjkuNTMxYy04LjAzNC0xMS42My01LjEyLTI3LjU3IDYuNTEtMzUuNjA1czI3LjU3LTUuMTE5IDM1LjYwNSA2LjUxYzguMDM0IDExLjYzIDUuMTIgMjcuNTcxLTYuNTEgMzUuNjA1LTExLjYzIDguMDM1LTI3LjU3MSA1LjEyLTM1LjYwNS02LjUxeiIgZmlsbD0iI2JhYmFiYSIgc3Ryb2tlPSIjN2E3YTdhIiBzdHJva2Utd2lkdGg9IjIuNSIvPjxwYXRoIGQ9Ik01NS43MTggNzMuMzc1Yy04LjgyOS0xMi43OC01LjYyNi0zMC4yOTggNy4xNTQtMzkuMTI2IDEyLjc4LTguODI5IDMwLjI5OC01LjYyNiAzOS4xMjYgNy4xNTQgOC44MjkgMTIuNzggNS42MjYgMzAuMjk3LTcuMTU0IDM5LjEyNnMtMzAuMjk3IDUuNjI2LTM5LjEyNi03LjE1NCIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%22%3B%0A%20%20const%20blockIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NS4zMzIiIGhlaWdodD0iODUuMzMyIiB2aWV3Qm94PSIwIDAgODUuMzMyIDg1LjMzMiI%2BPHBhdGggZD0iTTU0Ljk3IDI1LjM2MmE1IDUgMCAwIDEgNSA1djQwLjQ2YTUgNSAwIDAgMS01IDVIMTQuNTFhNSA1IDAgMCAxLTUtNXYtNDAuNDZhNSA1IDAgMCAxIDUtNXoiIGZpbGw9IiM5MjkyOTIiLz48cGF0aCBkPSJNNjIuODk2IDE3LjQzNmE1IDUgMCAwIDEgNSA1djQwLjQ2YTUgNSAwIDAgMS01IDVoLTQwLjQ2YTUgNSAwIDAgMS01LTV2LTQwLjQ2YTUgNSAwIDAgMSA1LTV6IiBmaWxsPSJzaWx2ZXIiLz48cGF0aCBkPSJNNzAuODIxIDkuNTExYTUgNSAwIDAgMSA1IDV2NDAuNDZhNSA1IDAgMCAxLTUgNWgtNDAuNDZhNSA1IDAgMCAxLTUtNXYtNDAuNDZhNSA1IDAgMCAxIDUtNXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4%3D%22%3B%0A%0A%20%20const%20playIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NS4zMzIiIGhlaWdodD0iODUuMzMyIiB2aWV3Qm94PSIwIDAgODUuMzMyIDg1LjMzMiI%2BPHBhdGggZD0ibTI3LjQzMSAxNi4yMjcgMzguMzA4IDIyLjExOGM0LjUyMiAyLjYxIDQuNTgyIDYuMDczLjE0MyA4LjYzNmwtMzcuNzc1IDIxLjgxYy0yLjc2NCAxLjU5Ni01LjYwNi43My01LjYwNi0zLjE5N1YyMC40MTljMC0zLjQyNyAyLjQ1NS01LjYyIDQuOTMtNC4xOTIiIGZpbGw9IiNmZmYiLz48L3N2Zz4%3D%22%3B%0A%20%20const%20keyIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NS4zMzIiIGhlaWdodD0iODUuMzMyIiB2aWV3Qm94PSIwIDAgODUuMzMyIDg1LjMzMiI%2BPHBhdGggZD0iTTguNzE4IDI1LjIzYzAtNi45MyA1LjYxOS0xMi41NDkgMTIuNTUtMTIuNTQ5IDYuOTMgMCAxMi41NDggNS42MTggMTIuNTQ4IDEyLjU0OXMtNS42MTggMTIuNTQ5LTEyLjU0OSAxMi41NDlTOC43MTggMzIuMTYgOC43MTggMjUuMjI5bTMyLjIzMSAyOS41ODljMC05Ljg0OCA3Ljk4NC0xNy44MzIgMTcuODMyLTE3LjgzMnMxNy44MzMgNy45ODQgMTcuODMzIDE3LjgzMmMwIDkuODUtNy45ODQgMTcuODMzLTE3LjgzMyAxNy44MzNzLTE3LjgzMi03Ljk4NC0xNy44MzItMTcuODMzIiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0ibTIzLjgwNyAyNi45ODUgMzAuMzgxIDI1LjYyNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20function%20doForEachAnimation(func)%20%7B%0A%20%20%20%20const%20targets%20%3D%20Object.values(allAnimations)%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20targets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20targetCache%20%3D%20targets%5Bi%5D%3B%0A%20%20%20%20%20%20const%20targAnims%20%3D%20Object.values(targetCache)%3B%0A%20%20%20%20%20%20for%20(let%20j%20%3D%200%3B%20j%20%3C%20targAnims.length%3B%20j%2B%2B)%20func(targAnims%5Bj%5D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20class%20SPanimations%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20doForEachAnimation((anim)%20%3D%3E%20%7B%20anim.playing%20%3D%20false%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20doForEachAnimation((anim)%20%3D%3E%20%7B%20anim.playing%20%3D%20false%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20runtime.on(%22AFTER_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(runtime.ioDevices.clock._paused)%20return%3B%0A%20%20%20%20%20%20%20%20doForEachAnimation((anim)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(anim.playing)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isReverse%20%3D%20anim.playType%20%3D%3D%3D%202%20%7C%7C%20anim.playType%20%3D%3D%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20anim.timer%20%2B%3D%200.01%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(anim.timer%20%3E%20anim.buffer)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20anim.buffer%20%2B%3D%20anim.fps%20%2F%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isReverse)%20anim.currentFrame--%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20anim.currentFrame%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20anim.normalCurrentFrame%20%3D%20anim.currentFrame%20%2B%201%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20determine%20if%20this%20frame%20is%20a%20keyframe%2Fcostume%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20thisFrame%20%3D%20anim.frames%5Banim.currentFrame%5D%20%3F%3F%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(thisFrame.startsWith(specialID))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20keyframe%20%3D%20anim.specialFrames%5BthisFrame%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(keyframe.type%20%3D%3D%3D%20%22pause%22)%20anim.buffer%20%2B%3D%20keyframe.secs%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20this.keyframeUpdate(keyframe%2C%20anim%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(thisFrame)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20index%20%3D%20anim.target.getCostumeIndexByName(thisFrame)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(index%20%3E%20-1)%20anim.target.setCostume(index)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20console.warn(%60Animations%20--%20Invalid%20Costume%20(%24%7BthisFrame%7D)%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20complete%20any%20unfinished%20keyframes%0A%20%20%20%20%20%20%20%20%20%20%20%20anim.keyBuffers.forEach((key)%20%3D%3E%20this.keyframeUpdate(key%2C%20anim%2C%20false))%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20frameCnt%20%3D%20anim.frames.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20frameCheck%20%3D%20isReverse%20%3F%20anim.currentFrame%20%3C%3D%200%20%3A%20anim.currentFrame%20%3E%3D%20frameCnt%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(frameCheck%20%26%26%20anim.keyBuffers.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.resetAnimPlayer(anim)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isReverse)%20anim.currentFrame%20%3D%20frameCnt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(anim.playType%20%3C%203)%20anim.playing%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPanimations%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Animations%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%237a7a7a%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23444444%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23232323%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blockIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createAnimation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22make%20new%20animation%20named%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeAnimation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20animation%20named%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeAll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22delete%20all%20animations%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isExists%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22animation%20%5BNAME%5D%20exists%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allAnimationsX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22all%20%5BTYPE%5D%20animations%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22pullTypes%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20%22Frames%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addFrame%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20%5BCOSTUME%5D%20to%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%20type%3A%20Scratch.ArgumentType.COSTUME%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeFrame%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20%5BCOSTUME%5D%20from%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%20type%3A%20Scratch.ArgumentType.COSTUME%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addAllFrames%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20costumes%20from%20%5BCOS1%5D%20to%20%5BCOS2%5D%20to%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COS1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COS2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeAllFrames%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20frames%20%5BCOS1%5D%20to%20%5BCOS2%5D%20from%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COS1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COS2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addPause%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20a%20%5BSECOND%5D%20second%20pause%20to%20%5BNAME%5D%20with%20ID%20%5BID%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SECOND%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%203%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22pause1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removePause%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20pause%20frame%20from%20%5BNAME%5D%20with%20ID%20%5BID%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22pause1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22numFrames%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22number%20of%20frames%20in%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22frameNames%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22all%20frames%20in%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22frameName%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22frame%20%23%20%5BFRAME%5D%20in%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FRAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20%22Playback%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFPS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20FPS%20of%20%5BNAME%5D%20to%20%5BFPS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FPS%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2030%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22playBack%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22play%20animation%20%5BNAME%5D%20%5BTYPE%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22playBack%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22playBackWait%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22play%20animation%20%5BNAME%5D%20%5BTYPE%5D%20until%20done%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22playBack%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopAnimation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22stop%20animation%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22currentFPS%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22FPS%20of%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isPlaying%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22is%20%5BNAME%5D%20playing%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22currentFrame%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22current%20frame%20of%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20playIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20%22Keyframes%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addPosition%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20keyframe%20position%20to%20%5BNAME%5D%20with%20ID%20%5BID%5D%20start%20x%20%5Bx%5D%20y%20%5By%5D%20end%20x%20%5Bx2%5D%20y%20%5By2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20keyIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22key1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20keyframe%20direction%20to%20%5BNAME%5D%20with%20ID%20%5BID%5D%20start%20%5BDIR1%5D%20end%20%5BDIR2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20keyIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22key1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIR1%3A%20%7B%20type%3A%20Scratch.ArgumentType.ANGLE%2C%20defaultValue%3A%2090%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIR2%3A%20%7B%20type%3A%20Scratch.ArgumentType.ANGLE%2C%20defaultValue%3A%200%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addScale%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20keyframe%20scale%20to%20%5BNAME%5D%20with%20ID%20%5BID%5D%20start%20%5Bscale%5D%25%20end%20%5Bscale2%5D%25%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20keyIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22key1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20150%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addStretch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22add%20keyframe%20stretch%20to%20%5BNAME%5D%20with%20ID%20%5BID%5D%20start%20width%20%5Bx%5D%20height%20%5By%5D%20end%20width%20%5Bx2%5D%20height%20%5By2%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20keyIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22key1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteKeyframe%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22remove%20keyframe%20with%20ID%20%5BID%5D%20from%20%5BNAME%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20keyIconURI%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22animation-1%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22key1%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20playBack%3A%20Object.keys(playTypes)%2C%0A%20%20%20%20%20%20%20%20%20%20pullTypes%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%5B%22existing%22%2C%20%22playing%22%5D%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getAnim(name%2C%20util%2C%20forAll)%20%7B%0A%20%20%20%20%20%20if%20(forAll)%20%7B%0A%20%20%20%20%20%20%20%20let%20animSearch%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20doForEachAnimation((anim)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(anim.name%20%3D%3D%3D%20name)%20animSearch%20%3D%20anim%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20return%20animSearch%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0A%20%20%20%20%20%20let%20anim%20%3D%20allAnimations%5Btarget.id%5D%3F.%5Bname%5D%3B%0A%20%20%20%20%20%20if%20(anim)%20return%20anim%3B%0A%20%20%20%20%20%20else%20if%20(!target.isOriginal)%20%7B%0A%20%20%20%20%20%20%20%20anim%20%3D%20allAnimations%5Btarget.sprite.clones%5B0%5D.id%5D%3F.%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20if%20(anim)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(allAnimations%5Btarget.id%5D%20%3D%3D%3D%20undefined)%20allAnimations%5Btarget.id%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20cloneCopy%20%3D%20%7B%20...anim%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20cloneCopy.target%20%3D%20target%3B%0A%20%0A%20%20%20%20%20%20%20%20%20%20allAnimations%5Btarget.id%5D%5Bname%5D%20%3D%20cloneCopy%3B%0A%20%20%20%20%20%20%20%20%20%20return%20cloneCopy%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.createAnimation(%7B%20NAME%3A%20name%2C%20SECRET%3A%20true%20%7D%2C%20util)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20resetAnimPlayer(anim)%20%7B%0A%20%20%20%20%20%20anim.buffer%20%3D%20anim.fps%20%2F%201000%3B%0A%20%20%20%20%20%20anim.timer%20%3D%200%3B%0A%20%20%20%20%20%20anim.currentFrame%20%3D%20-1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20keyframeUpdate(data%2C%20anim%2C%20init)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20anim.target%3B%0A%20%20%20%20%20%20let%20%7B%20type%2C%20start%2C%20end%2C%20x1%2C%20x2%2C%20y1%2C%20y2%20%7D%20%3D%20data%3B%0A%20%20%20%20%20%20if%20(data.startStamp%20%3D%3D%3D%20undefined)%20data.startStamp%20%3D%20Date.now()%3B%0A%20%20%20%20%20%20const%20elapsedTime%20%3D%20Date.now()%20-%20data.startStamp%3B%0A%20%20%20%20%20%20const%20progress%20%3D%20Math.min(elapsedTime%20%2F%20(anim.fps%20*%2020)%2C%201)%3B%0A%20%20%20%20%20%20let%20delta1%2C%20delta2%3B%0A%20%20%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22pos%22%3A%0A%20%20%20%20%20%20%20%20%20%20delta1%20%3D%20x2%20-%20x1%3B%0A%20%20%20%20%20%20%20%20%20%20delta2%20%3D%20y2%20-%20y1%3B%0A%20%20%20%20%20%20%20%20%20%20target.setXY(x1%20%2B%20delta1%20*%20progress%2C%20y1%20%2B%20delta2%20*%20progress)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22dir%22%3A%0A%20%20%20%20%20%20%20%20%20%20delta1%20%3D%20end%20-%20start%3B%0A%20%20%20%20%20%20%20%20%20%20target.setDirection(start%20%2B%20delta1%20*%20progress)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22size%22%3A%0A%20%20%20%20%20%20%20%20%20%20delta1%20%3D%20end%20-%20start%3B%0A%20%20%20%20%20%20%20%20%20%20target.setSize(start%20%2B%20delta1%20*%20progress)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22stretch%22%3A%0A%20%20%20%20%20%20%20%20%20%20delta1%20%3D%20x2%20-%20x1%3B%0A%20%20%20%20%20%20%20%20%20%20delta2%20%3D%20y2%20-%20y1%3B%0A%20%20%20%20%20%20%20%20%20%20render._allDrawables%5Btarget.drawableID%5D.updateScale(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20x1%20%2B%20delta1%20*%20progress%2C%20y1%20%2B%20delta2%20*%20progress%0A%20%20%20%20%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(progress%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20delete%20data.startStamp%3B%0A%20%20%20%20%20%20%20%20anim.keyBuffers.splice(anim.keyBuffers.indexOf(data)%2C%201)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(init)%20anim.keyBuffers.push(data)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20createAnimation(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20const%20id%20%3D%20util.target.id%3B%0A%20%20%20%20%20%20if%20(allAnimations%5Bid%5D%20%3D%3D%3D%20undefined)%20allAnimations%5Bid%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20%7B%0A%20%20%20%20%20%20%20%20name%2C%20buffer%3A%200%2C%20timer%3A%200%2C%0A%20%20%20%20%20%20%20%20playing%3A%20false%2C%20playType%3A%200%2C%0A%20%20%20%20%20%20%20%20fps%3A%2010%2C%20target%3A%20util.target%2C%0A%20%20%20%20%20%20%20%20frames%3A%20%5B%5D%2C%20specialFrames%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20keyBuffers%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20currentFrame%3A%20-1%2C%20normalCurrentFrame%3A%200%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20allAnimations%5Bid%5D%5Bname%5D%20%3D%20obj%3B%0A%20%20%20%20%20%20if%20(args.SECRET)%20return%20obj%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeAnimation(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.NAME)%3B%0A%20%20%20%20%20%20if%20(this.isExists(args%2C%20util))%20delete%20allAnimations%5Butil.target.id%5D%5Bname%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeAll()%20%7B%20allAnimations%20%3D%20%7B%7D%20%7D%0A%0A%20%20%20%20isExists(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20Scratch.Cast.toBoolean(this.getAnim(args.NAME%2C%20%22%22%2C%20true))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addFrame(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(Scratch.Cast.toString(args.COSTUME))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeFrame(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20const%20ind%20%3D%20anim.frames.indexOf(Scratch.Cast.toString(args.COSTUME))%3B%0A%20%20%20%20%20%20if%20(ind%20%3E%20-1)%20anim.frames.splice(ind%2C%201)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addAllFrames(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20costumes%20%3D%20util.target.getCostumes()%3B%0A%20%20%20%20%20%20const%20start%20%3D%20Math.min(costumes.length%2C%20Math.max(1%2C%20Math.round(Scratch.Cast.toNumber(args.COS1))))%3B%0A%20%20%20%20%20%20const%20end%20%3D%20Math.min(costumes.length%2C%20Math.max(start%2C%20Math.round(Scratch.Cast.toNumber(args.COS2))))%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%20start%20-%201%3B%20i%20%3C%20end%3B%20i%2B%2B)%20anim.frames.push(costumes%5Bi%5D.name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeAllFrames(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20costumes%20%3D%20util.target.getCostumes()%3B%0A%20%20%20%20%20%20const%20start%20%3D%20Math.min(costumes.length%2C%20Math.max(1%2C%20Math.round(Scratch.Cast.toNumber(args.COS1))))%3B%0A%20%20%20%20%20%20const%20end%20%3D%20Math.min(costumes.length%2C%20Math.max(start%2C%20Math.round(Scratch.Cast.toNumber(args.COS2))))%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.splice(start%20-%201%2C%20end%20-%20(start%20-%201))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addPause(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20%60%24%7BspecialID%7Dpause-%24%7BScratch.Cast.toString(args.ID)%7D%60%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(id)%3B%0A%20%20%20%20%20%20anim.specialFrames%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22pause%22%2C%0A%20%20%20%20%20%20%20%20secs%3A%20Scratch.Cast.toNumber(args.SECOND)%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removePause(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.deleteKeyframe(args%2C%20util)%3B%20%2F%2F%20works%20the%20same%20way%0A%20%20%20%20%7D%0A%0A%20%20%20%20numFrames(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20anim.frames.length%20%3A%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20frameNames(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20if%20(!anim)%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20const%20rawFrames%20%3D%20structuredClone(anim.frames)%3B%0A%20%20%20%20%20%20rawFrames.forEach((frame%2C%20i)%20%3D%3E%20%7B%20rawFrames%5Bi%5D%20%3D%20frame.replace(specialID%2C%20%22%22)%20%7D)%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20JSON.stringify(rawFrames)%20%3A%20%22%5B%5D%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20frameName(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20const%20ind%20%3D%20Scratch.Cast.toNumber(args.FRAME)%20-%201%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20anim.frames%5Bind%5D.replace(specialID%2C%20%22%22)%20%3F%3F%20%22%22%20%3A%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20allAnimationsX(args)%20%7B%0A%20%20%20%20%20%20let%20array%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22existing%22)%20doForEachAnimation((anim)%20%3D%3E%20%7B%20array.push(anim.name)%20%7D)%3B%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20doForEachAnimation((anim)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(anim.playing)%20array.push(anim.name)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20JSON.stringify(array)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFPS(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.fps%20%3D%20Scratch.Cast.toNumber(args.FPS)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20playBack(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20this.resetAnimPlayer(anim)%3B%0A%20%20%20%20%20%20anim.playType%20%3D%20playTypes%5Bargs.TYPE%5D%20%3F%3F%201%3B%0A%20%20%20%20%20%20if%20(anim.playType%20%3D%3D%3D%202%20%7C%7C%20anim.playType%20%3D%3D%3D%204)%20anim.currentFrame%20%3D%20anim.frames.length%3B%0A%20%20%20%20%20%20anim.playing%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20playBackWait(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20if%20(util.stackFrame.executed%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20this.resetAnimPlayer(anim)%3B%0A%20%20%20%20%20%20%20%20anim.playType%20%3D%20playTypes%5Bargs.TYPE%5D%20%3F%3F%201%3B%0A%20%20%20%20%20%20%20%20if%20(anim.playType%20%3D%3D%3D%202%20%7C%7C%20anim.playType%20%3D%3D%3D%204)%20anim.currentFrame%20%3D%20anim.frames.length%3B%0A%20%20%20%20%20%20%20%20anim.playing%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20util.stackFrame.executed%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20util.yield()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(anim.playing)%20util.yield()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20stopAnimation(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.playing%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20currentFPS(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20anim.fps%20%3A%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20isPlaying(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20anim.playing%20%3A%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20currentFrame(args)%20%7B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20return%20anim%20%3F%20anim.normalCurrentFrame%20%3A%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addPosition(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20%60%24%7BspecialID%7Dpos-%24%7BScratch.Cast.toString(args.ID)%7D%60%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(id)%3B%0A%20%20%20%20%20%20anim.specialFrames%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22pos%22%2C%0A%20%20%20%20%20%20%20%20x1%3A%20Scratch.Cast.toNumber(args.x)%2C%20x2%3A%20Scratch.Cast.toNumber(args.x2)%2C%0A%20%20%20%20%20%20%20%20y1%3A%20Scratch.Cast.toNumber(args.y)%2C%20y2%3A%20Scratch.Cast.toNumber(args.y2)%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addDirection(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20%60%24%7BspecialID%7Ddir-%24%7BScratch.Cast.toString(args.ID)%7D%60%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(id)%3B%0A%20%20%20%20%20%20anim.specialFrames%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22dir%22%2C%0A%20%20%20%20%20%20%20%20start%3A%20Scratch.Cast.toNumber(args.DIR1)%2C%0A%20%20%20%20%20%20%20%20end%3A%20Scratch.Cast.toNumber(args.DIR2)%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addScale(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20%60%24%7BspecialID%7Dsize-%24%7BScratch.Cast.toString(args.ID)%7D%60%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(id)%3B%0A%20%20%20%20%20%20anim.specialFrames%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22size%22%2C%0A%20%20%20%20%20%20%20%20start%3A%20Scratch.Cast.toNumber(args.scale)%2C%0A%20%20%20%20%20%20%20%20end%3A%20Scratch.Cast.toNumber(args.scale2)%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20addStretch(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20%60%24%7BspecialID%7Dstretch-%24%7BScratch.Cast.toString(args.ID)%7D%60%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20anim.frames.push(id)%3B%0A%20%20%20%20%20%20anim.specialFrames%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22stretch%22%2C%0A%20%20%20%20%20%20%20%20x1%3A%20Scratch.Cast.toNumber(args.x)%2C%20x2%3A%20Scratch.Cast.toNumber(args.x2)%2C%0A%20%20%20%20%20%20%20%20y1%3A%20Scratch.Cast.toNumber(args.y)%2C%20y2%3A%20Scratch.Cast.toNumber(args.y2)%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteKeyframe(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Scratch.Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20anim%20%3D%20this.getAnim(args.NAME%2C%20util)%3B%0A%20%20%20%20%20%20const%20specialFrames%20%3D%20anim.frames.filter((frame)%20%3D%3E%20%7B%20return%20frame.startsWith(specialID)%20%7D)%3B%0A%20%20%20%20%20%20const%20frame%20%3D%20specialFrames.find((frame)%20%3D%3E%20%7B%20return%20frame.endsWith(id)%20%7D)%3B%0A%20%20%20%20%20%20if%20(frame%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20anim.frames.splice(anim.frames.indexOf(frame)%2C%201)%3B%0A%20%20%20%20%20%20%20%20delete%20anim.specialFrames%5Bframe%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20SPanimations())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20HTTP%0A%2F%2F%20ID%3A%20gsaHTTPRequests%0A%2F%2F%20Description%3A%20Comprehensive%20extension%20for%20interacting%20with%20external%20websites.%0A%2F%2F%20By%3A%20RedMan13%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FRedMan13%2F%3E%0A%2F%2F%20License%3A%20MIT%0A%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22fi%22%3A%7B%22_Hide%20Extra%22%3A%22Piilota%20lis%C3%A4lohkot%22%2C%22_Request%22%3A%22Pyynt%C3%B6%22%2C%22_Response%22%3A%22Vastaus%22%2C%22_Show%20Extra%22%3A%22N%C3%A4yt%C3%A4%20lis%C3%A4lohkot%22%2C%22_%5Bname%5D%20from%20header%22%3A%22%5Bname%5D%20otsakkeesta%22%2C%22_%5Bname%5D%20in%20multipart%20form%22%3A%22%5Bname%5D%20moniosaisessa%20lomakkeessa%22%2C%22_%5Bpath%5D%20in%20request%20options%22%3A%22pyynt%C3%B6asetusten%20%5Bpath%5D%22%2C%22_clear%20current%20data%22%3A%22tyhjenn%C3%A4%20nykyiset%20tiedot%22%2C%22_error%22%3A%22virhe%22%2C%22_headers%20as%20json%22%3A%22otsakkeet%20JSON-muodossa%22%2C%22_in%20header%20set%20%5Bname%5D%20to%20%5Bvalue%5D%22%3A%22aseta%20otsakkeen%20%5Bname%5D%20arvoon%20%5Bvalue%5D%22%2C%22_request%20failed%3F%22%3A%22ep%C3%A4onnistuiko%20pyynt%C3%B6%3F%22%2C%22_request%20succeeded%3F%22%3A%22onnistuiko%20pyynt%C3%B6%3F%22%2C%22_response%22%3A%22vastaus%22%2C%22_send%20request%20to%20%5Burl%5D%22%3A%22l%C3%A4het%C3%A4%20pyynt%C3%B6%20osoitteeseen%20%5Burl%5D%22%2C%22_set%20%5Bname%5D%20to%20%5Bvalue%5D%20in%20multipart%20form%22%3A%22aseta%20moniosaisen%20lomakkeen%20%5Bname%5D%20arvoon%20%5Bvalue%5D%22%2C%22_set%20%5Bpath%5D%20to%20%5Bvalue%5D%20in%20request%20options%22%3A%22aseta%20pyynt%C3%B6asetusten%20%5Bpath%5D%20arvoon%20%5Bvalue%5D%22%2C%22_set%20%5Bpath%5D%20to%20type%20%5Btype%5D%20in%20request%20options%22%3A%22aseta%20pyynt%C3%B6asetusten%20kohteen%20%5Bpath%5D%20tyypiksi%20%5Btype%5D%22%2C%22_set%20content%20type%20to%20%5Btype%5D%22%3A%22aseta%20sis%C3%A4ll%C3%B6n%20tyypiksi%20%5Btype%5D%22%2C%22_set%20headers%20to%20json%20%5Bjson%5D%22%3A%22aseta%20otsakkeet%20JSON-koodiksi%20%5Bjson%5D%22%2C%22_set%20request%20body%20to%20%5Btext%5D%22%3A%22aseta%20pyynn%C3%B6n%20rungoksi%20%5Btext%5D%22%2C%22_set%20request%20body%20to%20multipart%20form%22%3A%22aseta%20pyynn%C3%B6n%20runko%20moniosaiseksi%20lomakkeeksi%22%2C%22_set%20request%20method%20to%20%5Bmethod%5D%22%3A%22aseta%20pyynt%C3%B6menetelm%C3%A4ksi%20%5Bmethod%5D%22%2C%22_site%20responded%3F%22%3A%22vastasiko%20sivusto%3F%22%2C%22_status%22%3A%22tila%22%2C%22_status%20text%22%3A%22tilateksti%22%2C%22_type%20of%20%5Bpath%5D%20in%20request%20options%22%3A%22pyynt%C3%B6asetusten%20kohteen%20%5Bpath%5D%20tyyppi%22%2C%22_when%20a%20request%20fails%22%3A%22kun%20pyynt%C3%B6%20ep%C3%A4onnistuu%22%2C%22_when%20a%20site%20responds%22%3A%22kun%20sivusto%20vastaa%22%7D%2C%22it%22%3A%7B%22_%5Bname%5D%20in%20multipart%20form%22%3A%22%5Bname%5D%20nel%20multipart%20form%22%2C%22_delete%20%5Bname%5D%20from%20multipart%20form%22%3A%22rimuovi%20%5Bname%5D%20dal%20multipart%20form%22%2C%22_set%20%5Bname%5D%20to%20%5Bvalue%5D%20in%20multipart%20form%22%3A%22porta%20%5Bname%5D%20a%20%5Bvalue%5D%20nel%20multipart%20form%22%2C%22_set%20request%20body%20to%20multipart%20form%22%3A%22porta%20request%20body%20a%20multipart%20form%22%2C%22_status%22%3A%22stato%22%7D%2C%22ja%22%3A%7B%22_Request%22%3A%22%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%22%2C%22_Response%22%3A%22%E8%BF%94%E7%AD%94%22%2C%22_clear%20current%20data%22%3A%22%E7%8F%BE%E5%9C%A8%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%AF%E3%83%AA%E3%82%A2%E3%81%99%E3%82%8B%22%2C%22_error%22%3A%22%E3%82%A8%E3%83%A9%E3%83%BC%22%2C%22_headers%20as%20json%22%3A%22%E3%83%98%E3%83%83%E3%83%80%E3%83%BC%E3%82%92JSON%E3%81%AB%E3%81%97%E3%81%A6%22%2C%22_request%20failed%3F%22%3A%22%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%22%2C%22_request%20succeeded%3F%22%3A%22%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AB%E6%88%90%E5%8A%9F%E3%81%97%E3%81%9F%22%2C%22_response%22%3A%22%E8%BF%94%E7%AD%94%22%2C%22_send%20request%20to%20%5Burl%5D%22%3A%22%5Burl%5D%E3%81%AB%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E9%80%81%E3%82%8B%22%2C%22_set%20content%20type%20to%20%5Btype%5D%22%3A%22%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%82%BF%E3%82%A4%E3%83%97%E3%82%92%5Btype%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20request%20method%20to%20%5Bmethod%5D%22%3A%22%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E6%96%B9%E6%B3%95%E3%82%92%5Bmethod%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_site%20responded%3F%22%3A%22%E3%82%B5%E3%82%A4%E3%83%88%E3%81%8C%E5%8F%8D%E5%BF%9C%E3%81%97%E3%81%9F%22%2C%22_status%22%3A%22%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%22%2C%22_status%20text%22%3A%22%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%22%2C%22_when%20a%20request%20fails%22%3A%22%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D%22%2C%22_when%20a%20site%20responds%22%3A%22%E3%82%B5%E3%82%A4%E3%83%88%E3%81%8C%E5%8F%8D%E5%BF%9C%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D%22%7D%2C%22ko%22%3A%7B%22_Hide%20Extra%22%3A%22%EB%82%98%EB%A8%B8%EC%A7%80%20%EC%88%A8%EA%B8%B0%EA%B8%B0%22%2C%22_Request%22%3A%22%EC%9A%94%EC%B2%AD%22%2C%22_Response%22%3A%22%EC%9D%91%EB%8B%B5%22%2C%22_Show%20Extra%22%3A%22%EB%82%98%EB%A8%B8%EC%A7%80%20%EB%B3%B4%EC%9D%B4%EA%B8%B0%22%2C%22_%5Bname%5D%20from%20header%22%3A%22%ED%97%A4%EB%8D%94%EC%9D%98%20%5Bname%5D%22%2C%22_%5Bpath%5D%20in%20request%20options%22%3A%22%EC%9A%94%EC%B2%AD%20options%EC%9D%98%20%5Bpath%5D%22%2C%22_clear%20current%20data%22%3A%22%ED%98%84%EC%9E%AC%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A7%80%EC%9A%B0%EA%B8%B0%22%2C%22_error%22%3A%22%EC%98%A4%EB%A5%98%22%2C%22_headers%20as%20json%22%3A%22%ED%97%A4%EB%8D%94%20json%22%2C%22_in%20header%20set%20%5Bname%5D%20to%20%5Bvalue%5D%22%3A%22%ED%97%A4%EB%8D%94%EC%9D%98%20%5Bname%5D%EC%9D%84(%EB%A5%BC)%20%5Bvalue%5D(%EC%9C%BC)%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_request%20failed%3F%22%3A%22%EC%9A%94%EC%B2%AD%EC%9D%B4%20%EC%8B%A4%ED%8C%A8%ED%96%88%EB%8A%94%EA%B0%80%3F%22%2C%22_request%20succeeded%3F%22%3A%22%EC%9A%94%EC%B2%AD%EC%9D%B4%20%EC%84%B1%EA%B3%B5%ED%96%88%EB%8A%94%EA%B0%80%3F%22%2C%22_response%22%3A%22%EC%9D%91%EB%8B%B5%22%2C%22_send%20request%20to%20%5Burl%5D%22%3A%22%5Burl%5D(%EC%9C%BC)%EB%A1%9C%20%EC%9A%94%EC%B2%AD%20%EB%B3%B4%EB%82%B4%EA%B8%B0%20%20%22%2C%22_set%20%5Bpath%5D%20to%20%5Bvalue%5D%20in%20request%20options%22%3A%22%EC%9A%94%EC%B2%AD%20options%EC%9D%98%20%5Bpath%5D%EC%9D%84(%EB%A5%BC)%20%5Bvalue%5D(%EC%9C%BC)%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_set%20%5Bpath%5D%20to%20type%20%5Btype%5D%20in%20request%20options%22%3A%22%EC%9A%94%EC%B2%AD%20options%EC%9D%98%20%5Bpath%5D%EC%9D%84(%EB%A5%BC)%20%5Btype%5D%ED%83%80%EC%9E%85%EC%9C%BC%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_set%20content%20type%20to%20%5Btype%5D%22%3A%22content%20type%EC%9D%84%20%5Btype%5D(%EC%9C%BC)%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_set%20headers%20to%20json%20%5Bjson%5D%22%3A%22%ED%97%A4%EB%8D%94%EB%A5%BC%20%5Bjson%5D%EC%9D%B8%20json%EC%9C%BC%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_set%20request%20body%20to%20%5Btext%5D%22%3A%22%EC%9A%94%EC%B2%AD%20body%EB%A5%BC%20%5Btext%5D(%EC%9C%BC)%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_set%20request%20method%20to%20%5Bmethod%5D%22%3A%22%EC%9A%94%EC%B2%AD%20%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC%20%5Bmethod%5D(%EC%9C%BC)%EB%A1%9C%20%EC%A0%95%ED%95%98%EA%B8%B0%22%2C%22_site%20responded%3F%22%3A%22%EC%82%AC%EC%9D%B4%ED%8A%B8%EA%B0%80%20%EC%9D%91%EB%8B%B5%ED%96%88%EB%8A%94%EA%B0%80%3F%22%2C%22_status%22%3A%22%EC%83%81%ED%83%9C%22%2C%22_status%20text%22%3A%22%EC%83%81%ED%83%9C%20%EB%A9%94%EC%8B%9C%EC%A7%80%22%2C%22_type%20of%20%5Bpath%5D%20in%20request%20options%22%3A%22%EC%9A%94%EC%B2%AD%20options%EC%9D%98%20%5Bpath%5D%EC%9D%98%20%ED%83%80%EC%9E%85%22%2C%22_when%20a%20request%20fails%22%3A%22%EC%9A%94%EC%B2%AD%EC%9D%B4%20%EC%8B%A4%ED%8C%A8%ED%96%88%EC%9D%84%20%EB%95%8C%22%2C%22_when%20a%20site%20responds%22%3A%22%EC%82%AC%EC%9D%B4%ED%8A%B8%EA%B0%80%20%EC%9D%91%EB%8B%B5%ED%96%88%EC%9D%84%20%EB%95%8C%22%7D%2C%22ru%22%3A%7B%22_Hide%20Extra%22%3A%22%D0%A1%D0%BA%D1%80%D1%8B%D1%82%D1%8C%20%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5%22%2C%22_Request%22%3A%22%D0%97%D0%B0%D0%BF%D1%80%D0%BE%D1%81%22%2C%22_Response%22%3A%22%D0%9E%D1%82%D0%B2%D0%B5%D1%82%22%2C%22_Show%20Extra%22%3A%22%D0%9F%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5%22%2C%22_%5Bname%5D%20from%20header%22%3A%22%5Bname%5D%20%D0%B8%D0%B7%20%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B0%22%2C%22_%5Bname%5D%20in%20multipart%20form%22%3A%22%5Bname%5D%20%D0%B2%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%80%D0%BC%D0%B5%22%2C%22_%5Bpath%5D%20in%20request%20options%22%3A%22%5Bpath%5D%20%D0%B2%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D1%85%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%22%2C%22_clear%20current%20data%22%3A%22%D0%BE%D1%82%D1%87%D0%B8%D1%81%D1%82%D0%B8%D1%82%D1%8C%20%D1%82%D0%B5%D0%BA%D1%83%D1%89%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%22%2C%22_delete%20%5Bname%5D%20from%20multipart%20form%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%5Bname%5D%20%D0%B8%D0%B7%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%80%D0%BC%D1%8B%22%2C%22_error%22%3A%22%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0%22%2C%22_headers%20as%20json%22%3A%22%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8%20%D0%BA%D0%B0%D0%BA%20json%22%2C%22_in%20header%20set%20%5Bname%5D%20to%20%5Bvalue%5D%22%3A%22%D0%B2%20%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B5%20%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%5Bname%5D%20%D0%BD%D0%B0%20%5Bvalue%5D%22%2C%22_request%20failed%3F%22%3A%22%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%20%D0%BF%D1%80%D0%BE%D0%B2%D0%B0%D0%BB%D0%B8%D0%BB%D1%81%D1%8F%3F%22%2C%22_request%20succeeded%3F%22%3A%22%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%20%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%B5%D0%BD%3F%22%2C%22_response%22%3A%22%D0%BE%D1%82%D0%B2%D0%B5%D1%82%22%2C%22_send%20request%20to%20%5Burl%5D%22%3A%22%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%20%D0%BD%D0%B0%20%5Burl%5D%22%2C%22_set%20%5Bname%5D%20to%20%5Bvalue%5D%20in%20multipart%20form%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%5Bname%5D%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%5Bvalue%5D%20%D0%B2%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%80%D0%BC%D0%B5%22%2C%22_set%20%5Bpath%5D%20to%20%5Bvalue%5D%20in%20request%20options%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%5Bpath%5D%20%D0%BD%D0%B0%20%5Bvalue%5D%20%D0%B2%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D1%85%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%22%2C%22_set%20%5Bpath%5D%20to%20type%20%5Btype%5D%20in%20request%20options%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%5Bpath%5D%20%D0%BD%D0%B0%20%D1%82%D0%B8%D0%BF%20%5Btype%5D%20%D0%B2%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D1%85%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%22%2C%22_set%20content%20type%20to%20%5Btype%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%82%D0%B8%D0%BF%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%D0%B0%20%D0%BD%D0%B0%20%5Btype%5D%22%2C%22_set%20headers%20to%20json%20%5Bjson%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8%20%D0%BD%D0%B0%20json%20%5Bjson%5D%22%2C%22_set%20request%20body%20to%20%5Btext%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%82%D0%B5%D0%BB%D0%BE%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%20%D0%BD%D0%B0%20%5Btext%5D%22%2C%22_set%20request%20body%20to%20multipart%20form%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%82%D0%B5%D0%BB%D0%BE%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%20%D0%BD%D0%B0%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D1%87%D0%B0%D1%81%D1%82%D0%BD%D1%83%D1%8E%20%D1%84%D0%BE%D1%80%D0%BC%D1%83%22%2C%22_set%20request%20method%20to%20%5Bmethod%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%20%D0%BD%D0%B0%20%5Bmethod%5D%22%2C%22_site%20responded%3F%22%3A%22%D1%81%D0%B0%D0%B9%D1%82%20%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B8%D0%BB%3F%22%2C%22_status%22%3A%22%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%22%2C%22_status%20text%22%3A%22%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%D0%B0%22%2C%22_type%20of%20%5Bpath%5D%20in%20request%20options%22%3A%22%D1%82%D0%B8%D0%BF%20%5Bpath%5D%20%D0%B2%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D1%85%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0%22%2C%22_when%20a%20request%20fails%22%3A%22%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%20%D0%B7%D0%B0%D0%B2%D0%B0%D0%BB%D0%B8%D0%BB%D1%81%D1%8F%22%2C%22_when%20a%20site%20responds%22%3A%22%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0%20%D1%81%D0%B0%D0%B9%D1%82%20%D0%BE%D1%82%D0%B2%D0%B5%D1%87%D0%B0%D0%B5%D1%82%22%7D%2C%22zh-cn%22%3A%7B%22_Hide%20Extra%22%3A%22%E9%9A%90%E8%97%8F%E6%9B%B4%E5%A4%9A%22%2C%22_Request%22%3A%22%E8%AF%B7%E6%B1%82%22%2C%22_Response%22%3A%22%E5%93%8D%E5%BA%94%22%2C%22_Show%20Extra%22%3A%22%E6%98%BE%E7%A4%BA%E6%9B%B4%E5%A4%9A%22%2C%22_%5Bname%5D%20from%20header%22%3A%22%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%5Bname%5D%22%2C%22_%5Bpath%5D%20in%20request%20options%22%3A%22%E8%AF%B7%E6%B1%82%E9%80%89%E9%A1%B9%E7%9A%84%5Bpath%5D%22%2C%22_clear%20current%20data%22%3A%22%E6%B8%85%E7%A9%BA%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%22%2C%22_error%22%3A%22%E9%94%99%E8%AF%AF%22%2C%22_headers%20as%20json%22%3A%22%E8%AF%B7%E6%B1%82%E5%A4%B4json%22%2C%22_in%20header%20set%20%5Bname%5D%20to%20%5Bvalue%5D%22%3A%22%E5%9C%A8%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%B8%AD%E8%AE%BE%E7%BD%AE%5Bname%5D%E4%B8%BA%5Bvalue%5D%22%2C%22_request%20failed%3F%22%3A%22%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%EF%BC%9F%22%2C%22_request%20succeeded%3F%22%3A%22%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F%EF%BC%9F%22%2C%22_response%22%3A%22%E5%93%8D%E5%BA%94%22%2C%22_send%20request%20to%20%5Burl%5D%22%3A%22%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E7%BB%99%5Burl%5D%22%2C%22_set%20%5Bpath%5D%20to%20%5Bvalue%5D%20in%20request%20options%22%3A%22%E5%B0%86%E8%AF%B7%E6%B1%82%E9%80%89%E9%A1%B9%E4%B8%AD%E7%9A%84%5Bpath%5D%E8%AE%BE%E4%B8%BA%5Bvalue%5D%22%2C%22_set%20%5Bpath%5D%20to%20type%20%5Btype%5D%20in%20request%20options%22%3A%22%E5%B0%86%E8%AF%B7%E6%B1%82%E9%80%89%E9%A1%B9%E7%9A%84%5Bpath%5D%E8%AE%BE%E4%B8%BA%E7%B1%BB%E5%9E%8B%5Btype%5D%22%2C%22_set%20content%20type%20to%20%5Btype%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E5%86%85%E5%AE%B9%E7%B1%BB%E5%9E%8B%E4%B8%BA%5Btype%5D%22%2C%22_set%20headers%20to%20json%20%5Bjson%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%B8%BAjson%5Bjson%5D%22%2C%22_set%20request%20body%20to%20%5Btext%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E4%BD%93%E4%B8%BA%5Btext%5D%22%2C%22_set%20request%20method%20to%20%5Bmethod%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95%E4%B8%BA%5Bmethod%5D%22%2C%22_site%20responded%3F%22%3A%22%E7%BD%91%E7%AB%99%E5%93%8D%E5%BA%94%EF%BC%9F%22%2C%22_status%22%3A%22%E5%B0%81%E7%A6%81%E7%8A%B6%E6%80%81%22%2C%22_status%20text%22%3A%22%E7%8A%B6%E6%80%81%E6%96%87%E6%9C%AC%22%2C%22_type%20of%20%5Bpath%5D%20in%20request%20options%22%3A%22%E8%AF%B7%E6%B1%82%E9%80%89%E9%A1%B9%E4%B8%AD%5Bpath%5D%E7%9A%84%E7%B1%BB%E5%9E%8B%22%2C%22_when%20a%20request%20fails%22%3A%22%E5%BD%93%E6%9C%89%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%22%2C%22_when%20a%20site%20responds%22%3A%22%E5%BD%93%E6%9C%89%E7%BD%91%E7%AB%99%E5%93%8D%E5%BA%94%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%0A%20%20%20%20throw%20new%20Error(%22can%20not%20load%20out%20side%20unsandboxed%20mode%22)%3B%0A%0A%20%20const%20setType%20%3D%20(value%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20switch%20(typeof%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22function%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20String(value)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22object%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(value)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%7B%7D%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20switch%20(typeof%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20String(value)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Boolean(value)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22function%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22object%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20NaN%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20switch%20(typeof%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22function%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Boolean(value)%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22object%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22object%22%3A%0A%20%20%20%20%20%20%20%20switch%20(typeof%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsed%20%3D%20JSON.parse(value)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20parsed%20%3D%3D%3D%20%22object%22)%20return%20parsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22function%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22object%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20const%20parseType%20%3D%20(text)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20this%20isnt%20text%20and%20we%20just%20pass%20it%20down%20as%20what%20ever%20it%20is%0A%20%20%20%20if%20(typeof%20text%20!%3D%3D%20%22string%22)%20return%20text%3B%0A%20%20%20%20if%20(!isNaN(Number(text)))%20%7B%0A%20%20%20%20%20%20return%20Number(text)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20parsed%20%3D%20JSON.parse(text)%3B%0A%20%20%20%20%20%20%20%20if%20(typeof%20parsed%20%3D%3D%3D%20%22object%22)%20return%20parsed%3B%0A%20%20%20%20%20%20%20%20if%20(typeof%20parsed%20%3D%3D%3D%20%22boolean%22)%20return%20parsed%3B%0A%20%20%20%20%20%20%20%20return%20text%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20text%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20const%20getPathArray%20%3D%20(path)%20%3D%3E%20%7B%0A%20%20%20%20const%20names%20%3D%20path.split(%22.%22)%3B%0A%20%20%20%20for%20(let%20index%20%3D%200%3B%20index%20%3C%20names.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20let%20name%20%3D%20names%5Bindex%5D%3B%0A%20%20%20%20%20%20name%20%3D%20name.replaceAll(%2F(%3F%3C!%5C%5C)%26dot%2Fg%2C%20%22.%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20names%3B%0A%20%20%7D%3B%0A%20%20const%20getValueAtPath%20%3D%20(object%2C%20path)%20%3D%3E%20%7B%0A%20%20%20%20for%20(const%20name%20of%20path)%20%7B%0A%20%20%20%20%20%20object%20%3D%20object%3F.%5Bname%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20setType(object%2C%20%22string%22)%3B%0A%20%20%7D%3B%0A%20%20const%20setValueAtPath%20%3D%20(object%2C%20path%2C%20value)%20%3D%3E%20%7B%0A%20%20%20%20for%20(const%20name%20of%20path.slice(0%2C%20-1))%20%7B%0A%20%20%20%20%20%20object%20%3D%20object%5Bname%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20object%5Bpath.at(-1)%5D%20%3D%20value%3B%0A%20%20%7D%3B%0A%0A%20%20const%20%7B%20vm%20%7D%20%3D%20Scratch%3B%0A%20%20const%20%7B%20runtime%20%7D%20%3D%20vm%3B%0A%0A%20%20const%20extensionId%20%3D%20%22gsaHTTPRequests%22%3B%0A%0A%20%20%2F%2F%20the%20funny%20class%20to%20make%20event%20blocks%20look%20better%0A%20%20class%20Events%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20this.events%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20this.blocks%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20adds%20a%20event%20name%20listner%20for%20a%20block%0A%20%20%20%20%20*%20%40param%20%7Bstring%7D%20name%20name%20of%20the%20event%0A%20%20%20%20%20*%20%40param%20%7Bstring%7D%20%5Bblock%5D%20a%20block%20to%20run%20when%20trigered%0A%20%20%20%20%20*%2F%0A%20%20%20%20add(name%2C%20block)%20%7B%0A%20%20%20%20%20%20if%20(block)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!this.blocks%5Bname%5D)%20this.blocks%5Bname%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20this.blocks%5Bname%5D.push(block)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20activate%20an%20event%0A%20%20%20%20%20*%20%40param%20%7Bstring%7D%20name%20name%20of%20the%20event%0A%20%20%20%20%20*%2F%0A%20%20%20%20activate(name)%20%7B%0A%20%20%20%20%20%20this.events%5Bname%5D%20%3D%20true%3B%0A%20%20%20%20%20%20if%20(this.blocks%5Bname%5D)%20%7B%0A%20%20%20%20%20%20%20%20for%20(const%20block%20of%20this.blocks%5Bname%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20runtime.startHats(block)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20const%20createBlockId%20%3D%20(block)%20%3D%3E%20%60%24%7BextensionId%7D_%24%7Bblock%7D%60%3B%0A%0A%20%20%2F*%20-------%20BLOCKS%20--------%20*%2F%0A%20%20const%20%7B%20BlockType%2C%20Cast%2C%20ArgumentType%20%7D%20%3D%20Scratch%3B%0A%0A%20%20class%20WebRequests%20%7B%0A%20%20%20%20static%20get%20defaultRequest()%20%7B%0A%20%20%20%20%20%20const%20defaultRequest%20%3D%20%7B%0A%20%20%20%20%20%20%20%20events%3A%20new%20Events()%2C%0A%20%20%20%20%20%20%20%20get%20mimeType()%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this.options.headers%5B%22Content-Type%22%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20set%20mimeType(value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.headers%5B%22Content-Type%22%5D%20%3D%3D%3D%20%22multipart%2Fform-data%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20!%3D%3D%20%22multipart%2Fform-data%22%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.body%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.options.headers%5B%22Content-Type%22%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20set%20method(val)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.options.method%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20remove%20body%20on%20get%20requests%0A%20%20%20%20%20%20%20%20%20%20if%20(val%20%3D%3D%3D%20%22GET%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20this.options.body%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20get%20method()%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this.options.method%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20options%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Content-Type%22%3A%20%22text%2Fplain%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20method%3A%20%22GET%22%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20set%20body(val)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.method%20%3D%3D%3D%20%22GET%22)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20instanceof%20FormData%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20!(this.options.body%20instanceof%20FormData)%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.body%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.headers%5B%22Content-Type%22%5D%20%3D%20%22multipart%2Fform-data%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20!(val%20instanceof%20FormData)%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.body%20instanceof%20FormData%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.body%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.options.headers%5B%22Content-Type%22%5D%20%3D%20%22text%2Fplain%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.options.body%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20get%20body()%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this.options.body%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20end%3A%20false%2C%0A%20%20%20%20%20%20%20%20fail%3A%20false%2C%0A%20%20%20%20%20%20%20%20success%3A%20false%2C%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20defaultRequest.events.add(%22reqSuccess%22%2C%20createBlockId(%22onResponse%22))%3B%0A%20%20%20%20%20%20defaultRequest.events.add(%22reqFail%22%2C%20createBlockId(%22onFail%22))%3B%0A%0A%20%20%20%20%20%20return%20defaultRequest%3B%0A%20%20%20%20%7D%0A%20%20%20%20static%20get%20defaultResponse()%20%7B%0A%20%20%20%20%20%20const%20defaultResponse%20%3D%20%7B%0A%20%20%20%20%20%20%20%20text%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20status%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20statusText%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20headers%3A%20new%20Headers()%2C%0A%20%20%20%20%20%20%20%20error%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20url%3A%20%22%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20return%20defaultResponse%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20no%20need%20to%20install%20runtime%20as%20it%20comes%20with%20Scratch%20var%0A%20%20%20%20%20*%2F%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20this.clearAll()%3B%0A%20%20%20%20%20%20this.showingExtra%20%3D%20false%3B%0A%0A%20%20%20%20%20%20Scratch.vm.runtime.on(%22RUNTIME_DISPOSED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.clearAll()%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20extensionId%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20extension%2Fshould-translate%0A%20%20%20%20%20%20%20%20name%3A%20%22HTTP%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23307eff%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%232c5eb0%22%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearAll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22clear%20current%20data%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Response%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resData%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22response%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22error%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22error%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22status%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22status%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22statusText%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22status%20text%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getHeaderJSON%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22headers%20as%20json%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getHeaderValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bname%5D%20from%20header%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22requestComplete%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22site%20responded%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22requestFail%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22request%20failed%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22requestSuccess%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22request%20succeeded%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onResponse%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20a%20site%20responds%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onFail%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20a%20request%20fails%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Request%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setMimeType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22mimeType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20this.request.mimeType%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20content%20type%20to%20%5Btype%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setRequestmethod%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22method%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20this.request.method%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20request%20method%20to%20%5Bmethod%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setHeaderData%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Content-Type%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20this.request.mimeType%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22in%20header%20set%20%5Bname%5D%20to%20%5Bvalue%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setHeaderJSON%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%60%7B%22Content-Type%22%3A%20%22%24%7Bthis.request.mimeType%7D%22%7D%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20headers%20to%20json%20%5Bjson%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setBody%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22Apple!%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20request%20body%20to%20%5Btext%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setBodyToForm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20request%20body%20to%20multipart%20form%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFormProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bname%5D%20in%20multipart%20form%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFormProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5Bname%5D%20to%20%5Bvalue%5D%20in%20multipart%20form%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteFormProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22name%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20%5Bname%5D%20from%20multipart%20form%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sendRequest%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fhello.txt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22send%20request%20to%20%5Burl%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22showExtra%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Show%20Extra%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22hideExtra%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Hide%20Extra%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setUnkownProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22path.to.item%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22data%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5Bpath%5D%20to%20%5Bvalue%5D%20in%20request%20options%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setUnkownPropertyType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22path.to.item%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22jsTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20%5Bpath%5D%20to%20type%20%5Btype%5D%20in%20request%20options%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getUnkownProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22path.to.item%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bpath%5D%20in%20request%20options%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getUnkownPropertyType%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22path.to.item%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22type%20of%20%5Bpath%5D%20in%20request%20options%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!this.showingExtra%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20jsTypes%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22string%22%2C%20%22number%22%2C%20%22boolean%22%2C%20%22object%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20method%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22GET%22%2C%20%22POST%22%2C%20%22PUT%22%2C%20%22PATCH%22%2C%20%22DELETE%22%2C%20%22HEAD%22%2C%20%22OPTIONS%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20mimeType%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fjson%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fx-www-form-urlencoded%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fjavascript%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fogg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fpdf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fld%2Bjson%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fxml%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22application%2Fzip%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22audio%2Fmpeg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Fgif%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Fjpeg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Fpng%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Ftiff%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Fx-icon%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22image%2Fsvg%2Bxml%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22text%2Fcss%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22text%2Fcsv%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22text%2Fhtml%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22text%2Fplain%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22text%2Fxml%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fmpeg%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fmp4%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fx-ms-wmv%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fx-msvideo%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fx-flv%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22video%2Fwebm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20------%20RESETING%20-------%20*%2F%0A%0A%20%20%20%20clearAll()%20%7B%0A%20%20%20%20%20%20this.request%20%3D%20WebRequests.defaultRequest%3B%0A%20%20%20%20%20%20this.response%20%3D%20WebRequests.defaultResponse%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20-------%20DATA%20READING%20--------%20*%2F%0A%0A%20%20%20%20resData()%20%7B%0A%20%20%20%20%20%20return%20this.response.text%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20error()%20%7B%0A%20%20%20%20%20%20return%20this.response.error%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20status()%20%7B%0A%20%20%20%20%20%20return%20this.response.status%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestComplete()%20%7B%0A%20%20%20%20%20%20return%20this.request.end%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestFail()%20%7B%0A%20%20%20%20%20%20return%20this.request.fail%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestSuccess()%20%7B%0A%20%20%20%20%20%20return%20this.request.success%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20statusText()%20%7B%0A%20%20%20%20%20%20return%20this.response.statusText%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getHeaderValue(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.name)%3B%0A%20%20%20%20%20%20return%20this.response.get(name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getHeaderJSON()%20%7B%0A%20%20%20%20%20%20const%20object%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20for%20(const%20entry%20of%20this.response.headers.entries())%20%7B%0A%20%20%20%20%20%20%20%20object%5Bentry%5B0%5D%5D%20%3D%20entry%5B1%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20JSON.stringify(object)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20--------%20CONTROL%20---------%20*%2F%0A%0A%20%20%20%20setMimeType(args)%20%7B%0A%20%20%20%20%20%20const%20type%20%3D%20Cast.toString(args.type)%3B%0A%20%20%20%20%20%20this.request.mimeType%20%3D%20type%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setRequestmethod(args)%20%7B%0A%20%20%20%20%20%20const%20method%20%3D%20Cast.toString(args.method)%3B%0A%20%20%20%20%20%20this.request.method%20%3D%20method%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setHeaderData(args)%20%7B%0A%20%20%20%20%20%20const%20key%20%3D%20Cast.toString(args.name)%3B%0A%20%20%20%20%20%20const%20value%20%3D%20Cast.toString(args.value)%3B%0A%20%20%20%20%20%20this.request.options.headers%5Bkey%5D%20%3D%20value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setHeaderJSON(args)%20%7B%0A%20%20%20%20%20%20const%20json%20%3D%20Cast.toString(args.json)%3B%0A%20%20%20%20%20%20let%20object%3B%0A%20%20%20%20%20%20%2F%2F%20ignore%20invalid%20data%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20object%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(typeof%20object%20!%3D%3D%20%22object%22)%20return%3B%0A%20%20%20%20%20%20this.request.options.headers%20%3D%20object%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setBody(args)%20%7B%0A%20%20%20%20%20%20const%20body%20%3D%20Cast.toString(args.text)%3B%0A%20%20%20%20%20%20this.request.body%20%3D%20body%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setBodyToForm()%20%7B%0A%20%20%20%20%20%20this.request.body%20%3D%20new%20FormData()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFormProperty(args)%20%7B%0A%20%20%20%20%20%20if%20(!(this.request.options.body%20instanceof%20FormData))%20return%3B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.name)%3B%0A%20%20%20%20%20%20return%20this.request.body.get(name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFormProperty(args)%20%7B%0A%20%20%20%20%20%20if%20(!(this.request.options.body%20instanceof%20FormData))%20return%3B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.name)%3B%0A%20%20%20%20%20%20const%20value%20%3D%20Cast.toString(args.value)%3B%0A%20%20%20%20%20%20this.request.body.set(name%2C%20value)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteFormProperty(args)%20%7B%0A%20%20%20%20%20%20if%20(!(this.request.options.body%20instanceof%20FormData))%20return%3B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.name)%3B%0A%20%20%20%20%20%20this.request.body.delete(name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20sendRequest(args)%20%7B%0A%20%20%20%20%20%20const%20url%20%3D%20Cast.toString(args.url)%3B%0A%20%20%20%20%20%20const%20options%20%3D%20this.request.options%3B%0A%0A%20%20%20%20%20%20this.clearAll()%3B%0A%0A%20%20%20%20%20%20this.response.url%20%3D%20url%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20res%20%3D%20await%20Scratch.fetch(url%2C%20options)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20this.response.status%20%3D%20res.status%3B%0A%20%20%20%20%20%20%20%20this.response.headers%20%3D%20res.headers%3B%0A%20%20%20%20%20%20%20%20this.response.statusText%20%3D%20res.statusText%3B%0A%20%20%20%20%20%20%20%20if%20(res.ok)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.request.success%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20this.request.events.activate(%22reqSuccess%22)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.request.fail%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20this.request.events.activate(%22reqFail%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.request.end%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%20(res.headers.get(%22Content-Type%22)%20%3D%3D%3D%20%22multipart%2Fform-data%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20form%20%3D%20await%20res.formData()%3B%0A%20%20%20%20%20%20%20%20%20%20const%20json%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20%5Bkey%2C%20value%5D%20of%20form.entries())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20json%5Bkey%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.response.text%20%3D%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20await%20res.text()%3B%0A%20%20%20%20%20%20%20%20this.response.text%20%3D%20body%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20this.response.error%20%3D%20String(err)%3B%0A%20%20%20%20%20%20%20%20console.warn(%22request%20failed%20with%20error%22%2C%20err)%3B%0A%20%20%20%20%20%20%20%20this.request.fail%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.request.end%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.request.events.activate(%22reqFail%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20extra%20stuff%20for%20when%20its%20missing%20something%20*%2F%0A%0A%20%20%20%20showExtra()%20%7B%0A%20%20%20%20%20%20this.showingExtra%20%3D%20true%3B%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20hideExtra()%20%7B%0A%20%20%20%20%20%20this.showingExtra%20%3D%20false%3B%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setUnkownProperty(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.path)%3B%0A%20%20%20%20%20%20const%20text%20%3D%20Cast.toString(args.value)%3B%0A%0A%20%20%20%20%20%20const%20path%20%3D%20getPathArray(name)%3B%0A%20%20%20%20%20%20const%20value%20%3D%20parseType(text)%3B%0A%20%20%20%20%20%20setValueAtPath(this.request.options%2C%20path%2C%20value)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setUnkownPropertyType(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.path)%3B%0A%20%20%20%20%20%20const%20type%20%3D%20Cast.toString(args.type)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20getPathArray(name)%3B%0A%0A%20%20%20%20%20%20const%20oldValue%20%3D%20getValueAtPath(this.request.options%2C%20path)%3B%0A%20%20%20%20%20%20const%20newValue%20%3D%20setType(oldValue%2C%20type)%3B%0A%20%20%20%20%20%20setValueAtPath(this.request.options%2C%20path%2C%20newValue)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getUnkownProperty(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.path)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20getPathArray(name)%3B%0A%0A%20%20%20%20%20%20return%20getValueAtPath(this.request.options%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getUnkownPropertyType(args)%20%7B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.path)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20getPathArray(name)%3B%0A%20%20%20%20%20%20const%20value%20%3D%20getValueAtPath(this.request.options%2C%20path)%3B%0A%0A%20%20%20%20%20%20return%20typeof%20value%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20const%20instance%20%3D%20new%20WebRequests()%3B%0A%20%20%2F%2F%20%40ts-ignore%0A%20%20Scratch.extensions.register(instance)%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.isProjectPermissionManagerDisabled = true;
      
    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (false) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
